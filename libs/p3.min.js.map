{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/ismobilejs/isMobile.js","p3.min.js","src/audio/Audio.js","src/audio/AudioManager.js","src/camera/Camera.js","src/camera/CameraLayer.js","src/core/AssetManager.js","src/core/Button.js","src/core/ButtonManager.js","src/core/ButtonStates.js","src/core/Input.js","src/core/MovieClip.js","src/core/MovieClipSequence.js","src/core/MuteButton.js","src/core/Scene.js","src/core/SceneManager.js","src/core/View.js","src/core/const.js","src/core/index.js","src/src/index.js","src/math/Color.js","src/math/Vector2.js","src/math/index.js","src/transition/FadeTransition.js","src/transition/Transition.js","src/utils/ObjectPool.js","src/utils/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","global","apple_phone","apple_ipod","apple_tablet","android_phone","android_tablet","amazon_phone","amazon_tablet","windows_phone","windows_tablet","other_blackberry","other_blackberry_10","other_opera","other_chrome","other_firefox","seven_inch","RegExp","match","regex","userAgent","test","IsMobileClass","ua","navigator","tmp","split","this","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","window","instantiate","IM","Class","define","amd","isMobile","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Audio","id","howl","_id","_howl","_onend","off","stop","play","pause","get","3","_interopRequireDefault","obj","__esModule","default","_Audio","_Audio2","AudioManager","_cache","_music","_isMute","hidden","document","visibilityChange","mozHidden","msHidden","webkitHidden","addEventListener","Howler","volume","sounds","extensions","basePath","url","name","urls","j","extension","push","join","Howl","src","loop","autoplay","sprite","isSoundSprite","_i","hasOwnProperty","params","assign","destroyOnComplete","P3","utils","selectRandom","console","warn","audio","callback","scope","destroy","on","delay","fadeIn","fadeOut","mute","duration","arguments","undefined","__volume","TweenMax","killTweensOf","to","ease","Power1","easeInOut","onUpdate","onUpdateScope","onComplete","onCompleteParams","onCompleteScope","./Audio","4","_AudioManager","./AudioManager","5","Camera","view","snapToPixel","signals","trackStart","Signal","trackStop","PIXI","Point","bounds","Rectangle","Number","MAX_SAFE_INTEGER","offset","_position","_target","_layers","_ease","_parallax","_tracking","dispose","removeAllLayers","dt","pos","x","y","_clampToBounds","_shakeTime","_shakeStrength","math","randomInt","_shakeDuration","Math","max","dx","dy","abs","round","d","dispatch","updateLayers","layer","parallax","len","removeLayer","indexOf","splice","reset","findLayer","clone","strength","displayObject","searchChildren","recursive","_i2","children","child","result","position","width","height","set","slice","6","CameraLayer","_view","7","_Camera","_CameraLayer","./Camera","./CameraLayer","8","AssetManager","progress","complete","error","_loader","loaders","Loader","_onLoaderProgress","_onLoaderComplete","_onLoaderError","_manifest","_resources","graphics","Graphics","beginFill","drawRect","endFill","lineStyle","moveTo","lineTo","_fallbackTexture","generateTexture","Texture","EMPTY","files","path","concat","add","load","resource","texture","TextureCache","fromFrame","data","copyObject","spineData","loader","resources","9","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_ButtonStates","_ButtonStates2","_ismobilejs","_ismobilejs2","Button","_PIXI$Container","states","_this","down","up","over","out","click","animate","focus","unfocus","animateIcon","defaultScale","animateOverScale","animateDownScale","upSoundName","overSoundName","downSoundName","clickSoundName","_states","_background","Sprite","normal","anchor","addChild","_icon","icon","_focus","visible","_shortcutIcon","_currentNormalTexture","_currentOverTexture","_currentDownTexture","_currentIconTexture","_currentIconOverTexture","iconOver","_currentIconDownTexture","iconDown","_tweenOver","_tweenOut","_tweenDown","_enabled","_focused","interactive","buttonMode","mousedown","touchstart","_onMouseDown","bind","mouseup","touchend","_onMouseUp","mouseupoutside","touchendoutside","_onMouseOut","tap","_onMouseClick","mouseover","_onMouseOver","mouseout","scale","event","tweens","getTweensOf","kill","animateDown","playSound","animateOut","animateOver","Elastic","easeOut","easeParams","Back","normalInactive","overInactive","downInactive","iconInactive","iconOverInactive","iconDownInactive","tint","Container","./ButtonStates","ismobilejs","10","ButtonManager","input","_input","_buttons","_currentFocus","button","isKeyPressed","_selectLeft","_selectRight","_selectUp","_selectDown","_button","log","11","ButtonStates","normalAlt","overAlt","downAlt","iconAlt","iconOverAlt","iconDownAlt","normalInactiveAlt","overInactiveAlt","downInactiveAlt","iconInactiveAlt","12","_Vector","_Vector2","Input","mouseMove","mouseDown","mouseUp","mouseClick","keyDown","keyUp","swipeLeft","swipeRight","swipeUp","swipeDown","orientation","_stage","_keyMap","_keyBuffer","_touch","_swipeStart","_swipeTime","_orientation","gamma","beta","alpha","stage","keyListener","mousemove","touchmove","_onMouseMove","onkeydown","_onKeyDown","onkeyup","_onKeyUp","onclick","_onDeviceOrientation","removeEventListener","keyCode","getLocalPosition","performance","now","swipe","distance","lengthSq","minimum","normalize","left","dot","right","keys","LEFT","RIGHT","UP","DOWN","SPACE","preventDefault","isKeyDown","W","A","S","D","Z","X","C","ENTER","../math/Vector2","13","_MovieClipSequence","MovieClip","_PIXI$Sprite","sequence","defaultAnimation","autoUpdate","textures","animationSpeed","looping","animation","animationComplete","_frames","_playing","_defaultAnimation","_currentFrame","_lastFrame","_currentAnimationName","_autoUpdate","options","frame","frames","getTotalFrames","settings","TARGET_FPMS","index","gotoAndStop","ticker","shared","remove","update","./MovieClipSequence","14","MovieClipSequence","addTextures","15","_Button2","_Button3","MuteButton","_Button","isEnabled","isMute","./Button","16","Scene","next","previous","home","loaded","alwaysUpdate","autoAppear","_tweens","killAllTweens","animateIn","tween","addTween","removeTween","resume","17","_Scene","SceneManager","renderer","_renderer","_next","_stack","scene","type","replace","count","removeCount","_transitionInProgress","hide","removeChild","_nextScene","top","resize","_removeTop","min","init","show","appear","unload","pop","./Scene","18","View","ready","_options","holderId","portrait","rotateImageColor","aspectRatioFillHeight","_holder","_canvas","_iosfix","_rotateImage","_targetOrientation","readyState","onload","_onLoad","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","style","parseInt","scrollTo","ratioW","ratioH","_updateDimensions","floor","_ratioW","_ratioH","toggleRotate","isCorrectOrientation","display","getElementById","createElement","body","appendChild","holder","bottom","visibility","iosfix","cssText","tabIndex","overflow","canvas","marginLeft","marginRight","zIndex","backgroundImage","rotateImageUrl","backgroundColor","backgroundPosition","backgroundRepeat","backgroundSize","_width","_height","center","stopPropagation","stopImmediatePropagation","_createHolder","_createCanvas","_createRotateImage","_disableInteractions","updateDimensions","_onOrientationChange","_onResize","that","setTimeout","listener","19","PI_2","PI","RAD_TO_DEG","DEG_TO_RAD","20","_const","forEach","_AssetManager","_ButtonManager","_Input","_MovieClip","_MuteButton","_SceneManager","_View","./AssetManager","./ButtonManager","./Input","./MovieClip","./MuteButton","./SceneManager","./View","./const","21","_interopRequireWildcard","newObj","_audio","_camera","_core","_math","_transition","_utils","./audio","./camera","./core","./math","./transition","./utils","22","Color","hex","_r","_g","_b","_a","_h","_s","_v","setHex","hexNumberToString","shorthandRegex","m","g","b","exec","_updateHSV","color","h","v","setRGB","_updateRGB","random","toPrecision","_normalize","p","q","maxC","minC","delta","dR","dG","dB","toString","pad","substring","23","Vector2","atan2","angle","cos","sin","rotate","sqrt","24","randomBool","randomSign","roundNum","decimalPlaces","decimals","pow","sign","clamp","lerp","fmod","_Color","./Color","./Vector2","25","_Transition2","_Transition3","FadeTransition","_Transition","_color","_duration","_quad","Power2","clear","./Transition","26","Transition","27","_FadeTransition","./FadeTransition","28","ObjectPool","size","args","_t","_args","_free","_used","expand","_object","apply","shift","29","original","deep","copy","copyOwnPropertiesFrom","source","getOwnPropertyNames","_typeof","padNum","num","zeros","zeroStr","substr","arr","isCocoonJS","Symbol","iterator","_ObjectPool","./ObjectPool"],"mappings":"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","file":"p3.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * isMobile.js v0.4.1\n *\n * A simple library to detect Apple phones and tablets,\n * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),\n * and any kind of seven inch device, via user agent sniffing.\n *\n * @author: Kai Mallea (kmallea@gmail.com)\n *\n * @license: http://creativecommons.org/publicdomain/zero/1.0/\n */\n(function (global) {\n\n    var apple_phone         = /iPhone/i,\n        apple_ipod          = /iPod/i,\n        apple_tablet        = /iPad/i,\n        android_phone       = /(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i, // Match 'Android' AND 'Mobile'\n        android_tablet      = /Android/i,\n        amazon_phone        = /(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i,\n        amazon_tablet       = /(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i,\n        windows_phone       = /Windows Phone/i,\n        windows_tablet      = /(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i, // Match 'Windows' AND 'ARM'\n        other_blackberry    = /BlackBerry/i,\n        other_blackberry_10 = /BB10/i,\n        other_opera         = /Opera Mini/i,\n        other_chrome        = /(CriOS|Chrome)(?=.*\\bMobile\\b)/i,\n        other_firefox       = /(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i, // Match 'Firefox' AND 'Mobile'\n        seven_inch = new RegExp(\n            '(?:' +         // Non-capturing group\n\n            'Nexus 7' +     // Nexus 7\n\n            '|' +           // OR\n\n            'BNTV250' +     // B&N Nook Tablet 7 inch\n\n            '|' +           // OR\n\n            'Kindle Fire' + // Kindle Fire\n\n            '|' +           // OR\n\n            'Silk' +        // Kindle Fire, Silk Accelerated\n\n            '|' +           // OR\n\n            'GT-P1000' +    // Galaxy Tab 7 inch\n\n            ')',            // End non-capturing group\n\n            'i');           // Case-insensitive matching\n\n    var match = function(regex, userAgent) {\n        return regex.test(userAgent);\n    };\n\n    var IsMobileClass = function(userAgent) {\n        var ua = userAgent || navigator.userAgent;\n\n        // Facebook mobile app's integrated browser adds a bunch of strings that\n        // match everything. Strip it out if it exists.\n        var tmp = ua.split('[FBAN');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n        // iPhone\" string. Same probable happens on other tablet platforms.\n        // This will confuse detection so strip it out if it exists.\n        tmp = ua.split('Twitter');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        this.apple = {\n            phone:  match(apple_phone, ua),\n            ipod:   match(apple_ipod, ua),\n            tablet: !match(apple_phone, ua) && match(apple_tablet, ua),\n            device: match(apple_phone, ua) || match(apple_ipod, ua) || match(apple_tablet, ua)\n        };\n        this.amazon = {\n            phone:  match(amazon_phone, ua),\n            tablet: !match(amazon_phone, ua) && match(amazon_tablet, ua),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua)\n        };\n        this.android = {\n            phone:  match(amazon_phone, ua) || match(android_phone, ua),\n            tablet: !match(amazon_phone, ua) && !match(android_phone, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua) || match(android_phone, ua) || match(android_tablet, ua)\n        };\n        this.windows = {\n            phone:  match(windows_phone, ua),\n            tablet: match(windows_tablet, ua),\n            device: match(windows_phone, ua) || match(windows_tablet, ua)\n        };\n        this.other = {\n            blackberry:   match(other_blackberry, ua),\n            blackberry10: match(other_blackberry_10, ua),\n            opera:        match(other_opera, ua),\n            firefox:      match(other_firefox, ua),\n            chrome:       match(other_chrome, ua),\n            device:       match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)\n        };\n        this.seven_inch = match(seven_inch, ua);\n        this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;\n\n        // excludes 'other' devices and ipods, targeting touchscreen phones\n        this.phone = this.apple.phone || this.android.phone || this.windows.phone;\n\n        // excludes 7 inch devices, classifying as phone or tablet is left to the user\n        this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;\n\n        if (typeof window === 'undefined') {\n            return this;\n        }\n    };\n\n    var instantiate = function() {\n        var IM = new IsMobileClass();\n        IM.Class = IsMobileClass;\n        return IM;\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof window === 'undefined') {\n        //node\n        module.exports = IsMobileClass;\n    } else if (typeof module !== 'undefined' && module.exports && typeof window !== 'undefined') {\n        //browserify\n        module.exports = instantiate();\n    } else if (typeof define === 'function' && define.amd) {\n        //AMD\n        define('isMobile', [], global.isMobile = instantiate());\n    } else {\n        global.isMobile = instantiate();\n    }\n\n})(this);\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\n * isMobile.js v0.4.1\n *\n * A simple library to detect Apple phones and tablets,\n * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),\n * and any kind of seven inch device, via user agent sniffing.\n *\n * @author: Kai Mallea (kmallea@gmail.com)\n *\n * @license: http://creativecommons.org/publicdomain/zero/1.0/\n */\n(function (global) {\n\n    var apple_phone         = /iPhone/i,\n        apple_ipod          = /iPod/i,\n        apple_tablet        = /iPad/i,\n        android_phone       = /(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i, // Match 'Android' AND 'Mobile'\n        android_tablet      = /Android/i,\n        amazon_phone        = /(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i,\n        amazon_tablet       = /(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i,\n        windows_phone       = /Windows Phone/i,\n        windows_tablet      = /(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i, // Match 'Windows' AND 'ARM'\n        other_blackberry    = /BlackBerry/i,\n        other_blackberry_10 = /BB10/i,\n        other_opera         = /Opera Mini/i,\n        other_chrome        = /(CriOS|Chrome)(?=.*\\bMobile\\b)/i,\n        other_firefox       = /(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i, // Match 'Firefox' AND 'Mobile'\n        seven_inch = new RegExp(\n            '(?:' +         // Non-capturing group\n\n            'Nexus 7' +     // Nexus 7\n\n            '|' +           // OR\n\n            'BNTV250' +     // B&N Nook Tablet 7 inch\n\n            '|' +           // OR\n\n            'Kindle Fire' + // Kindle Fire\n\n            '|' +           // OR\n\n            'Silk' +        // Kindle Fire, Silk Accelerated\n\n            '|' +           // OR\n\n            'GT-P1000' +    // Galaxy Tab 7 inch\n\n            ')',            // End non-capturing group\n\n            'i');           // Case-insensitive matching\n\n    var match = function(regex, userAgent) {\n        return regex.test(userAgent);\n    };\n\n    var IsMobileClass = function(userAgent) {\n        var ua = userAgent || navigator.userAgent;\n\n        // Facebook mobile app's integrated browser adds a bunch of strings that\n        // match everything. Strip it out if it exists.\n        var tmp = ua.split('[FBAN');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n        // iPhone\" string. Same probable happens on other tablet platforms.\n        // This will confuse detection so strip it out if it exists.\n        tmp = ua.split('Twitter');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        this.apple = {\n            phone:  match(apple_phone, ua),\n            ipod:   match(apple_ipod, ua),\n            tablet: !match(apple_phone, ua) && match(apple_tablet, ua),\n            device: match(apple_phone, ua) || match(apple_ipod, ua) || match(apple_tablet, ua)\n        };\n        this.amazon = {\n            phone:  match(amazon_phone, ua),\n            tablet: !match(amazon_phone, ua) && match(amazon_tablet, ua),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua)\n        };\n        this.android = {\n            phone:  match(amazon_phone, ua) || match(android_phone, ua),\n            tablet: !match(amazon_phone, ua) && !match(android_phone, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua) || match(android_phone, ua) || match(android_tablet, ua)\n        };\n        this.windows = {\n            phone:  match(windows_phone, ua),\n            tablet: match(windows_tablet, ua),\n            device: match(windows_phone, ua) || match(windows_tablet, ua)\n        };\n        this.other = {\n            blackberry:   match(other_blackberry, ua),\n            blackberry10: match(other_blackberry_10, ua),\n            opera:        match(other_opera, ua),\n            firefox:      match(other_firefox, ua),\n            chrome:       match(other_chrome, ua),\n            device:       match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)\n        };\n        this.seven_inch = match(seven_inch, ua);\n        this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;\n\n        // excludes 'other' devices and ipods, targeting touchscreen phones\n        this.phone = this.apple.phone || this.android.phone || this.windows.phone;\n\n        // excludes 7 inch devices, classifying as phone or tablet is left to the user\n        this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;\n\n        if (typeof window === 'undefined') {\n            return this;\n        }\n    };\n\n    var instantiate = function() {\n        var IM = new IsMobileClass();\n        IM.Class = IsMobileClass;\n        return IM;\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof window === 'undefined') {\n        //node\n        module.exports = IsMobileClass;\n    } else if (typeof module !== 'undefined' && module.exports && typeof window !== 'undefined') {\n        //browserify\n        module.exports = instantiate();\n    } else if (typeof define === 'function' && define.amd) {\n        //AMD\n        define('isMobile', [], global.isMobile = instantiate());\n    } else {\n        global.isMobile = instantiate();\n    }\n\n})(this);\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3.audio\r\n */\nvar Audio = function () {\n    /**\r\n     * @param {number} id\r\n     * @param {Howl} howl\r\n     */\n    function Audio(id, howl) {\n        _classCallCheck(this, Audio);\n\n        /**\r\n         * @member {number}\r\n         */\n        this._id = id;\n\n        /**\r\n         * @member {Howl}\r\n         */\n        this._howl = howl;\n    }\n\n    _createClass(Audio, [{\n        key: \"destroy\",\n        value: function destroy() {\n            this._onend && this.howl.off(\"end\", this._onend);\n            this.stop();\n        }\n    }, {\n        key: \"play\",\n        value: function play() {\n            this.howl.play(this.id);\n        }\n    }, {\n        key: \"stop\",\n        value: function stop() {\n            this.howl.stop(this.id);\n        }\n    }, {\n        key: \"pause\",\n        value: function pause() {\n            this.howl.pause(this.id);\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"id\",\n        get: function get() {\n            return this._id;\n        }\n\n        /**\r\n         * @returns {Howl}\r\n         */\n\n    }, {\n        key: \"howl\",\n        get: function get() {\n            return this._howl;\n        }\n    }]);\n\n    return Audio;\n}();\n\nexports.default = Audio;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Audio = require(\"./Audio\");\n\nvar _Audio2 = _interopRequireDefault(_Audio);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3.audio\r\n */\nvar AudioManager = function () {\n    function AudioManager() {\n        _classCallCheck(this, AudioManager);\n\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\n        this._cache = {};\n\n        /**\r\n         * @member {Audio}\r\n         * @private\r\n         */\n        this._music = null;\n\n        /**\r\n         * @member {boolean}\r\n         * @private\r\n         */\n        this._isMute = false;\n\n        var hidden = void 0;\n        \"undefined\" !== typeof document.hidden ? (hidden = \"hidden\", this.visibilityChange = \"visibilitychange\") : \"undefined\" !== typeof document.mozHidden ? (hidden = \"mozHidden\", this.visibilityChange = \"mozvisibilitychange\") : \"undefined\" !== typeof document.msHidden ? (hidden = \"msHidden\", this.visibilityChange = \"msvisibilitychange\") : \"undefined\" !== typeof document.webkitHidden && (hidden = \"webkitHidden\", this.visibilityChange = \"webkitvisibilitychange\");\n\n        document.addEventListener(this.visibilityChange, function () {\n            document[hidden] ? Howler.volume(0) : Howler.volume(1);\n        }, false);\n    }\n\n    /**\r\n     * @param {Array.<string>} sounds\r\n     * @param {Array.<string>} extensions\r\n     * @param {string} [basePath]\r\n     */\n\n\n    _createClass(AudioManager, [{\n        key: \"addSounds\",\n        value: function addSounds(sounds, extensions, basePath) {\n            basePath = basePath || \"\";\n\n            for (var i = 0; i < sounds.length; ++i) {\n                var url = basePath + sounds[i];\n                url = url.split(\"/\");\n                var name = url[url.length - 1];\n\n                var urls = [];\n                for (var j = 0; j < extensions.length; ++j) {\n                    var extension = extensions[j];\n                    urls.push(url.join(\"/\") + extension);\n                }\n                var howl = new Howl({\n                    src: urls,\n                    volume: 1.0,\n                    loop: false,\n                    autoplay: false\n                });\n                howl.name = name;\n                this._cache[name] = howl;\n            }\n        }\n\n        /**\r\n         * @param {string} name\r\n         * @param {string} sprite\r\n         * @param {Array.<string>} extensions\r\n         * @param {string} [basePath]\r\n         */\n\n    }, {\n        key: \"addSoundSprite\",\n        value: function addSoundSprite(name, sprite, extensions, basePath) {\n            basePath = basePath || \"\";\n\n            var url = basePath + name;\n            url = url.split(\"/\");\n\n            var urls = [];\n            for (var i = 0; i < extensions.length; ++i) {\n                var extension = extensions[i];\n                urls.push(url.join(\"/\") + extension);\n            }\n\n            var howl = new Howl({\n                src: urls,\n                sprite: sprite,\n                volume: 1,\n                loop: false,\n                autoplay: false\n            });\n            howl.isSoundSprite = true;\n            for (var _i in sprite) {\n                if (sprite.hasOwnProperty(_i)) {\n                    this._cache[_i] = howl;\n                }\n            }\n        }\n\n        /**\r\n         * @param name\r\n         * @param {object} params\r\n         * @param {number} [params.volume=1]\r\n         * @param {boolean} [params.loop=false]\r\n         * @param {function} [params.callback]\r\n         * @param {*} [params.scope]\r\n         * @param {boolean} [params.destroyOnComplete=false] Destroys the audio once the callback has fired.\r\n         */\n\n    }, {\n        key: \"playSound\",\n        value: function playSound(name, params) {\n            params = Object.assign({}, { volume: 1, loop: false, destroyOnComplete: false }, params);\n            if (typeof name !== \"string\") {\n                name = P3.utils.selectRandom(name);\n            }\n\n            var id = -1;\n            var howl = this._cache[name];\n            if (!howl) {\n                console.warn(\"Could not find sound - \" + name);\n                return id;\n            }\n\n            id = howl.isSoundSprite ? howl.play(name) : howl.play();\n            howl.volume(params.volume || 1, id);\n            howl.loop(params.loop || false, id);\n\n            var audio = new _Audio2.default(id, howl);\n            if (params.callback) {\n                audio._onend = function () {\n                    params.callback.call(params.scope || window);\n                    if (params.destroyOnComplete) {\n                        audio.destroy();\n                    }\n                };\n                howl.on(\"end\", audio._onend);\n            }\n            return audio;\n        }\n\n        /**\r\n         * @param name\r\n         * @param {object} params\r\n         * @param {number} [params.volume=1]\r\n         * @param {number} [params.delay=0]\r\n         * @param {number} [params.fadeIn=0]\r\n         * @param {function} [params.callback]\r\n         * @param {*} [params.scope]\r\n         */\n\n    }, {\n        key: \"playMusic\",\n        value: function playMusic(name, params) {\n            params = Object.assign({}, { volume: 1, delay: 0, fadeIn: 0 }, params);\n            if (typeof name !== \"string\") {\n                name = P3.utils.selectRandom(name);\n            }\n\n            var id = -1;\n\n            // skip if no change\n            if (this._music && this._music.howl.name === name) {\n                return this._music;\n            }\n\n            var howl = this._cache[name];\n            if (!howl) {\n                console.warn(\"Could not find music - \" + name);\n                return null;\n            }\n\n            id = howl.play();\n            howl.volume(params.volume || 1, id);\n            howl.loop(true, id);\n\n            var audio = new _Audio2.default(id, howl);\n            if (params.callback) {\n                audio._onend = function () {\n                    params.callback.call(params.scope);\n                };\n                howl.on(\"end\", audio._onend);\n            }\n\n            if ((params.fadeIn || 0) > 0) {\n                if (this._music) {\n                    this.fadeOut(this._music, params.fadeIn, function (audio) {\n                        audio.destroy();\n                    }, this);\n                }\n                this.fadeIn(audio, params.fadeIn);\n            } else if (this._music) {\n                this._music.destroy();\n            }\n\n            this._music = audio;\n            return audio;\n        }\n    }, {\n        key: \"stopMusic\",\n        value: function stopMusic() {\n            if (!this._music) return;\n            this._music.destroy();\n            this._music = null;\n        }\n\n        /**\r\n         * @param {boolean} value\r\n         */\n\n    }, {\n        key: \"mute\",\n        value: function mute(value) {\n            this._isMute = value;\n            if (this._isMute) {\n                Howler.mute(true);\n            } else {\n                Howler.mute(false);\n            }\n        }\n\n        /**\r\n         * @param {Audio} audio\r\n         * @param {number} [duration=1]\r\n         * @param {function} [callback]\r\n         * @param {*} [scope]\r\n         */\n\n    }, {\n        key: \"fadeIn\",\n        value: function fadeIn(audio) {\n            var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n            var callback = arguments[2];\n            var scope = arguments[3];\n\n            var volume = audio.howl.volume(audio.id);\n            audio.howl.volume(0, audio.id);\n            audio.__volume = 0;\n\n            TweenMax.killTweensOf(audio);\n            TweenMax.to(audio, duration, {\n                __volume: volume,\n                ease: Power1.easeInOut,\n                onUpdate: function onUpdate() {\n                    audio.howl.volume(audio.__volume, audio.id);\n                },\n                onUpdateScope: this,\n                onComplete: callback,\n                onCompleteParams: [audio],\n                onCompleteScope: scope\n            });\n        }\n\n        /**\r\n         * @param {Audio} audio\r\n         * @param {number} [duration=1]\r\n         * @param {function} [callback]\r\n         * @param {*} [scope]\r\n         */\n\n    }, {\n        key: \"fadeOut\",\n        value: function fadeOut(audio) {\n            var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n            var callback = arguments[2];\n            var scope = arguments[3];\n\n            audio.__volume = audio.howl.volume(audio.id);\n\n            TweenMax.killTweensOf(audio);\n            TweenMax.to(audio, duration, {\n                __volume: 0,\n                ease: Power1.easeInOut,\n                onUpdate: function onUpdate() {\n                    audio.howl.volume(audio.__volume, audio.id);\n                },\n                onUpdateScope: this,\n                onComplete: callback,\n                onCompleteParams: [audio],\n                onCompleteScope: scope\n            });\n        }\n\n        /**\r\n         * @returns {Audio}\r\n         */\n\n    }, {\n        key: \"music\",\n        get: function get() {\n            return this._music;\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"isMute\",\n        get: function get() {\n            return this._isMute;\n        }\n    }]);\n\n    return AudioManager;\n}();\n\nexports.default = AudioManager;\n\n},{\"./Audio\":2}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Audio = require(\"./Audio\");\n\nObject.defineProperty(exports, \"Audio\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Audio).default;\n  }\n});\n\nvar _AudioManager = require(\"./AudioManager\");\n\nObject.defineProperty(exports, \"AudioManager\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AudioManager).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./Audio\":2,\"./AudioManager\":3}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf p3.camera\r\n */\nvar Camera = function () {\n    /**\r\n     * @param {PIXI.Point} [view]\r\n     * @param {boolean} [snapToPixel]\r\n     */\n    function Camera(view) {\n        var snapToPixel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _classCallCheck(this, Camera);\n\n        /**\r\n         * @member {Object}\r\n         * @member {signals.Signal} signals.trackStart\r\n         * @member {signals.Signal} signals.trackStop\r\n         */\n        this.signals = {\n            trackStart: new signals.Signal(),\n            trackStop: new signals.Signal()\n        };\n\n        /**\r\n         * @member {PIXI.Point}\r\n         */\n        this.view = view || new PIXI.Point();\n\n        /**\r\n         * @member {PIXI.Rectangle}\r\n         */\n        this.bounds = new PIXI.Rectangle(-(Number.MAX_SAFE_INTEGER * 0.5), -(Number.MAX_SAFE_INTEGER * 0.5), Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);\n\n        /**\r\n         * @member {PIXI.Point}\r\n         */\n        this.offset = new PIXI.Point();\n\n        /**\r\n         * @member {boolean}\r\n         */\n        this.snapToPixel = snapToPixel;\n\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\n        this._position = new PIXI.Point();\n\n        /**\r\n         * @member {*}\r\n         * @private\r\n         */\n        this._target = null;\n\n        /**\r\n         * @member {Array.<CameraLayer>}\r\n         * @private\r\n         */\n        this._layers = [];\n\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\n        this._ease = new PIXI.Point(0.2, 0.2);\n\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\n        this._parallax = new PIXI.Point(1, 1);\n\n        /**\r\n         * @member {boolean}\r\n         * @private\r\n         */\n        this._tracking = false;\n    }\n\n    /**\r\n     */\n\n\n    _createClass(Camera, [{\n        key: \"destroy\",\n        value: function destroy() {\n            this.signals.trackStart.dispose();\n            this.signals.trackStop.dispose();\n\n            this.removeAllLayers();\n        }\n\n        /**\r\n         * @param {number} dt\r\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(dt) {\n            var pos = this._target ? new PIXI.Point(this._target.x + this.offset.x, this._target.y + this.offset.y) : new PIXI.Point();\n\n            this._clampToBounds(pos);\n\n            if (this._shakeTime > 0) {\n                pos.x += this._shakeStrength * P3.math.randomInt(-1, 1) * (this._shakeTime / this._shakeDuration);\n                pos.y += this._shakeStrength * P3.math.randomInt(-1, 1) * (this._shakeTime / this._shakeDuration);\n                this._shakeTime = Math.max(0, this._shakeTime - dt);\n            }\n\n            var dx = pos.x - this._position.x * this._parallax.x;\n            var dy = pos.y - this._position.y * this._parallax.y;\n\n            this._position.x += dx * (this._ease.x * (1 / this._parallax.x));\n            this._position.y += dy * (this._ease.y * (1 / this._parallax.y));\n\n            if (Math.abs(dx) < 0.01) this._position.x = pos.x;\n            if (Math.abs(dy) < 0.01) this._position.y = pos.y;\n\n            if (this.snapToPixel) {\n                this._position.x = Math.round(this._position.x);\n                this._position.y = Math.round(this._position.y);\n            }\n\n            var d = dx * dx + dy * dy;\n            if (d < 0.1 && !this._tracking) {\n                this._tracking = true;\n                this.signals.trackStop.dispatch(this);\n            } else if (d > 0.1 && this._tracking) {\n                this._tracking = false;\n                this.signals.trackStart.dispatch(this);\n            }\n            this.updateLayers();\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"updateLayers\",\n        value: function updateLayers() {\n            for (var i = 0; i < this._layers.length; ++i) {\n                var layer = this._layers[i];\n                layer.view.x = this._position.x * -layer.parallax.x + this.view.x - this.view.x * (1 - layer.parallax.x);\n                layer.view.y = this._position.y * -layer.parallax.y + this.view.y - this.view.y * (1 - layer.parallax.y);\n            }\n        }\n\n        /**\r\n         * @param {...CameraLayer} layer - The layer(s) to add to the camera.\r\n         * @returns {CameraLayer} The first layer that was added.\r\n         */\n\n    }, {\n        key: \"addLayer\",\n        value: function addLayer(layer) {\n            var len = arguments.length;\n            if (len > 1) {\n                for (var i = 0; i < len; ++i) {\n                    this._layers.push(arguments[i]);\n                }\n            } else {\n                this._layers.push(layer);\n            }\n\n            this.updateLayers();\n            return layer;\n        }\n\n        /**\r\n         * @param {...CameraLayer} layer - The layer(s) to remove from the camera.\r\n         * @returns {CameraLayer} The first layer that was added.\r\n         */\n\n    }, {\n        key: \"removeLayer\",\n        value: function removeLayer(layer) {\n            var len = arguments.length;\n            if (len > 1) {\n                for (var i = len - 1; i >= 0; --i) {\n                    this.removeLayer(arguments[i]);\n                }\n            } else {\n                var _i = this._layers.indexOf(layer);\n                if (_i !== -1) {\n                    this._layers.splice(_i, 1);\n                } else {\n                    throw new Error(\"Layer does not exit!\");\n                }\n            }\n            return layer;\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"removeAllLayers\",\n        value: function removeAllLayers() {\n            this._layers = [];\n        }\n\n        /**\r\n         * @param {*} target\r\n         * @param {boolean} [reset=false]\r\n         */\n\n    }, {\n        key: \"setTarget\",\n        value: function setTarget(target) {\n            var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            this._target = target;\n\n            var layer = this.findLayer(this._target, true);\n            this._parallax.x = layer ? layer.parallax.x : 1;\n            this._parallax.y = layer ? layer.parallax.y : 1;\n\n            if (reset) {\n                var pos = this._target ? new PIXI.Point(this._target.x + this.offset.x, this._target.y + this.offset.y) : this._position.clone();\n\n                this._clampToBounds(pos);\n                this._position.x = pos.x;\n                this._position.y = pos.y;\n                this.updateLayers();\n            }\n        }\n\n        /**\r\n         * @param {number} duration\r\n         * @param {number} strength\r\n         */\n\n    }, {\n        key: \"shake\",\n        value: function shake(duration, strength) {\n            this._shakeTime = this._shakeDuration = duration;\n            this._shakeStrength = strength;\n        }\n\n        /**\r\n         * @param {PIXI.DisplayObject} displayObject\r\n         * @param {boolean} [recursive=false]\r\n         */\n\n    }, {\n        key: \"findLayer\",\n        value: function findLayer(displayObject) {\n            var recursive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            var result = null;\n            for (var i = 0; i < this._layers.length; ++i) {\n                var layer = this._layers[i];\n                if (layer.view === displayObject || searchChildren.call(this, layer.view, recursive)) {\n                    result = layer;\n                }\n            }\n            function searchChildren(displayObject, recursive) {\n                for (var _i2 = 0; _i2 < displayObject.children.length; ++_i2) {\n                    var child = displayObject.children[_i2];\n                    if (child === displayObject) {\n                        return true;\n                    } else if (recursive) {\n                        searchChildren.call(this, child, recursive);\n                    }\n                }\n                return false;\n            }\n\n            return result;\n        }\n\n        /**\r\n         * @param position\r\n         * @returns {PIXI.Point}\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_clampToBounds\",\n        value: function _clampToBounds(position) {\n            if (position.x < this.bounds.x) {\n                position.x = this.bounds.x;\n            } else if (position.x > this.bounds.width) {\n                position.x = this.bounds.width;\n            }\n            if (position.y < this.bounds.y) {\n                position.y = this.bounds.y;\n            } else if (position.y > this.bounds.height) {\n                position.y = this.bounds.height;\n            }\n        }\n\n        /**\r\n         * @returns {PIXI.Point}\r\n         */\n\n    }, {\n        key: \"position\",\n        get: function get() {\n            return this._position;\n        }\n\n        /**\r\n         * @returns {*}\r\n         */\n\n    }, {\n        key: \"target\",\n        get: function get() {\n            return this._target;\n        }\n\n        /**\r\n         * @returns {PIXI.Point}\r\n         */\n\n    }, {\n        key: \"ease\",\n        get: function get() {\n            return this._ease;\n        }\n\n        /**\r\n         * @param {PIXI.Point} value\r\n         */\n        ,\n        set: function set(value) {\n            this._ease = value;\n        }\n\n        /**\r\n         * @returns {Array.<CameraLayer>}\r\n         */\n\n    }, {\n        key: \"layers\",\n        get: function get() {\n            return this._layers.slice(0);\n        }\n    }]);\n\n    return Camera;\n}();\n\nexports.default = Camera;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf p3.camera\r\n */\nvar CameraLayer = function () {\n  /**\r\n   * @param {PIXI.Container} view\r\n   * @param {PIXI.Point} [parallax]\r\n   */\n  function CameraLayer(view, parallax) {\n    _classCallCheck(this, CameraLayer);\n\n    /**\r\n     * @type {PIXI.Container}\r\n     * @private\r\n     */\n    this._view = view;\n\n    /**\r\n     * @type {PIXI.Point}\r\n     * @private\r\n     */\n    this._parallax = parallax || new PIXI.Point();\n  }\n\n  /**\r\n   * @returns {PIXI.Container}\r\n   */\n\n\n  _createClass(CameraLayer, [{\n    key: \"view\",\n    get: function get() {\n      return this._view;\n    }\n\n    /**\r\n     * @returns {PIXI.Point}\r\n     */\n\n  }, {\n    key: \"parallax\",\n    get: function get() {\n      return this._parallax;\n    }\n  }]);\n\n  return CameraLayer;\n}();\n\nexports.default = CameraLayer;\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Camera = require(\"./Camera\");\n\nObject.defineProperty(exports, \"Camera\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Camera).default;\n  }\n});\n\nvar _CameraLayer = require(\"./CameraLayer\");\n\nObject.defineProperty(exports, \"CameraLayer\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_CameraLayer).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./Camera\":5,\"./CameraLayer\":6}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3\r\n */\nvar AssetManager = function () {\n    function AssetManager() {\n        _classCallCheck(this, AssetManager);\n\n        /**\r\n         * @type {Object}\r\n         */\n        this.signals = {};\n\n        /**\r\n         * @type {signals.Signal}\r\n         */\n        this.signals.progress = new signals.Signal();\n\n        /**\r\n         * @type {signals.Signal}\r\n         */\n        this.signals.complete = new signals.Signal();\n\n        /**\r\n         * @type {signals.Signal}\r\n         */\n        this.signals.error = new signals.Signal();\n\n        /**\r\n         * @type {PIXI.loaders.Loader}\r\n         * @private\r\n         */\n        this._loader = new PIXI.loaders.Loader();\n        this._loader.on(\"progress\", this._onLoaderProgress, this);\n        this._loader.on(\"complete\", this._onLoaderComplete, this);\n        this._loader.on(\"error\", this._onLoaderError, this);\n\n        /**\r\n         * @type {Array}\r\n         * @private\r\n         */\n        this._manifest = [];\n\n        /**\r\n         * @type {Object}\r\n         * @private\r\n         */\n        this._resources = {};\n\n        var graphics = new PIXI.Graphics();\n        graphics.beginFill(0x0, 0.5);\n        graphics.drawRect(0, 0, 100, 100);\n        graphics.endFill();\n        graphics.lineStyle(2, 0xFF0000, 1);\n        graphics.moveTo(0, 0);\n        graphics.lineTo(100, 100);\n        graphics.moveTo(100, 0);\n        graphics.lineTo(0, 100);\n\n        try {\n            this._fallbackTexture = graphics.generateTexture();\n        } catch (e) {\n            this._fallbackTexture = PIXI.Texture.EMPTY;\n        }\n    }\n\n    /**\r\n     * @param {Array} files\r\n     * @param {string} [path]\r\n     * @returns {Array}\r\n     */\n\n\n    _createClass(AssetManager, [{\n        key: \"addFiles\",\n        value: function addFiles(files) {\n            var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n            if (path && path.length > 0) {\n                for (var i = 0; i < files.length; ++i) {\n                    var url = files[i].url;\n                    files[i].url = path + url;\n                }\n            }\n            this._manifest = this._manifest.concat(files);\n            return this._manifest;\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"load\",\n        value: function load() {\n            if (!this._manifest.length) return;\n\n            this._loader.add(this._manifest);\n            this._loader.load();\n            return this._manifest;\n        }\n\n        /**\r\n         * @param {string} name\r\n         * @param {string} [extension]\r\n         */\n\n    }, {\n        key: \"unloadTexture\",\n        value: function unloadTexture(name, extension) {\n            extension = \".\" + (extension || \"png\");\n\n            var resource = this._resources[name];\n            var split = resource.url.split(\".\");\n            var texture = PIXI.utils.TextureCache[split[0] + extension];\n            texture.destroy(true);\n        }\n\n        /**\r\n         * @param {string} name\r\n         * @param {string} [extension]\r\n         */\n\n    }, {\n        key: \"texture\",\n        value: function texture(name, extension) {\n            extension = \".\" + (extension || \"png\");\n\n            var texture = void 0;\n            try {\n                texture = PIXI.Texture.fromFrame(name + extension);\n            } catch (error) {\n                if (this._resources[name]) {\n                    texture = this._resources[name].texture;\n                } else {\n                    console.warn(\"texture not found : \" + name);\n                    texture = this._fallbackTexture;\n                }\n            }\n            return texture;\n        }\n\n        /**\r\n         * @param {string} name\r\n         * @returns {Object}\r\n         */\n\n    }, {\n        key: \"json\",\n        value: function json(name) {\n            var data = P3.utils.copyObject(this._resources[name].data);\n            if (!data) {\n                throw new Error(\"json not found: \" + name);\n            }\n            return data;\n        }\n\n        /**\r\n         * @param {string} name\r\n         * @returns {Object}\r\n         */\n\n    }, {\n        key: \"spineData\",\n        value: function spineData(name) {\n            var resource = this._resources[name];\n            if (!resource || resource && !resource.spineData) {\n                throw new Error(\"spine data not found: \" + name);\n            }\n            return resource.spineData;\n        }\n\n        /**\r\n         * @param {PIXI.loaders.Loader} loader\r\n         * @param {*} resource\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onLoaderProgress\",\n        value: function _onLoaderProgress(loader, resource) {\n            this.signals.progress.dispatch(loader, resource, loader.progress);\n        }\n\n        /**\r\n         * @param {PIXI.loaders.Loader} loader\r\n         * @param {Array.<*>} resources\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onLoaderComplete\",\n        value: function _onLoaderComplete(loader, resources) {\n            for (var i in resources) {\n                if (resources.hasOwnProperty(i)) {\n                    this._resources[i] = resources[i];\n                }\n            }\n            this._manifest.length = 0;\n            this._loader.reset();\n\n            this.signals.complete.dispatch(loader, resources);\n        }\n\n        /**\r\n         * @param {string} error\r\n         * @param {PIXI.loaders.Loader} loader\r\n         * @param {Array<*>} resource\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onLoaderError\",\n        value: function _onLoaderError(error, loader, resource) {\n            this.signals.error.dispatch(error, loader, resource);\n        }\n\n        /**\r\n         * @returns {Object}\r\n         */\n\n    }, {\n        key: \"manifest\",\n        get: function get() {\n            return this._manifest.slice();\n        }\n    }]);\n\n    return AssetManager;\n}();\n\nexports.default = AssetManager;\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _ButtonStates = require(\"./ButtonStates\");\n\nvar _ButtonStates2 = _interopRequireDefault(_ButtonStates);\n\nvar _ismobilejs = require(\"ismobilejs\");\n\nvar _ismobilejs2 = _interopRequireDefault(_ismobilejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\nvar Button = function (_PIXI$Container) {\n    _inherits(Button, _PIXI$Container);\n\n    /**\r\n     * @param {ButtonStates} states\r\n     */\n    function Button(states) {\n        _classCallCheck(this, Button);\n\n        /**\r\n         * @member {Object}\r\n         * @member {signals.Signal} down\r\n         * @member {signals.Signal} up\r\n         * @member {signals.Signal} over\r\n         * @member {signals.Signal} out\r\n         * @member {signals.Signal} click\r\n         * @member {signals.Signal} animate\r\n         */\n        var _this = _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this));\n\n        _this.signals = {\n            down: new signals.Signal(),\n            up: new signals.Signal(),\n            over: new signals.Signal(),\n            out: new signals.Signal(),\n            click: new signals.Signal(),\n            animate: new signals.Signal(),\n            focus: new signals.Signal(),\n            unfocus: new signals.Signal()\n        };\n\n        /**\r\n         * @member {boolean}\r\n         */\n        _this.animate = true;\n\n        /**\r\n         * @member {boolean}\r\n         */\n        _this.animateIcon = true;\n\n        /**\r\n         * @member {PIXI.Point}\r\n         */\n        _this.defaultScale = new PIXI.Point(1, 1);\n\n        /**\r\n         * @member {PIXI.Point}\r\n         */\n        _this.animateOverScale = new PIXI.Point(1.1, 1.1);\n\n        /**\r\n         * @member {PIXI.Point}\r\n         */\n        _this.animateDownScale = new PIXI.Point(0.9, 0.9);\n\n        /**\r\n         * @member {string}\r\n         */\n        _this.upSoundName = null;\n\n        /**\r\n         * @member {string}\r\n         */\n        _this.overSoundName = null;\n\n        /**\r\n         * @member {string}\r\n         */\n        _this.downSoundName = null;\n\n        /**\r\n         * @member {string}\r\n         */\n        _this.clickSoundName = null;\n\n        /**\r\n         * @member {ButtonStates}\r\n         * @protected\r\n         */\n        _this._states = states;\n\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\n        _this._background = new PIXI.Sprite(_this._states.normal);\n        _this._background.anchor = new PIXI.Point(0.5, 0.5);\n        _this.addChild(_this._background);\n\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\n        _this._icon = new PIXI.Sprite(_this._states.icon || PIXI.Texture.EMPTY);\n        _this._icon.anchor = new PIXI.Point(0.5, 0.5);\n        _this.addChild(_this._icon);\n\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\n        _this._focus = new PIXI.Sprite(_this._states.focus || PIXI.Texture.EMPTY);\n        _this._focus.anchor = new PIXI.Point(0.5, 0.5);\n        _this._focus.visible = false;\n        _this.addChild(_this._focus);\n\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\n        _this._shortcutIcon = new PIXI.Sprite(PIXI.Texture.EMPTY);\n        _this._shortcutIcon.anchor = new PIXI.Point(0.5, 0.5);\n        _this._shortcutIcon.visible = !_ismobilejs2.default.any;\n        _this._background.addChild(_this._shortcutIcon);\n\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\n        _this._currentNormalTexture = _this._states.normal;\n\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\n        _this._currentOverTexture = _this._states.over;\n\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\n        _this._currentDownTexture = _this._states.down;\n\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\n        _this._currentIconTexture = _this._states.icon;\n\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\n        _this._currentIconOverTexture = _this._states.iconOver;\n\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\n        _this._currentIconDownTexture = _this._states.iconDown;\n\n        /**\r\n         * @member {TweenMax}\r\n         * @protected\r\n         */\n        _this._tweenOver = null;\n\n        /**\r\n         * @member {TweenMax}\r\n         * @protected\r\n         */\n        _this._tweenOut = null;\n\n        /**\r\n         * @member {TweenMax}\r\n         * @protected\r\n         */\n        _this._tweenDown = null;\n\n        /**\r\n         * @member {boolean}\r\n         * @protected\r\n         */\n        _this._enabled = true;\n\n        /**\r\n         * @member {boolean}\r\n         * @private\r\n         */\n        _this._focused = false;\n\n        _this.interactive = true;\n        _this.buttonMode = true;\n        _this.mousedown = _this.touchstart = _this._onMouseDown.bind(_this);\n        _this.mouseup = _this.touchend = _this._onMouseUp.bind(_this);\n        _this.mouseupoutside = _this.touchendoutside = _this._onMouseOut.bind(_this);\n        _this.click = _this.tap = _this._onMouseClick.bind(_this);\n        _this.mouseover = _this._onMouseOver.bind(_this);\n        _this.mouseout = _this._onMouseOut.bind(_this);\n        return _this;\n    }\n\n    /**\r\n     * @param {PIXI.Texture} normal\r\n     * @param {PIXI.Texture} [over]\r\n     * @param {PIXI.Texture} [down]\r\n     * @param {PIXI.Texture} [icon]\r\n     */\n\n\n    _createClass(Button, [{\n        key: \"destroy\",\n\n\n        /**\r\n         */\n        value: function destroy() {\n            TweenMax.killTweensOf(this);\n            TweenMax.killTweensOf(this.scale);\n\n            this.signals.up.dispose();\n            this.signals.down.dispose();\n            this.signals.over.dispose();\n            this.signals.out.dispose();\n            this.signals.click.dispose();\n            this.signals.animate.dispose();\n            this.signals.focus.dispose();\n            this.signals.unfocus.dispose();\n\n            _get(Button.prototype.__proto__ || Object.getPrototypeOf(Button.prototype), \"destroy\", this).call(this, { children: true });\n        }\n    }, {\n        key: \"focus\",\n        value: function focus() {\n            this._focused = true;\n            this._focus.visible = true;\n            this.signals.focus.dispatch(this);\n        }\n    }, {\n        key: \"unfocus\",\n        value: function unfocus() {\n            this._focused = false;\n            this._focus.visible = false;\n            this.signals.unfocus.dispatch(this);\n        }\n\n        /**\r\n         * @param {PIXI.Texture} texture\r\n         * @param {PIXI.Point} offset\r\n         */\n\n    }, {\n        key: \"setShortcutIcon\",\n        value: function setShortcutIcon(texture, offset) {\n            this._shortcutIcon.texture = texture;\n            this._shortcutIcon.position.set(offset.x, offset.y);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @protected\r\n         */\n\n    }, {\n        key: \"_onMouseDown\",\n        value: function _onMouseDown(event) {\n            this._states.down && (this._background.texture = this._currentDownTexture);\n            this._states.iconDown && (this._icon.texture = this._currentIconDownTexture);\n\n            if (this.animate) {\n                var tweens = TweenMax.getTweensOf(this, true);\n                var a = tweens.indexOf(this._tweenOver) > -1 ? tweens.length - 1 : tweens.length;\n                if (!a) {\n                    if (this._tweenOver) {\n                        this._tweenOver.kill();\n                        this._tweenOver = null;\n                    }\n                    this._tweenDown = this.animateDown();\n                }\n            }\n            Button.audio && this.downSoundName && Button.audio.playSound(this.downSoundName);\n            this._enabled && this.signals.down.dispatch(this, event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @protected\r\n         */\n\n    }, {\n        key: \"_onMouseUp\",\n        value: function _onMouseUp(event) {\n            this._background.texture = this._states.over && !_ismobilejs2.default.any ? this._currentOverTexture : this._currentNormalTexture;\n            if (this._states.iconOver && !_ismobilejs2.default.any) {\n                this._icon.texture = this._currentIconOverTexture;\n            } else if (this._states.icon) {\n                this._icon.texture = this._currentIconTexture;\n            }\n            if (this.animate && this._tweenDown) {\n                if (this._tweenDown) {\n                    this._tweenDown.kill();\n                    this._tweenDown = null;\n                }\n                this._tweenOver = !_ismobilejs2.default.any ? this.animateOver() : this.animateOut();\n            }\n            Button.audio && this.upSoundName && Button.audio.playSound(this.upSoundName);\n            this._enabled && this.signals.up.dispatch(this, event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @protected\r\n         */\n\n    }, {\n        key: \"_onMouseOver\",\n        value: function _onMouseOver(event) {\n            this._states.over && (this._background.texture = this._currentOverTexture);\n            this._states.iconOver && (this._icon.texture = this._currentIconOverTexture);\n\n            if (this.animate && !_ismobilejs2.default.any) {\n                var tweens = TweenMax.getTweensOf(this, true);\n                if (tweens.indexOf(this._tweenOver) === -1) {\n                    if (this._tweenOut) {\n                        this._tweenOut.kill();\n                        this._tweenOut = null;\n                    }\n                    this._tweenOver = this.animateOver();\n                }\n            }\n            if (this.animateIcon && !_ismobilejs2.default.any) {\n                TweenMax.killTweensOf(this._icon.scale);\n                TweenMax.to(this._icon.scale, 0.8, {\n                    x: 1.2,\n                    y: 1.2,\n                    ease: Elastic.easeOut,\n                    easeParams: [1.6]\n                });\n            }\n            Button.audio && this.overSoundName && Button.audio.playSound(this.overSoundName);\n            this._enabled && this.signals.over.dispatch(this, event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @protected\r\n         */\n\n    }, {\n        key: \"_onMouseOut\",\n        value: function _onMouseOut(event) {\n            this._background.texture = this._currentNormalTexture;\n            this._states.icon && (this._icon.texture = this._currentIconTexture);\n\n            if (this._tweenOver || this._tweenDown) {\n                var tweens = TweenMax.getTweensOf(this, true);\n                if (tweens.indexOf(this._tweenOut) === -1) {\n                    if (this._tweenOver) {\n                        this._tweenOver.kill();\n                        this._tweenOver = null;\n                    }\n                    this._tweenOut = this.animateOut();\n                }\n                if (tweens.indexOf(this._tweenDown) === -1) {\n                    if (this._tweenDown) {\n                        this._tweenDown.kill();\n                        this._tweenDown = null;\n                    }\n                    this._tweenOut = this.animateOut();\n                }\n            }\n            TweenMax.killTweensOf(this._icon.scale);\n            TweenMax.to(this._icon.scale, 0.34, {\n                x: 1,\n                y: 1,\n                ease: Power1.easeInOut\n            });\n            Button.audio && this.upSoundName && Button.audio.playSound(this.upSoundName);\n            this._enabled && this.signals.out.dispatch(this, event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @protected\r\n         */\n\n    }, {\n        key: \"_onMouseClick\",\n        value: function _onMouseClick(event) {\n            Button.audio && this.clickSoundName && Button.audio.playSound(this.clickSoundName);\n            this._enabled && this.signals.click.dispatch(this, event);\n        }\n\n        /**\r\n         * @returns {TweenMax}\r\n         */\n\n    }, {\n        key: \"animateOver\",\n        value: function animateOver() {\n            return TweenMax.to(this.scale, 0.6, {\n                x: this.defaultScale.x * this.animateOverScale.x,\n                y: this.defaultScale.y * this.animateOverScale.y,\n                ease: Elastic.easeOut,\n                easeParams: [1],\n                onComplete: function onComplete() {\n                    this.signals.animate.dispatch(this, \"over\");\n                },\n                onCompleteScope: this\n            });\n        }\n    }, {\n        key: \"animateOut\",\n\n\n        /**\r\n         * @returns {TweenMax}\r\n         */\n        value: function animateOut() {\n            return TweenMax.to(this.scale, 0.3, {\n                x: this.defaultScale.x,\n                y: this.defaultScale.y,\n                ease: Back.easeInOut,\n                easeParams: [2],\n                onComplete: function onComplete() {\n                    this.signals.animate.dispatch(this, \"out\");\n                },\n                onCompleteScope: this\n            });\n        }\n    }, {\n        key: \"animateDown\",\n\n\n        /**\r\n         * @returns {TweenMax}\r\n         */\n        value: function animateDown() {\n            return TweenMax.to(this.scale, 0.14, {\n                x: this.defaultScale.x * this.animateDownScale.x,\n                y: this.defaultScale.y * this.animateDownScale.y,\n                ease: Back.easeOut,\n                easeParams: [1],\n                onComplete: function onComplete() {\n                    this.signals.animate.dispatch(this, \"down\");\n                },\n                onCompleteScope: this\n            });\n        }\n    }, {\n        key: \"stopAnimations\",\n\n\n        /**\r\n         */\n        value: function stopAnimations() {\n            var tweens = TweenMax.getTweensOf(this, true);\n            if (tweens.indexOf(this._tweenOver) === -1) {\n                if (this._tweenOut) {\n                    this._tweenOut.kill();\n                    this._tweenOut = null;\n                }\n                this._tweenOver = this.animateOver();\n            }\n            if (tweens.indexOf(this._tweenOut) === -1) {\n                if (this._tweenOver) {\n                    this._tweenOver.kill();\n                    this._tweenOver = null;\n                }\n            }\n            if (tweens.indexOf(this._tweenDown) === -1) {\n                if (this._tweenDown) {\n                    this._tweenDown.kill();\n                    this._tweenDown = null;\n                }\n            }\n        }\n    }, {\n        key: \"setStates\",\n\n\n        /**\r\n         * @param {P3.ButtonStates} states\r\n         */\n        value: function setStates(states) {\n            this._states = states;\n            this._background.texture = this._states.normal;\n            this._icon.texture = this._states.icon;\n\n            this._currentNormalTexture = this._states.normal;\n            this._currentOverTexture = this._states.over;\n            this._currentDownTexture = this._states.down;\n            this._currentIconTexture = this._states.icon;\n            this._currentIconOverTexture = this._states.iconOver;\n            this._currentIconDownTexture = this._states.iconDown;\n        }\n\n        /**\r\n         * @returns {ButtonStates}\r\n         */\n\n    }, {\n        key: \"states\",\n        get: function get() {\n            return this._states;\n        }\n\n        /**\r\n         * @returns {PIXI.Texture}\r\n         */\n\n    }, {\n        key: \"currentNormalTexture\",\n        get: function get() {\n            return this._currentNormalTexture;\n        }\n\n        /**\r\n         * @returns {PIXI.Texture}\r\n         */\n\n    }, {\n        key: \"currentOverTexture\",\n        get: function get() {\n            return this._currentOverTexture;\n        }\n\n        /**\r\n         * @returns {PIXI.Texture}\r\n         */\n\n    }, {\n        key: \"currentDownTexture\",\n        get: function get() {\n            return this._currentDownTexture;\n        }\n\n        /**\r\n         * @returns {PIXI.Texture}\r\n         */\n\n    }, {\n        key: \"currentIconTexture\",\n        get: function get() {\n            return this._currentIconTexture;\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"enabled\",\n        get: function get() {\n            return this._enabled;\n        }\n\n        /**\r\n         * @param {boolean} value\r\n         */\n        ,\n        set: function set(value) {\n            this._enabled = value;\n            this._currentNormalTexture = value || !this._states.normalInactive ? this._states.normal : this._states.normalInactive;\n            this._currentOverTexture = value || !this._states.overInactive ? this._states.over : this._states.overInactive;\n            this._currentDownTexture = value || !this._states.downInactive ? this._states.down : this._states.downInactive;\n            this._currentIconTexture = value || !this._states.iconInactive ? this._states.icon : this._states.iconInactive;\n            this._currentIconOverTexture = value || !this._states.iconOverInactive ? this._states.iconOver : this._states.iconOverInactive;\n            this._currentIconDownTexture = value || !this._states.iconDownInactive ? this._states.iconDown : this._states.iconDownInactive;\n\n            this._currentNormalTexture && (this._background.texture = this._currentNormalTexture);\n            this._currentIconTexture && (this._icon.texture = this._currentIconTexture);\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"focused\",\n        get: function get() {\n            return this._focused;\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"tint\",\n        get: function get() {\n            return this._background.tint;\n        }\n\n        /**\r\n         * @param {number} value\r\n         */\n        ,\n        set: function set(value) {\n            this._background.tint = value;\n            this._icon.tint = value;\n        }\n    }], [{\n        key: \"create\",\n        value: function create(normal, over, down, icon) {\n            var states = new _ButtonStates2.default(normal, over, down, icon);\n            return new Button(states);\n        }\n    }]);\n\n    return Button;\n}(PIXI.Container);\n\nexports.default = Button;\n\n},{\"./ButtonStates\":11,\"ismobilejs\":1}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n *  ButtonManager\r\n *\r\n *  Created by legman on 15/08/2017.\r\n *\r\n */\n\n/**\r\n * @class\r\n * @namespace P3\r\n */\nvar ButtonManager = function () {\n    /**\r\n     * @param {P3.Input} input\r\n     */\n    function ButtonManager(input) {\n        _classCallCheck(this, ButtonManager);\n\n        /**\r\n         * @member {P3.Input}\r\n         * @private\r\n         */\n        this._input = input;\n\n        /**\r\n         * @member {Array.<P3.Button>}\r\n         * @private\r\n         */\n        this._buttons = [];\n\n        /**\r\n         * @member {P3.Button}\r\n         * @private\r\n         */\n        this._currentFocus = null;\n\n        // todo finish this class at some point\n    }\n\n    /**\r\n     * @param {P3.Button} button\r\n     */\n\n\n    _createClass(ButtonManager, [{\n        key: \"add\",\n        value: function add(button) {\n            if (this._buttons.indexOf(button) !== -1) return;\n            this._buttons.push(button);\n        }\n\n        /**\r\n         * @param button\r\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(button) {\n            var i = this._buttons.indexOf(button);\n            this._buttons.splice(i, 1);\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n            if (this._input.isKeyPressed(37)) {\n                this._selectLeft();\n            }\n            if (this._input.isKeyPressed(39)) {\n                this._selectRight();\n            }\n            if (this._input.isKeyPressed(38)) {\n                this._selectUp();\n            }\n            if (this._input.isKeyPressed(40)) {\n                this._selectDown();\n            }\n        }\n\n        /**\r\n         * @param {P3.Button} button\r\n         */\n\n    }, {\n        key: \"focus\",\n        value: function focus(button) {\n            for (var i = 0; i < this._buttons.length; ++i) {\n                var _button = this._buttons[i];\n                _button.tint = 0xFFFFFF;\n            }\n            button.tint = 0xFF0000;\n            this._currentFocus = button;\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_selectLeft\",\n        value: function _selectLeft() {\n            console.log(\"left\");\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_selectRight\",\n        value: function _selectRight() {\n            console.log(\"right\");\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_selectUp\",\n        value: function _selectUp() {\n            console.log(\"up\");\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_selectDown\",\n        value: function _selectDown() {\n            console.log(\"down\");\n        }\n    }]);\n\n    return ButtonManager;\n}();\n\nexports.default = ButtonManager;\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\nvar ButtonStates = function () {\n  /**\r\n   * @param {PIXI.Texture} normal\r\n   * @param {PIXI.Texture} [over]\r\n   * @param {PIXI.Texture} [down]\r\n   * @param {PIXI.Texture} [icon]\r\n   */\n  function ButtonStates(normal, over, down, icon) {\n    _classCallCheck(this, ButtonStates);\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.normal = normal;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.over = over || null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.down = down || null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.focus = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.icon = icon || null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconOver = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconDown = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.normalAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.overAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.downAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconOverAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconDownAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.normalInactive = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.overInactive = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.downInactive = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconInactive = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconOverInactive = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconDownInactive = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.normalInactiveAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.overInactiveAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.downInactiveAlt = null;\n\n    /**\r\n     * @member {PIXI.Texture}\r\n     */\n    this.iconInactiveAlt = null;\n  }\n\n  /**\r\n   * @returns {ButtonStates}\r\n   */\n\n\n  _createClass(ButtonStates, [{\n    key: \"clone\",\n    value: function clone() {\n      var states = new ButtonStates(this.normal);\n      states.over = this.over;\n      states.down = this.down;\n      states.over = this.over;\n      states.focus = this.focus;\n      states.icon = this.icon;\n      states.iconOver = this.iconOver;\n      states.iconDown = this.iconDown;\n      states.normalAlt = this.normalAlt;\n      states.downAlt = this.downAlt;\n      states.overAlt = this.overAlt;\n      states.iconAlt = this.iconAlt;\n      states.iconOverAlt = this.iconOverAlt;\n      states.iconDownAlt = this.iconDownAlt;\n      states.normalInactive = this.normalInactive;\n      states.downInactive = this.downInactive;\n      states.overInactive = this.overInactive;\n      states.iconInactive = this.iconInactive;\n      states.iconDownInactive = this.iconDownInactive;\n      states.iconOverInactive = this.iconOverInactive;\n      states.normalInactiveAlt = this.normalInactiveAlt;\n      states.downInactiveAlt = this.downInactiveAlt;\n      states.overInactiveAlt = this.overInactiveAlt;\n      states.iconInactiveAlt = this.iconInactiveAlt;\n      return states;\n    }\n  }]);\n\n  return ButtonStates;\n}();\n\nexports.default = ButtonStates;\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Vector = require(\"../math/Vector2\");\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _ismobilejs = require(\"ismobilejs\");\n\nvar _ismobilejs2 = _interopRequireDefault(_ismobilejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3\r\n */\nvar Input = function () {\n    function Input() {\n        _classCallCheck(this, Input);\n\n        /**\r\n         * @member {Object} signals\r\n         * @member {signals.Signal} signals.mouseMove\r\n         * @member {signals.Signal} signals.mouseDown\r\n         * @member {signals.Signal} signals.mouseUp\r\n         * @member {signals.Signal} signals.mouseClick\r\n         * @member {signals.Signal} signals.keyDown\r\n         * @member {signals.Signal} signals.keyUp\r\n         * @member {signals.Signal} signals.swipeLeft\r\n         * @member {signals.Signal} signals.swipeRight\r\n         * @member {signals.Signal} signals.swipeUp\r\n         * @member {signals.Signal} signals.swipeDown\r\n         * @member {signals.Signal} signals.orientation\r\n         */\n        this.signals = {\n            mouseMove: new signals.Signal(),\n            mouseDown: new signals.Signal(),\n            mouseUp: new signals.Signal(),\n            mouseClick: new signals.Signal(),\n            keyDown: new signals.Signal(),\n            keyUp: new signals.Signal(),\n            swipeLeft: new signals.Signal(),\n            swipeRight: new signals.Signal(),\n            swipeUp: new signals.Signal(),\n            swipeDown: new signals.Signal(),\n            orientation: new signals.Signal()\n        };\n\n        /**\r\n         * @member {PIXI.DisplayObject}\r\n         * @private\r\n         */\n        this._stage = null;\n\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\n        this._keyMap = {};\n\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\n        this._keyBuffer = {};\n\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\n        this._touch = null;\n\n        /**\r\n         * @type {null}\r\n         * @private\r\n         */\n        this._swipeStart = null;\n\n        /**\r\n         * @type {number}\r\n         * @private\r\n         */\n        this._swipeTime = 0;\n\n        /**\r\n         * @member {Object} orientation\r\n         * @member {number} orientation.gamma\r\n         * @member {number} orientation.beta\r\n         * @member {number} orientation.alpha\r\n         * @private\r\n         */\n        this._orientation = {\n            gamma: 0,\n            beta: 0,\n            alpha: 0\n        };\n    }\n\n    /**\r\n     * @param {PIXI.DisplayObject} stage\r\n     * @param {*} keyListener\r\n     */\n\n\n    _createClass(Input, [{\n        key: \"init\",\n        value: function init(stage, keyListener) {\n            this._stage = stage;\n            this._stage.interactive = true;\n            this._stage.mousemove = this._stage.touchmove = this._onMouseMove.bind(this);\n            this._stage.mousedown = this._stage.touchstart = this._onMouseDown.bind(this);\n            this._stage.mouseup = this._stage.touchend = this._onMouseUp.bind(this);\n            this._stage.click = this._stage.tap = this._onMouseClick.bind(this);\n\n            keyListener.onkeydown = this._onKeyDown.bind(this);\n            keyListener.onkeyup = this._onKeyUp.bind(this);\n            keyListener.focus();\n\n            document.onclick = function () {\n                keyListener.focus();\n            };\n\n            _ismobilejs2.default.any && window.addEventListener(\"deviceorientation\", this._onDeviceOrientation.bind(this));\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"destroy\",\n        value: function destroy() {\n            this._stage.mousemove = this._stage.touchmove = null;\n            this._stage.mousedown = this._stage.touchstart = null;\n            this._stage.mouseup = this._stage.touchend = null;\n            this._stage.click = this._stage.tap = null;\n\n            _ismobilejs2.default.any && window.removeEventListener(\"deviceorientation\", this._onDeviceOrientation);\n\n            this.signals.mouseMove.dispose();\n            this.signals.mouseDown.dispose();\n            this.signals.mouseUp.dispose();\n            this.signals.mouseClick.dispose();\n\n            this.signals.keyDown.dispose();\n            this.signals.keyUp.dispose();\n\n            this.signals.swipeLeft.dispose();\n            this.signals.swipeRight.dispose();\n            this.signals.swipeUp.dispose();\n            this.signals.swipeDown.dispose();\n\n            this.signals.orientation.dispose();\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"update\",\n        value: function update() {\n            for (var i in this._keyBuffer) {\n                if (this._keyBuffer.hasOwnProperty(i)) {\n                    this._keyBuffer[i] = false;\n                }\n            }\n        }\n\n        /**\r\n         * @param {number} keyCode\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"isKeyDown\",\n        value: function isKeyDown(keyCode) {\n            return this._keyMap[keyCode] === true;\n        }\n\n        /**\r\n         * @param {number} keyCode\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"isKeyPressed\",\n        value: function isKeyPressed(keyCode) {\n            return this._keyBuffer[keyCode] === true;\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onMouseMove\",\n        value: function _onMouseMove(event) {\n            this._touch && (this._touch = event.data.getLocalPosition(this._stage));\n\n            this.signals.mouseMove.dispatch(event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onMouseDown\",\n        value: function _onMouseDown(event) {\n            this._touch = event.data.getLocalPosition(this._stage);\n\n            if (_ismobilejs2.default.any) {\n                this._swipeStart = this._touch.clone();\n                this._swipeTime = window.performance.now();\n            }\n            this.signals.mouseDown.dispatch(event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onMouseUp\",\n        value: function _onMouseUp(event) {\n            if (_ismobilejs2.default.any) {\n                var swipe = new _Vector2.default(this._touch.x - this._swipeStart.x, this._touch.y - this._swipeStart.y);\n                var distance = swipe.lengthSq;\n                var minimum = 4 * 4;\n                swipe.normalize();\n\n                if (window.performance.now() - this._swipeTime < 800 && distance > minimum) {\n                    var left = swipe.dot(new _Vector2.default(-1, 0));\n                    left > 0.9 && this.signals.swipeLeft.dispatch();\n\n                    var right = swipe.dot(new _Vector2.default(1, 0));\n                    right > 0.9 && this.signals.swipeRight.dispatch();\n\n                    var up = swipe.dot(new _Vector2.default(0, -1));\n                    up > 0.9 && this.signals.swipeUp.dispatch();\n\n                    var down = swipe.dot(new _Vector2.default(0, 1));\n                    down > 0.9 && this.signals.swipeDown.dispatch();\n                }\n            }\n\n            this._touch = null;\n            this.signals.mouseUp.dispatch(event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onMouseClick\",\n        value: function _onMouseClick(event) {\n            this.signals.mouseClick.dispatch(event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onKeyDown\",\n        value: function _onKeyDown(event) {\n            if (event.keyCode === Input.keys.LEFT || event.keyCode === Input.keys.RIGHT || event.keyCode === Input.keys.UP || event.keyCode === Input.keys.DOWN || event.keyCode === Input.keys.SPACE) event.preventDefault();\n\n            !this.isKeyDown(event.keyCode) && (this._keyBuffer[event.keyCode] = true);\n            this._keyMap[event.keyCode] = true;\n            this.signals.keyDown.dispatch(event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onKeyUp\",\n        value: function _onKeyUp(event) {\n            if (event.keyCode === Input.keys.LEFT || event.keyCode === Input.keys.RIGHT || event.keyCode === Input.keys.UP || event.keyCode === Input.keys.DOWN || event.keyCode === Input.keys.SPACE) event.preventDefault();\n\n            this._keyMap[event.keyCode] = false;\n            this.signals.keyUp.dispatch(event);\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onDeviceOrientation\",\n        value: function _onDeviceOrientation(event) {\n            this.signals.orientation.dispatch(event);\n        }\n\n        /**\r\n         * @returns {PIXI.Point}\r\n         */\n\n    }, {\n        key: \"touch\",\n        get: function get() {\n            return this._touch;\n        }\n\n        /**\r\n         * @returns {Object} orientation\r\n         * @returns {number} orientation.gamma\r\n         * @returns {number} orientation.beta\r\n         * @returns {number} orientation.alpha\r\n         */\n\n    }, {\n        key: \"orientation\",\n        get: function get() {\n            return this._orientation;\n        }\n    }]);\n\n    return Input;\n}();\n\n/**\r\n * @static\r\n * @constant\r\n * @type {Object}\r\n */\n\n\nexports.default = Input;\nInput.keys = {};\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.W = 87;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.A = 65;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.S = 83;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.D = 68;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.Z = 90;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.X = 88;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.C = 67;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.LEFT = 37;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.RIGHT = 39;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.UP = 38;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.DOWN = 40;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.SPACE = 32;\n\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\nInput.keys.ENTER = 13;\n\n},{\"../math/Vector2\":23,\"ismobilejs\":1}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _MovieClipSequence = require(\"./MovieClipSequence\");\n\nvar _MovieClipSequence2 = _interopRequireDefault(_MovieClipSequence);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\nvar MovieClip = function (_PIXI$Sprite) {\n    _inherits(MovieClip, _PIXI$Sprite);\n\n    /**\r\n     * @param {MovieClipSequence} sequence\r\n     * @param {string} [defaultAnimation=default]\r\n     * @param {boolean} [autoUpdate=true]\r\n     */\n    function MovieClip(sequence) {\n        var defaultAnimation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"default\";\n        var autoUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n        _classCallCheck(this, MovieClip);\n\n        var texture = sequence.textures[defaultAnimation] ? sequence.textures[defaultAnimation][0] : PIXI.Texture.EMPTY;\n        if (!texture) {\n            throw new Error(\"No default texture found!\");\n        }\n\n        /**\r\n         * @member {number}\r\n         */\n        var _this = _possibleConstructorReturn(this, (MovieClip.__proto__ || Object.getPrototypeOf(MovieClip)).call(this, texture));\n\n        _this.animationSpeed = 24;\n\n        /**\r\n         * @member {boolean}\r\n         */\n        _this.looping = false;\n\n        /**\r\n         * @member {object} signals\r\n         * @member {signals.Signal} signals.animation\r\n         * @member {signals.Signal} signals.animationComplete\r\n         */\n        _this.signals = {\n            animation: new signals.Signal(),\n            animationComplete: new signals.Signal()\n        };\n\n        /**\r\n         * @member {*}\r\n         * @protected\r\n         */\n        _this._frames = {};\n\n        /**\r\n         * @member {boolean}\r\n         * @protected\r\n         */\n        _this._playing = false;\n\n        /**\r\n         * @member {string}\r\n         * @protected\r\n         */\n        _this._defaultAnimation = defaultAnimation;\n\n        /**\r\n         * @member {number}\r\n         * @protected\r\n         */\n        _this._currentFrame = 0;\n\n        /**\r\n         * @member {number}\r\n         * @protected\r\n         */\n        _this._lastFrame = 0;\n\n        /**\r\n         * @member {string}\r\n         * @protected\r\n         */\n        _this._currentAnimationName = _this._defaultAnimation;\n\n        /**\r\n         * @type {boolean}\r\n         * @protected\r\n         */\n        _this._autoUpdate = false;\n\n        for (var i in sequence.textures) {\n            if (sequence.textures.hasOwnProperty(i)) {\n                _this._frames[i] = [];\n                for (var j = 0; j < sequence.textures[i].length; ++j) {\n                    _this._frames[i].push({\n                        texture: sequence.textures[i][j],\n                        callback: null,\n                        scope: null\n                    });\n                }\n            }\n        }\n        _this.autoUpdate = autoUpdate;\n        return _this;\n    }\n\n    /**\r\n     * @param {object} options\r\n     * @param {boolean} [options.children=false]\r\n     * @param {boolean} [options.texture=false]\r\n     * @param {boolean} [options.baseTexture=false]\r\n     */\n\n\n    _createClass(MovieClip, [{\n        key: \"destroy\",\n        value: function destroy(options) {\n            this.signals.animation.dispose();\n            this.signals.animationComplete.dispose();\n\n            this.autoUpdate = false;\n\n            _get(MovieClip.prototype.__proto__ || Object.getPrototypeOf(MovieClip.prototype), \"destroy\", this).call(this, options);\n        }\n\n        /**\r\n         * @param {boolean} [looping]\r\n         */\n\n    }, {\n        key: \"play\",\n        value: function play(looping) {\n            if (typeof looping === \"boolean\") {\n                this.looping = looping;\n            }\n            this._playing = true;\n        }\n    }, {\n        key: \"stop\",\n        value: function stop() {\n            this._playing = false;\n        }\n\n        /**\r\n         * @param {number|string} frame\r\n         * @param {boolean} looping\r\n         */\n\n    }, {\n        key: \"gotoAndPlay\",\n        value: function gotoAndPlay(frame, looping) {\n            if (typeof frame !== \"string\") {\n                this._currentFrame = this._lastFrame = frame;\n            } else if (this._frames[frame]) {\n                this._currentFrame = this._lastFrame = 0;\n                this._currentAnimationName = frame;\n            }\n            if (typeof looping === \"boolean\") {\n                this.looping = looping;\n            }\n            this._playing = true;\n        }\n\n        /**\r\n         * @param {number|string} frame\r\n         */\n\n    }, {\n        key: \"gotoAndStop\",\n        value: function gotoAndStop(frame) {\n            if (typeof frame !== \"string\") {\n                this._currentFrame = frame;\n            } else if (this._frames[frame]) {\n                this._currentFrame = 0;\n                this._currentAnimationName = frame;\n            }\n            this._playing = false;\n\n            var frames = this._frames[this._currentAnimationName];\n            var round = this._currentFrame + 0.5 | 0;\n            this.texture = frames[round % frames.length].texture;\n        }\n\n        /**\r\n         * @param {number} frame\r\n         * @param {function} callback\r\n         * @param {*} [scope]\r\n         * @param {string} [name=default]\r\n         */\n\n    }, {\n        key: \"addFrameScript\",\n        value: function addFrameScript(frame, callback, scope) {\n            var name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"default\";\n\n            scope = scope || window;\n            if (this._frames[name]) {\n                this._frames[name][frame].callback = callback;\n                this._frames[name][frame].scope = callback ? scope | window : null;\n            }\n        }\n\n        /**\r\n         * @param {number} dt\r\n         */\n\n    }, {\n        key: \"update\",\n        value: function update(dt) {\n            if (!this._playing || !this.getTotalFrames()) return;\n\n            this._autoUpdate && (dt = dt / PIXI.settings.TARGET_FPMS / 1000);\n            this._currentFrame += this.animationSpeed * dt;\n\n            var frames = this._frames[this._currentAnimationName];\n            var round = this._currentFrame + 0.5 | 0;\n            var index = round % (frames.length + 1);\n\n            this._currentFrame = this._currentFrame % frames.length;\n            if (index > 0 && index !== this._lastFrame) {\n                this._lastFrame = index;\n                frames[index - 1].callback && frames[index - 1].callback.call(frames[index - 1].scope);\n            }\n\n            if (this.looping || round < frames.length) {\n                this.texture = frames[round % frames.length].texture;\n                if (round >= frames.length - 1) {\n                    this.signals.animation.dispatch(this, this._currentAnimationName);\n                }\n            } else if (round >= frames.length - 1) {\n                this.gotoAndStop(frames.length - 1);\n                this.signals.animationComplete.dispatch(this, this._currentAnimationName);\n            }\n        }\n\n        /**\r\n         * @param {string} [name]\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"getTotalFrames\",\n        value: function getTotalFrames(name) {\n            name = name || this._defaultAnimation;\n            var frames = this._frames[name];\n            return frames ? frames.length : 0;\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"playing\",\n        get: function get() {\n            return this._playing;\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"currentFrame\",\n        get: function get() {\n            return this._currentFrame;\n        }\n\n        /**\r\n         * @returns {string}\r\n         */\n\n    }, {\n        key: \"currentAnimationFrame\",\n        get: function get() {\n            return this._currentAnimationName;\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"totalFrames\",\n        get: function get() {\n            return this.getTotalFrames();\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"autoUpdate\",\n        get: function get() {\n            return this._autoUpdate;\n        }\n\n        /**\r\n         * @param {boolean} value\r\n         */\n        ,\n        set: function set(value) {\n            var ticker = PIXI.ticker.shared;\n            if (this._autoUpdate && !value) {\n                ticker.remove(this.update, this);\n            } else if (!this._autoUpdate && value) {\n                ticker.add(this.update, this);\n            }\n            this._autoUpdate = value;\n        }\n    }]);\n\n    return MovieClip;\n}(PIXI.Sprite);\n\nexports.default = MovieClip;\n\n},{\"./MovieClipSequence\":14}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\nvar MovieClipSequence = function (_PIXI$Container) {\n    _inherits(MovieClipSequence, _PIXI$Container);\n\n    function MovieClipSequence(textures, name) {\n        _classCallCheck(this, MovieClipSequence);\n\n        /**\r\n         * @type {object} textures\r\n         */\n        var _this = _possibleConstructorReturn(this, (MovieClipSequence.__proto__ || Object.getPrototypeOf(MovieClipSequence)).call(this));\n\n        _this.textures = {};\n\n        textures && _this.addTextures(textures, name);\n        return _this;\n    }\n\n    /**\r\n     * @param {Array.<PIXI.Texture>} textures\r\n     * @param {string} [name]\r\n     */\n\n\n    _createClass(MovieClipSequence, [{\n        key: \"addTextures\",\n        value: function addTextures(textures, name) {\n            name = name || \"default\";\n            this.textures[name] = textures;\n        }\n\n        /**\r\n         * @param {string} [name]\r\n         */\n\n    }, {\n        key: \"removeTextures\",\n        value: function removeTextures(name) {\n            name = name || \"default\";\n            this.textures[name] = null;\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"removeAllTextures\",\n        value: function removeAllTextures() {\n            this.textures = {};\n        }\n    }]);\n\n    return MovieClipSequence;\n}(PIXI.Container);\n\nexports.default = MovieClipSequence;\n\n},{}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Button2 = require(\"./Button\");\n\nvar _Button3 = _interopRequireDefault(_Button2);\n\nvar _ismobilejs = require(\"ismobilejs\");\n\nvar _ismobilejs2 = _interopRequireDefault(_ismobilejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends P3.Button\r\n */\nvar MuteButton = function (_Button) {\n    _inherits(MuteButton, _Button);\n\n    /**\r\n     * @param {ButtonStates} states\r\n     */\n    function MuteButton(states) {\n        _classCallCheck(this, MuteButton);\n\n        var _this = _possibleConstructorReturn(this, (MuteButton.__proto__ || Object.getPrototypeOf(MuteButton)).call(this, states));\n\n        _this._currentIconTexture = _this.isEnabled() ? _this._states.icon : _this._states.iconAlt;\n        _this._currentIconOverTexture = _this.isEnabled() ? _this._states.iconOver : _this._states.iconOverAlt;\n        _this._currentIconDownTexture = _this.isEnabled() ? _this._states.iconDown : _this._states.iconDownAlt;\n\n        _this._icon.texture = _this._states.iconOver && !_ismobilejs2.default.any ? _this._currentIconOverTexture : _this._currentIconTexture;\n        return _this;\n    }\n\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\n\n\n    _createClass(MuteButton, [{\n        key: \"_onMouseClick\",\n        value: function _onMouseClick(event) {\n            this._currentIconTexture = !this.isEnabled() ? this._states.icon : this._states.iconAlt;\n            this._currentIconOverTexture = !this.isEnabled() ? this._states.iconOver : this._states.iconOverAlt;\n            this._currentIconDownTexture = !this.isEnabled() ? this._states.iconDown : this._states.iconDownAlt;\n\n            this._icon.texture = this._states.iconOver && !_ismobilejs2.default.any ? this._currentIconOverTexture : this._currentIconTexture;\n\n            if (!!_Button3.default.audio) {\n                _Button3.default.audio.mute(!_Button3.default.audio.isMute);\n            }\n            _get(MuteButton.prototype.__proto__ || Object.getPrototypeOf(MuteButton.prototype), \"_onMouseClick\", this).call(this, event);\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"isEnabled\",\n        value: function isEnabled() {\n            return !!_Button3.default.audio && !_Button3.default.audio.isMute;\n        }\n    }]);\n\n    return MuteButton;\n}(_Button3.default);\n\nexports.default = MuteButton;\n\n},{\"./Button\":9,\"ismobilejs\":1}],16:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\nvar Scene = function (_PIXI$Container) {\n    _inherits(Scene, _PIXI$Container);\n\n    function Scene() {\n        _classCallCheck(this, Scene);\n\n        /**\r\n         * @member {object} signals\r\n         * @member {signals.Signal} signals.next\r\n         * @member {signals.Signal} signals.previous\r\n         * @member {signals.Signal} signals.home\r\n         * @member {signals.Signal} signals.pause\r\n         */\n        var _this = _possibleConstructorReturn(this, (Scene.__proto__ || Object.getPrototypeOf(Scene)).call(this));\n\n        _this.signals = {\n            next: new signals.Signal(),\n            previous: new signals.Signal(),\n            home: new signals.Signal(),\n            pause: new signals.Signal()\n        };\n\n        /**\r\n         * @member {boolean} - The scene has finished loading its required manifest.\r\n         */\n        _this.loaded = false;\n\n        /**\r\n         * @member {boolean} - The scene is always updated regardless of its place in the stack.\r\n         */\n        _this.alwaysUpdate = false;\n\n        /**\r\n         * @member {boolean} - The scene will call appear automatically.\r\n         */\n        _this.autoAppear = true;\n\n        /**\r\n         * @member {Array.<TweenMax|TweenLite|TimelineMax|TimelineLite>}\r\n         * @private\r\n         */\n        _this._tweens = [];\n        return _this;\n    }\n\n    /**\r\n     * @returns {Scene}\r\n     */\n\n\n    _createClass(Scene, [{\n        key: \"preloader\",\n        value: function preloader() {\n            return new Scene();\n        }\n\n        /**\r\n         * @returns {Array}\r\n         */\n\n    }, {\n        key: \"load\",\n        value: function load() {\n            return [];\n        }\n    }, {\n        key: \"unload\",\n        value: function unload() {}\n        // override\n\n\n        /**\r\n         * This method is called when a scene is initialized.\r\n         */\n\n    }, {\n        key: \"init\",\n        value: function init() {}\n        // override\n\n\n        /**\r\n         * This method is called when a scene is destroyed.\r\n         *\r\n         * @param options\r\n         * @param [options.children=false]\r\n         * @param [options.texture=false]\r\n         * @param [options.baseTexture=false]\r\n         */\n\n    }, {\n        key: \"destroy\",\n        value: function destroy(options) {\n            this.signals.next.dispose();\n            this.signals.previous.dispose();\n            this.signals.home.dispose();\n            this.signals.pause.dispose();\n\n            this.killAllTweens();\n\n            _get(Scene.prototype.__proto__ || Object.getPrototypeOf(Scene.prototype), \"destroy\", this).call(this, options);\n        }\n\n        /**\r\n         * This method is called when the device dimensions are changed.\r\n         */\n\n    }, {\n        key: \"resize\",\n        value: function resize() {}\n        // override\n\n\n        /**\r\n         * This method is called when the scene is 'top' of the stack.\r\n         */\n\n    }, {\n        key: \"update\",\n        value: function update() {}\n        // override\n\n\n        /**\r\n         * This method is called when the scene is shown for the first time.\r\n         */\n\n    }, {\n        key: \"appear\",\n        value: function appear() {\n            this.animateIn();\n        }\n\n        /**\r\n         * This method is called when the scene is shown - regardless of actual visibility.\r\n         */\n\n    }, {\n        key: \"show\",\n        value: function show() {}\n\n        /**\r\n         * This method is called when the scene is hidden - regardless of actual visibility.\r\n         */\n\n    }, {\n        key: \"hide\",\n        value: function hide() {}\n\n        /**\r\n         * @param {function} [callback]\r\n         * @param {*} [scope]\r\n         */\n\n    }, {\n        key: \"animateIn\",\n        value: function animateIn(callback, scope) {}\n\n        /**\r\n         * @param {function} [callback]\r\n         * @param {*} [scope]\r\n         */\n\n    }, {\n        key: \"animateOut\",\n        value: function animateOut(callback, scope) {}\n\n        /**\r\n         * @param {...TweenMax|TweenLite|TimelineMax|TimelineLite} tween - The tween(s) to add to the scene.\r\n         * @returns {TweenMax|TweenLite|TimelineMax|TimelineLite} The first tween that was added.\r\n         */\n\n    }, {\n        key: \"addTween\",\n        value: function addTween(tween) {\n            var len = arguments.length;\n            if (len > 1) {\n                for (var i = 0; i < len; ++i) {\n                    this.addTween(arguments[tween]);\n                }\n            } else {\n                if (this._tweens.indexOf(tween) === -1) {\n                    this._tweens.push(tween);\n                } else {\n                    console.warn(\"Tween already added to scene!\", tween);\n                }\n            }\n            return tween;\n        }\n\n        /**\r\n         * @param {...TweenMax|TweenLite|TimelineMax|TimelineLite} tween - The tween(s) to remove from the scene.\r\n         * @returns {TweenMax|TweenLite|TimelineMax|TimelineLite} The first tween that was removed.\r\n         */\n\n    }, {\n        key: \"removeTween\",\n        value: function removeTween(tween) {\n            var len = arguments.length;\n            if (len > 1) {\n                for (var i = 0; i < len; ++i) {\n                    this.removeTween(arguments[tween]);\n                }\n            } else {\n                var _i = this._tweens.indexOf(tween);\n                if (_i !== -1) {\n                    this._tweens[_i].kill();\n                    this._tweens.splice(_i, 1);\n                }\n            }\n            return tween;\n        }\n    }, {\n        key: \"pauseAllTweens\",\n        value: function pauseAllTweens() {\n            for (var i = 0; i < this._tweens.length; ++i) {\n                this._tweens[i].pause();\n            }\n        }\n    }, {\n        key: \"resumeAllTweens\",\n        value: function resumeAllTweens() {\n            for (var i = 0; i < this._tweens.length; ++i) {\n                this._tweens[i].resume();\n            }\n        }\n    }, {\n        key: \"killAllTweens\",\n        value: function killAllTweens() {\n            for (var i = 0; i < this._tweens.length; ++i) {\n                this._tweens[i].kill();\n            }\n        }\n    }]);\n\n    return Scene;\n}(PIXI.Container);\n\nexports.default = Scene;\n\n},{}],17:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Scene = require(\"./Scene\");\n\nvar _Scene2 = _interopRequireDefault(_Scene);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3\r\n */\nvar SceneManager = function () {\n    /**\r\n     * @param {PIXI.CanvasRenderer|PIXI.WebGLRenderer} renderer\r\n     */\n    function SceneManager(renderer) {\n        _classCallCheck(this, SceneManager);\n\n        /**\r\n         * @member {Object}\r\n         * @member {signals.Signal} signals.next\r\n         */\n        this.signals = {\n            next: new signals.Signal()\n        };\n\n        /**\r\n         * @member {PIXI.Container}\r\n         * @private\r\n         */\n        this._view = new PIXI.Container();\n\n        /**\r\n         * @member {PIXI.CanvasRenderer|PIXI.WebGLRenderer}\r\n         * @private\r\n         */\n        this._renderer = renderer;\n\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\n        this._next = null;\n\n        /**\r\n         * @type {Array.<Scene>}\r\n         * @private\r\n         */\n        this._stack = [];\n    }\n\n    /**\r\n     * Shows the next Scene. This will destroy all current scenes and remove them from the stack.\r\n     * @param {Scene} scene - The scene to show.\r\n     */\n\n\n    _createClass(SceneManager, [{\n        key: \"show\",\n        value: function show(scene) {\n            this._next = {};\n            this._next.type = 0;\n            this._next.scene = scene;\n        }\n\n        /**\r\n         * @param {Scene} scene - The scene to add.\r\n         * @param {boolean} [replace] - All other scenes are removed from the display list but will remain in the stack.\r\n         */\n\n    }, {\n        key: \"add\",\n        value: function add(scene, replace) {\n            this._next = {};\n            this._next.type = 1;\n            this._next.scene = scene;\n            this._next.replace = replace;\n        }\n\n        /**\r\n         * @param {Scene} scene - The scene to add.\r\n         * @param {number} [count=1] - The number of scenes to swap with the new scene.\r\n         */\n\n    }, {\n        key: \"swap\",\n        value: function swap(scene, count) {\n            this._next = {};\n            this._next.type = 2;\n            this._next.scene = scene;\n            this._next.removeCount = Math.max(1, count) || 1;\n        }\n\n        /**\r\n         * Remove a Scene from the top of the stack.\r\n         * @param {number} [count=1] - The number of scenes to remove from the stack.\r\n         */\n\n    }, {\n        key: \"remove\",\n        value: function remove(count) {\n            this._next = {};\n            this._next.type = 2;\n            this._next.removeCount = Math.max(1, count) || 1;\n        }\n\n        /**\r\n         * Remove all Scenes from the stack.\r\n         */\n\n    }, {\n        key: \"removeAll\",\n        value: function removeAll() {\n            this._next = {};\n            this._next.type = 3;\n            this._next.removeCount = Number.MAX_SAFE_INTEGER;\n        }\n\n        /**\r\n         * Destroys all Scenes in the stack.\r\n         */\n\n    }, {\n        key: \"clear\",\n        value: function clear() {\n            if (this._transitionInProgress) return;\n\n            for (var i = 0; i < this._stack.length; ++i) {\n                var scene = this._stack[i];\n                if (scene.parent) {\n                    scene.hide();\n                    scene.parent.removeChild(scene);\n                }\n                scene.destroy({ children: true });\n            }\n            this._stack.length = 0;\n        }\n\n        /**\r\n         * Updates the Scene at the top of the stack.\r\n         */\n\n    }, {\n        key: \"update\",\n        value: function update() {\n            this._next && this._nextScene();\n\n            if (this._stack.length) {\n                this.top.update();\n                for (var i = 0; i < this._stack.length - 1; ++i) {\n                    var scene = this._stack[i];\n                    scene.alwaysUpdate && scene.update();\n                }\n            }\n        }\n\n        /**\r\n         * Attempts to resize any children added to the SceneManagers view.\r\n         */\n\n    }, {\n        key: \"resize\",\n        value: function resize() {\n            for (var i = 0; i < this._view.children.length; ++i) {\n                var child = this._view.children[i];\n                child.resize && child.resize();\n            }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_nextScene\",\n        value: function _nextScene() {\n            var next = this._next;\n            this._next = null;\n\n            var scene = next.scene;\n\n            if (this.top) {\n                this.top.hide();\n\n                switch (next.type) {\n                    // show\n                    case 0:\n                        {\n                            while (this.top) {\n                                this._removeTop();\n                            }break;\n                        }\n                    // add\n                    case 1:\n                        {\n                            if (next.replace) {\n                                for (var i = this._stack.length - 1; i >= 0; --i) {\n                                    var other = this._stack[i];\n                                    other.parent && other.parent.removeChild(other);\n                                }\n                            }\n                            break;\n                        }\n                    // remove\n                    case 2:\n                        {\n                            var count = Math.min(this._stack.length, next.removeCount);\n                            for (var _i = 0; _i < count; ++_i) {\n                                this._removeTop();\n                            }\n                            break;\n                        }\n                }\n            }\n\n            if (scene) {\n                scene.init();\n                this._stack.push(scene);\n            } else {\n                scene = this.top;\n            }\n\n            if (scene) {\n                scene.resize();\n                !scene.parent && this._view.addChild(scene);\n\n                scene.show();\n                if (next.type !== 3 && scene.autoAppear) {\n                    scene.appear();\n                }\n            }\n\n            console.log(\"stack:\", this._stack);\n            this.signals.next.dispatch(this, scene);\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_removeTop\",\n        value: function _removeTop() {\n            this.top.parent && this.top.parent.removeChild(this.top);\n            this.top.destroy({ children: true });\n            this.top.unload();\n            this._stack.pop();\n        }\n\n        /**\r\n         * @returns {PIXI.Container}\r\n         */\n\n    }, {\n        key: \"view\",\n        get: function get() {\n            return this._view;\n        }\n\n        /**\r\n         * @returns {PIXI.CanvasRenderer|PIXI.WebGLRenderer}\r\n         */\n\n    }, {\n        key: \"renderer\",\n        get: function get() {\n            return this._renderer;\n        }\n\n        /**\r\n         * The top most Scene in the stack.\r\n         * @returns {Scene}\r\n         */\n\n    }, {\n        key: \"top\",\n        get: function get() {\n            return this._stack.length ? this._stack[this._stack.length - 1] : null;\n        }\n    }]);\n\n    return SceneManager;\n}();\n\nexports.default = SceneManager;\n\n},{\"./Scene\":16}],18:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ismobilejs = require(\"ismobilejs\");\n\nvar _ismobilejs2 = _interopRequireDefault(_ismobilejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3\r\n */\nvar View = function () {\n    /**\r\n     * @param {Object} [options]\r\n     * @param {boolean} [options.width=0]\r\n     * @param {number} [options.height=0]\r\n     * @param {string} [options.holderId]\r\n     * @param {boolean} [options.portrait=false]\r\n     * @param {string} [options.rotateImageUrl]\r\n     * @param {number} [options.rotateImageColor=0xFFFFFF]\r\n     * @param {boolean} [options.aspectRatioFillHeight=true]\r\n     */\n    function View(options) {\n        _classCallCheck(this, View);\n\n        /**\r\n         * @member {Object}\r\n         */\n        this.signals = {};\n\n        /**\r\n         * @member {signals.Signal}\r\n         */\n        this.signals.ready = new signals.Signal();\n\n        /**\r\n         * @member {signals.Signal}\r\n         */\n        this.signals.resize = new signals.Signal();\n\n        /**\r\n         * @type {Object}\r\n         * @private\r\n         */\n        this._options = Object.assign({}, {\n            width: 0,\n            height: 0,\n            holderId: \"game\",\n            portrait: false,\n            rotateImageColor: 0xFFFFFF,\n            aspectRatioFillHeight: true\n        }, options);\n\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\n        this._holder = null;\n\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\n        this._canvas = null;\n\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\n        this._iosfix = null;\n\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\n        this._rotateImage = null;\n\n        /**\r\n         * @type {string}\r\n         * @private\r\n         */\n        this._targetOrientation = this._options.portrait ? \"portrait\" : \"landscape\";\n\n        if (document.readyState !== \"complete\") {\n            window.self.onload = this._onLoad.bind(this);\n        } else {\n            this._onLoad();\n        }\n    }\n\n    /**\r\n     */\n\n\n    _createClass(View, [{\n        key: \"resize\",\n        value: function resize() {\n            var width = _ismobilejs2.default.any ? document.documentElement.clientWidth : window.innerWidth;\n            var height = _ismobilejs2.default.any ? document.documentElement.clientHeight : window.innerHeight;\n\n            if (window.self === window.top) {\n                this._holder.style.width = width + \"px\";\n                this._holder.style.height = height + \"px\";\n            } else {\n                this._holder.style.width = \"100%\";\n                this._holder.style.height = \"100%\";\n            }\n\n            if (_ismobilejs2.default.apple.device) {\n                this._iosfix.style.height = parseInt(this._holder.style.height) + 1 + \"px\";\n            }\n\n            // this scroll is used in IOS 8.0+ to move the game down when the user clicks to show the scrollbar.\n            window.scrollTo(0, 0);\n\n            if (this._options.aspectRatioFillHeight) {\n                var ratioW = width / this._options.width;\n                var ratioH = this._options.height / height;\n\n                this._updateDimensions(Math.floor(this._options.width * ratioW * ratioH), this._options.height);\n            } else {\n                var _ratioW = this._options.width / width;\n                var _ratioH = height / this._options.height;\n\n                this._updateDimensions(this._options.width, Math.floor(this._options.height * _ratioH * _ratioW));\n            }\n\n            this.toggleRotate(!this.isCorrectOrientation);\n            this.signals.resize.dispatch(this.isCorrectOrientation);\n        }\n\n        /**\r\n         * @param {boolean} value\r\n         */\n\n    }, {\n        key: \"toggleRotate\",\n        value: function toggleRotate(value) {\n            this._canvas.style.display = value ? \"none\" : \"block\";\n            this._rotateImage.style.display = value ? \"block\" : \"none\";\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_createHolder\",\n        value: function _createHolder() {\n            if (navigator[\"isCocoonJS\"]) return;\n\n            this._holder = document.getElementById(this._options.holderId);\n            if (!this._holder) {\n                this._holder = document.createElement(\"div\");\n                this._holder.id = this._options.holderId;\n                document.body.appendChild(this._holder);\n            }\n\n            this._holder.style.position = \"absolute\";\n            this._holder.style.left = 0;\n            this._holder.style.top = 0;\n            this._holder.style.width = window.self.innerWidth + \"px\";\n            this._holder.style.height = window.self.innerHeight + \"px\";\n            View.holder = this._holder;\n\n            // forces the browser bars to be hidden in iOS9\n            if (_ismobilejs2.default.apple.device) {\n                this._iosfix = document.createElement(\"div\");\n                this._iosfix.id = \"iosfix\";\n                this._iosfix.style.position = \"absolute\";\n                this._iosfix.style.left = 0;\n                this._iosfix.style.right = 0;\n                this._iosfix.style.top = 0;\n                this._iosfix.style.bottom = 0;\n                this._iosfix.style.width = \"100%\";\n                this._iosfix.style.height = this._holder.height + 1;\n                this._iosfix.style.visibility = \"hidden\";\n                document.body.appendChild(this._iosfix);\n                View.iosfix = this._iosfix;\n            }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_createCanvas\",\n        value: function _createCanvas() {\n            if (navigator[\"isCocoonJS\"]) {\n                this._canvas = document.createElement(\"screencanvas\");\n                this._canvas.id = \"canvas\";\n                this._canvas.width = this._options.width;\n                this._canvas.height = this._options.height;\n                this._canvas.style.cssText = \"idtkscale:ScaleAspectFill;\";\n                document.body.appendChild(this._canvas);\n            } else {\n                this._canvas = document.createElement(\"canvas\");\n                this._canvas.id = \"canvas\";\n                this._canvas.tabIndex = 1;\n                this._canvas.style.position = \"absolute\";\n                this._canvas.style.left = 0;\n                this._canvas.style.right = 0;\n                this._canvas.style.top = 0;\n                this._canvas.style.bottom = 0;\n                this._canvas.style.width = \"100%\";\n                this._canvas.style.height = \"100%\";\n                this._canvas.style.overflow = \"visible\";\n                this._canvas.style.display = \"block\";\n                this._holder.appendChild(this._canvas);\n            }\n            View.canvas = this._canvas;\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_createRotateImage\",\n        value: function _createRotateImage() {\n            if (navigator[\"isCocoonJS\"]) return;\n\n            this._rotateImage = document.createElement(\"div\");\n            this._rotateImage.id = \"rotateImage\";\n            this._rotateImage.style.position = \"absolute\";\n            this._rotateImage.style.left = 0;\n            this._rotateImage.style.top = 0;\n\n            this._rotateImage.style.width = \"100%\";\n            this._rotateImage.style.height = \"100%\";\n            this._rotateImage.style.marginLeft = \"auto\";\n            this._rotateImage.style.marginRight = 0 + \"auto\";\n            this._rotateImage.style.overflow = \"visible\";\n            this._rotateImage.style.display = \"none\";\n            this._rotateImage.style.zIndex = 1000;\n\n            this._rotateImage.style.backgroundImage = this._options.rotateImageUrl ? \"url(\" + this._options.rotateImageUrl + \")\" : \"\";\n            this._rotateImage.style.backgroundColor = this._options.rotateImageColor || 0xFFFFFF;\n            this._rotateImage.style.backgroundPosition = \"50% 50%\";\n            this._rotateImage.style.backgroundRepeat = \"no-repeat\";\n            this._rotateImage.style.backgroundSize = \"100% auto\";\n\n            this._holder.appendChild(this._rotateImage);\n\n            // prevent dragging the ui\n            this._rotateImage.addEventListener(\"touchmove\", function (event) {\n                event.preventDefault();\n                return false;\n            });\n\n            // prevent dragging the ui\n            this._rotateImage.addEventListener(\"touchstart\", function (event) {\n                event.preventDefault();\n                return false;\n            });\n\n            // prevent dragging the ui\n            this._rotateImage.addEventListener(\"touchend\", function (event) {\n                event.preventDefault();\n                return false;\n            });\n        }\n\n        /**\r\n         * @param {number} width\r\n         * @param {number} height\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_updateDimensions\",\n        value: function _updateDimensions(width, height) {\n            View.width = this._width = Math.round(width);\n            View.height = this._height = Math.round(height);\n            View.center.x = Math.round(width * 0.5);\n            View.center.y = Math.round(height * 0.5);\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_disableInteractions\",\n        value: function _disableInteractions() {\n            // prevent dragging the ui\n            View.canvas.addEventListener(\"touchmove\", function (event) {\n                event.preventDefault();\n                return false;\n            });\n\n            // prevent dragging the ui\n            View.canvas.addEventListener(\"touchstart\", function (event) {\n                event.preventDefault();\n                return false;\n            });\n\n            // prevent dragging the ui\n            View.canvas.addEventListener(\"touchend\", function (event) {\n                event.preventDefault();\n                return false;\n            });\n\n            if (_ismobilejs2.default.android.device) {\n                View.canvas.addEventListener(\"mousedown\", function (event) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                }, false);\n\n                View.canvas.addEventListener(\"mouseup\", function (event) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                }, false);\n\n                View.canvas.addEventListener(\"click\", function (event) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                }, false);\n            }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onLoad\",\n        value: function _onLoad() {\n            var that = this;\n            setTimeout(function () {\n                init.call(that);\n            }, 0);\n\n            function init() {\n                this._createHolder();\n                this._createCanvas();\n                this._createRotateImage();\n                this._disableInteractions();\n\n                if (navigator[\"isCocoonJS\"]) {\n                    this.updateDimensions(this._options.width * (window.innerWidth / this._options.width) / (window.innerHeight / this._options.height), this._options.height);\n                    this.signals.ready.dispatch(this._canvas);\n                } else {\n                    if (_ismobilejs2.default.android.device) {\n                        window.self.addEventListener(\"orientationchange\", this._onOrientationChange.bind(this), false);\n                    } else {\n                        window.self.addEventListener(\"resize\", this._onResize.bind(this), false);\n                    }\n                    this.signals.ready.dispatch(this._canvas);\n\n                    this.resize();\n                }\n            }\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onResize\",\n        value: function _onResize(event) {\n            this.resize();\n        }\n\n        /**\r\n         * @param {Event} event\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_onOrientationChange\",\n        value: function _onOrientationChange(event) {\n            window.self.addEventListener(\"resize\", listener, false);\n\n            var that = this;\n            function listener() {\n                window.self.removeEventListener(\"resize\", listener, false);\n                that.resize();\n            }\n        }\n\n        /**\r\n         * @returns {Element}\r\n         */\n\n    }, {\n        key: \"holder\",\n        get: function get() {\n            return this._holder;\n        }\n\n        /**\r\n         * @returns {Object}\r\n         */\n\n    }, {\n        key: \"options\",\n        get: function get() {\n            return this._options;\n        }\n\n        /**\r\n         * @returns {string}\r\n         */\n\n    }, {\n        key: \"orientation\",\n        get: function get() {\n            return this._width >= this._height ? \"landscape\" : \"portrait\";\n        }\n\n        /**\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"isCorrectOrientation\",\n        get: function get() {\n            return _ismobilejs2.default.any ? this.orientation === this._targetOrientation : true;\n        }\n    }]);\n\n    return View;\n}();\n\n/**\r\n * @type {Element}\r\n */\n\n\nexports.default = View;\nView.holder = null;\n\n/**\r\n * @type {Element}\r\n */\nView.canvas = null;\n\n/**\r\n * @type {number}\r\n */\nView.width = 0;\n\n/**\r\n * @type {number}\r\n */\nView.height = 0;\n\n/**\r\n * @type {PIXI.Point}\r\n */\nView.center = new PIXI.Point();\n\n},{\"ismobilejs\":1}],19:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\r\n * Two Pi.\r\n *\r\n * @static\r\n * @constant\r\n * @memberOf P3\r\n * @type {number}\r\n */\nvar PI_2 = exports.PI_2 = Math.PI * 2;\n\n/**\r\n * Conversion factor for converting radians to degrees.\r\n *\r\n * @static\r\n * @constant\r\n * @memberOf P3\r\n * @type {number}\r\n */\nvar RAD_TO_DEG = exports.RAD_TO_DEG = 180 / Math.PI;\n\n/**\r\n * Conversion factor for converting degrees to radians.\r\n *\r\n * @static\r\n * @constant\r\n * @memberOf P3\r\n * @type {number}\r\n */\nvar DEG_TO_RAD = exports.DEG_TO_RAD = Math.PI / 180;\n\n},{}],20:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _const = require(\"./const\");\n\nObject.keys(_const).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _const[key];\n    }\n  });\n});\n\nvar _AssetManager = require(\"./AssetManager\");\n\nObject.defineProperty(exports, \"AssetManager\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AssetManager).default;\n  }\n});\n\nvar _Button = require(\"./Button\");\n\nObject.defineProperty(exports, \"Button\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Button).default;\n  }\n});\n\nvar _ButtonManager = require(\"./ButtonManager\");\n\nObject.defineProperty(exports, \"ButtonManager\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ButtonManager).default;\n  }\n});\n\nvar _ButtonStates = require(\"./ButtonStates\");\n\nObject.defineProperty(exports, \"ButtonStates\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ButtonStates).default;\n  }\n});\n\nvar _Input = require(\"./Input\");\n\nObject.defineProperty(exports, \"Input\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Input).default;\n  }\n});\n\nvar _MovieClip = require(\"./MovieClip\");\n\nObject.defineProperty(exports, \"MovieClip\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_MovieClip).default;\n  }\n});\n\nvar _MovieClipSequence = require(\"./MovieClipSequence\");\n\nObject.defineProperty(exports, \"MovieClipSequence\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_MovieClipSequence).default;\n  }\n});\n\nvar _MuteButton = require(\"./MuteButton\");\n\nObject.defineProperty(exports, \"MuteButton\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_MuteButton).default;\n  }\n});\n\nvar _Scene = require(\"./Scene\");\n\nObject.defineProperty(exports, \"Scene\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Scene).default;\n  }\n});\n\nvar _SceneManager = require(\"./SceneManager\");\n\nObject.defineProperty(exports, \"SceneManager\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_SceneManager).default;\n  }\n});\n\nvar _View = require(\"./View\");\n\nObject.defineProperty(exports, \"View\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_View).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./AssetManager\":8,\"./Button\":9,\"./ButtonManager\":10,\"./ButtonStates\":11,\"./Input\":12,\"./MovieClip\":13,\"./MovieClipSequence\":14,\"./MuteButton\":15,\"./Scene\":16,\"./SceneManager\":17,\"./View\":18,\"./const\":19}],21:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.utils = exports.math = undefined;\n\nvar _audio = require(\"./audio\");\n\nObject.keys(_audio).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _audio[key];\n        }\n    });\n});\n\nvar _camera = require(\"./camera\");\n\nObject.keys(_camera).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _camera[key];\n        }\n    });\n});\n\nvar _core = require(\"./core\");\n\nObject.keys(_core).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _core[key];\n        }\n    });\n});\n\nvar _math = require(\"./math\");\n\nObject.keys(_math).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _math[key];\n        }\n    });\n});\n\nvar _transition = require(\"./transition\");\n\nObject.keys(_transition).forEach(function (key) {\n    if (key === \"default\" || key === \"__esModule\") return;\n    Object.defineProperty(exports, key, {\n        enumerable: true,\n        get: function get() {\n            return _transition[key];\n        }\n    });\n});\n\nvar math = _interopRequireWildcard(_math);\n\nvar _utils = require(\"./utils\");\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.math = math;\nexports.utils = utils;\n\n\nglobal.P3 = exports;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./audio\":4,\"./camera\":7,\"./core\":20,\"./math\":24,\"./transition\":27,\"./utils\":29}],22:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3.math\r\n */\nvar Color = function () {\n    /**\r\n     * @param {number|string} [hex=0x0]\r\n     * @param {number} [alpha=0]\r\n     */\n    function Color() {\n        var hex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0x0;\n        var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n        _classCallCheck(this, Color);\n\n        /**\r\n         * @member {number}\r\n         */\n        this._r = 0;\n\n        /**\r\n         * @member {number}\r\n         */\n        this._g = 0;\n\n        /**\r\n         * @member {number}\r\n         */\n        this._b = 0;\n\n        /**\r\n         * @member {number}\r\n         */\n        this._a = alpha;\n\n        /**\r\n         * @member {number}\r\n         */\n        this._h = 0;\n\n        /**\r\n         * @member {number}\r\n         */\n        this._s = 0;\n\n        /**\r\n         * @member {number}\r\n         */\n        this._v = 0;\n\n        this.setHex(hex);\n    }\n\n    /**\r\n     * @param {number} value\r\n     * @returns {string}\r\n     */\n\n\n    _createClass(Color, [{\n        key: \"setHex\",\n\n\n        /**\r\n         * Set the color from a hex formatted string.\r\n         * http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\n         *\r\n         * @param {number|string} value\r\n         * @returns {Color}\r\n         */\n        value: function setHex(value) {\n            if (typeof value === \"number\") {\n                value = Color.hexNumberToString(value);\n            }\n\n            var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n            var hex = value.replace(shorthandRegex, function (m, r, g, b) {\n                return r + r + g + g + b + b;\n            });\n\n            var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            if (result) {\n                this._r = parseInt(result[1], 16) / 255;\n                this._g = parseInt(result[2], 16) / 255;\n                this._b = parseInt(result[3], 16) / 255;\n\n                this._updateHSV();\n            }\n            return this;\n        }\n\n        /**\r\n         * Set the color from another color.\r\n         *\r\n         * @param {Color} color\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"setColor\",\n        value: function setColor(color) {\n            this._r = color.r;\n            this._g = color.g;\n            this._b = color.b;\n            this._a = color.a;\n            this._h = color.h;\n            this._s = color.s;\n            this._v = color.v;\n            return this;\n        }\n\n        /**\r\n         * Set the color from RGB values.\r\n         *\r\n         * @param {number} r - The red value to set.\r\n         * @param {number} g - The green value to set.\r\n         * @param {number} b - The blue value to set.\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"setRGB\",\n        value: function setRGB(r, g, b) {\n            this._r = r;\n            this._g = g;\n            this._b = b;\n\n            this._updateHSV();\n            return this;\n        }\n\n        /**\r\n         * Set the color from the RGBA values.\r\n         *\r\n         * @param {number} r - The red value to set.\r\n         * @param {number} g - The green value to set.\r\n         * @param {number} b - The blue value to set.\r\n         * @param {number} a - The alpha value to set.\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"setRGBA\",\n        value: function setRGBA(r, g, b, a) {\n            this._a = a;\n\n            this.setRGB(r, g, b);\n            return this;\n        }\n\n        /**\r\n         * Set the color from the HSV values.\r\n         *\r\n         * @param {number} h - The hue value to set.\r\n         * @param {number} s - The saturation value to set.\r\n         * @param {number} v - The brightness value to set.\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"setHSV\",\n        value: function setHSV(h, s, v) {\n            this._h = h;\n            this._s = s;\n            this._v = v;\n\n            this._updateRGB();\n            return this;\n        }\n\n        /**\r\n         * Desaturate the color.\r\n         *\r\n         * @param {number} [r] - Desaturation r ratio.\r\n         * @param {number} [g] - Desaturation g ratio.\r\n         * @param {number} [b] - Desaturation b ratio.\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"desaturate\",\n        value: function desaturate() {\n            var r = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.59;\n            var g = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.30;\n            var b = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.11;\n\n            this._r = this._g * r + this._r * g + this._b * b;\n            this._g = this._r;\n            this._b = this._r;\n\n            this._updateHSV();\n            return this;\n        }\n\n        /**\r\n         * Invert the color.\r\n         *\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"invert\",\n        value: function invert() {\n            this._r = 1 - this._r;\n            this._g = 1 - this._g;\n            this._b = 1 - this._b;\n\n            this._updateHSV();\n            return this;\n        }\n\n        /**\r\n         * Blend the current color with the given one.\r\n         *\r\n         * @param {Color} to\r\n         * @param {number} [t=0.5] A number between 0 and 1.\r\n         */\n\n    }, {\n        key: \"lerp\",\n        value: function lerp(to) {\n            var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n\n            t = Math.min(1, Math.max(0, t));\n\n            this._r = this._r * (1 - t) + to.r * t;\n            this._g = this._g * (1 - t) + to.g * t;\n            this._b = this._b * (1 - t) + to.b * t;\n\n            this._updateHSV();\n            return this;\n        }\n\n        /**\r\n         * Randomize the color's values\r\n         *\r\n         * @returns {Color}\r\n         */\n\n    }, {\n        key: \"random\",\n        value: function random() {\n            this._r = Math.random();\n            this._g = Math.random();\n            this._b = Math.random();\n\n            this._updateHSV();\n            return this;\n        }\n\n        /**\r\n         * Normalize the color's values.\r\n         *\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_normalize\",\n        value: function _normalize() {\n            this._r = this._r < 0 ? 0 : this._r > 1 ? 1 : this._r;\n            this._g = this._g < 0 ? 0 : this._g > 1 ? 1 : this._g;\n            this._b = this._b < 0 ? 0 : this._b > 1 ? 1 : this._b;\n            this._a = this._a < 0 ? 0 : this._a > 1 ? 1 : this._a;\n            this._h = Number((this._h - Math.floor(this._h)).toPrecision(8));\n            this._s = this._s < 0 ? 0 : this._s > 1 ? 1 : this._s;\n            this._v = this._v < 0 ? 0 : this._v > 1 ? 1 : this._v;\n        }\n\n        /**\r\n         * Update the color's RGB values from the HSV ones.\r\n         * http://stackoverflow.com/questions/17242144/javascript-convert-hsb-hsv-color-to-rgb-accurately\r\n         *\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_updateRGB\",\n        value: function _updateRGB() {\n            this._normalize();\n\n            var i = Math.floor(this._h * 6);\n            var f = this._h * 6 - i;\n            var p = this._v * (1 - this._s);\n            var q = this._v * (1 - f * this._s);\n            var t = this._v * (1 - (1 - f) * this._s);\n\n            switch (i % 6) {\n                case 0:\n                    this._r = this._v;\n                    this._g = t;\n                    this._b = p;\n                    break;\n\n                case 1:\n                    this._r = q;\n                    this._g = this._v;\n                    this._b = p;\n                    break;\n\n                case 2:\n                    this._r = p;\n                    this._g = this._v;\n                    this._b = t;\n                    break;\n\n                case 3:\n                    this._r = p;\n                    this._g = q;\n                    this._b = this._v;\n                    break;\n\n                case 4:\n                    this._r = t;\n                    this._g = p;\n                    this._b = this._v;\n                    break;\n\n                case 5:\n                    this._r = this._v;\n                    this._g = p;\n                    this._b = q;\n                    break;\n            }\n        }\n\n        /**\r\n         * Update the color's HSV values from the RGB ones.\r\n         * http://www.deadbeef.com/converting_rgb_to_hsv_in_c/\r\n         *\r\n         * @private\r\n         */\n\n    }, {\n        key: \"_updateHSV\",\n        value: function _updateHSV() {\n            this._normalize();\n\n            var maxC = Math.max(this._r, this._g, this._b);\n            var minC = Math.min(this._r, this._g, this._b);\n            var delta = maxC - minC;\n\n            var h = 0;\n            var s = 0;\n            var v = maxC;\n\n            if (delta == 0) {\n                h = 0;\n                s = 0;\n            } else {\n                s = delta / maxC;\n                var dR = 60 * (maxC - this._r) / delta + 180;\n                var dG = 60 * (maxC - this._g) / delta + 180;\n                var dB = 60 * (maxC - this._b) / delta + 180;\n                if (this._r == maxC) h = dB - dG;else if (this._g == maxC) h = 120 + dR - dB;else h = 240 + dG - dR;\n            }\n\n            if (h < 0) h += 360;\n            if (h >= 360) h -= 360;\n\n            this._h = h / 360;\n            this._s = s;\n            this._v = v;\n        }\n\n        /**\r\n         * Return the hex value of the color.\r\n         * http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\n         *\r\n         * @returns {string}\r\n         */\n\n    }, {\n        key: \"toHex\",\n        value: function toHex() {\n            return \"#\" + ((1 << 24) + (Math.round(this._r * 255) << 16) + (Math.round(this._g * 255) << 8) + Math.round(this._b * 255)).toString(16).slice(1);\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"toNumber\",\n        value: function toNumber() {\n            return (Math.round(this._r * 255) << 16) + (Math.round(this._g * 255) << 8) + Math.round(this._b * 255);\n        }\n\n        /**\r\n         * Return the CSS RGBA value.\r\n         *\r\n         * @returns {string}\r\n         */\n\n    }, {\n        key: \"toCSS\",\n        value: function toCSS() {\n            return \"rgba(\" + Math.round(this._r * 255) + \",\" + Math.round(this._g * 255) + \",\" + Math.round(this._b * 255) + \",\" + this._a + \")\";\n        }\n\n        /**\r\n         * Get the color's red value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"r\",\n        get: function get() {\n            return this._r;\n        }\n\n        /**\r\n         * Set the color's red value.\r\n         *\r\n         * @param {number} value - The red value to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._r = value;\n            this._updateHSV();\n        }\n\n        /**\r\n         * Get the color's green value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"g\",\n        get: function get() {\n            return this._g;\n        }\n\n        /**\r\n         * Set the color's green value.\r\n         *\r\n         * @param {number} value - The green value to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._g = value;\n            this._updateHSV();\n        }\n\n        /**\r\n         * Get the color's blue value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"b\",\n        get: function get() {\n            return this._b;\n        }\n\n        /**\r\n         * Set the color's blue value.\r\n         *\r\n         * @param {number} value - The blue value to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._b = value;\n            this._updateHSV();\n        }\n\n        /**\r\n         * Get the color's alpha value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"a\",\n        get: function get() {\n            return this._a;\n        }\n\n        /**\r\n         * Set the color's alpha value.\r\n         *\r\n         * @param {number} value - The alpha value to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._a = value;\n        }\n\n        /**\r\n         * Get the color's hue value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"h\",\n        get: function get() {\n            return this._h;\n        }\n\n        /**\r\n         * Set the color's hue value.\r\n         *\r\n         * @param {number} value - The hue value to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._h = value;\n            this._updateRGB();\n        }\n\n        /**\r\n         * Get the color's saturation value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"s\",\n        get: function get() {\n            return this._s;\n        }\n\n        /**\r\n         * Set the color's saturation value.\r\n         *\r\n         * @param {number} value - The saturation to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._s = value;\n            this._updateRGB();\n        }\n\n        /**\r\n         * Get the color's brightness value.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"v\",\n        get: function get() {\n            return this._v;\n        }\n\n        /**\r\n         * Set the color's brightness value.\r\n         *\r\n         * @param {number} value - The brightness to set.\r\n         */\n        ,\n        set: function set(value) {\n            this._v = value;\n            this._updateRGB();\n        }\n\n        /**\r\n         * The luminosity of the color.\r\n         * http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"luminosity\",\n        get: function get() {\n            return 0.299 * this._r + 0.587 * this._g + 0.114 * this._b;\n        }\n    }], [{\n        key: \"hexNumberToString\",\n        value: function hexNumberToString(value) {\n            var pad = \"#000000\";\n            var hex = parseInt(value).toString(16);\n            return pad.substring(0, pad.length - hex.length) + hex;\n        }\n    }]);\n\n    return Color;\n}();\n\nexports.default = Color;\n\n},{}],23:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3.math\r\n */\nvar Vector2 = function () {\n    /**\r\n     * @param {number} [x=0] - The x axis of the vector.\r\n     * @param {number} [y=0] - The y axis of the vector.\r\n     */\n    function Vector2() {\n        var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _classCallCheck(this, Vector2);\n\n        /**\r\n         * @member {number}\r\n         */\n        this.x = x;\n\n        /**\r\n         * @member {number}\r\n         */\n        this.y = y;\n    }\n\n    /**\r\n     * Returns a new vector equal to the sum of the vector plus the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to add.\r\n     * @returns {Vector2}\r\n     */\n\n\n    _createClass(Vector2, [{\n        key: \"add\",\n        value: function add(v) {\n            return new Vector2(this.x + v.x, this.y + v.y);\n        }\n\n        /**\r\n         * Returns a new vector equal to the sum of the vector minus the given vector.\r\n         *\r\n         * @param {Vector2} v - The vector to subtract.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"subtract\",\n        value: function subtract(v) {\n            return new Vector2(this.x - v.x, this.y - v.y);\n        }\n\n        /**\r\n         * Returns a new vector equal to the sum of the vector scaled by the given value.\r\n         *\r\n         * @param {number} s - The amount to scale the vector by.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"scale\",\n        value: function scale(s) {\n            return new Vector2(this.x * s, this.y * s);\n        }\n\n        /**\r\n         * Increments this vector by the given vector.\r\n         *\r\n         * @param {Vector2} v - The vector to add.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"incrementBy\",\n        value: function incrementBy(v) {\n            this.x += v.x;\n            this.y += v.y;\n            return this;\n        }\n\n        /**\r\n         * Decrements this vector by the given vector.\r\n         *\r\n         * @param {Vector2} v - The vector to subtract.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"decrementBy\",\n        value: function decrementBy(v) {\n            this.x -= v.x;\n            this.y -= v.y;\n            return this;\n        }\n\n        /**\r\n         * Scale this vector by the given value.\r\n         * @param {number} s - The amount to scale the vector by.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"scaleBy\",\n        value: function scaleBy(s) {\n            this.x *= s;\n            this.y *= s;\n            return this;\n        }\n\n        /**\r\n         * Normalize the vector to a length of 1.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"normalize\",\n        value: function normalize() {\n            var l = this.length;\n            if (l > 0) {\n                this.x /= l;\n                this.y /= l;\n            }\n            return this;\n        }\n\n        /**\r\n         * Crop the vector to the given length.\r\n         *\r\n         * @param {number} length - The length the vector must exceed.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"truncate\",\n        value: function truncate(length) {\n            var l = this.length;\n            if (l > length) {\n                this.x /= l * length;\n                this.y /= l * length;\n            }\n            return this;\n        }\n\n        /**\r\n         * Returns the left hand normal of this vector.\r\n         *\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"normal\",\n        value: function normal() {\n            return new Vector2(this.y, -this.x);\n        }\n\n        /**\r\n         * Returns the dot product for this and the given vector.\r\n         *\r\n         * @param {Vector2} v - The other vector in the equation.\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"dot\",\n        value: function dot(v) {\n            return this.x * v.x + this.y * v.y;\n        }\n\n        /**\r\n         * Returns the dot product for the left hand normal of this vector and the given vector.\r\n         *\r\n         * @param {Vector2} v - The other vector in the equation.\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"perp\",\n        value: function perp(v) {\n            return -this.y * v.x + this.x * v.y;\n        }\n\n        /**\r\n         * Returns a new vector equal to the projection of this vector along the given axis.\r\n         *\r\n         * @param {Vector2} v - The axis we project this vector along.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"project\",\n        value: function project(v) {\n            v = v.clone().normalize();\n            return v.scale(this.dot(v));\n        }\n\n        /**\r\n         * Returns the angle between this vector and the given vector.\r\n         *\r\n         * @param {Vector2} v - The other vector in the equation.\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"angleBetween\",\n        value: function angleBetween(v) {\n            return Math.atan2(v.y - this.y, v.x - this.x);\n        }\n\n        /**\r\n         * Rotate the vector.\r\n         *\r\n         * @param {number} angle - The angle in radians to rotate the vector by.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"rotate\",\n        value: function rotate(angle) {\n            var cos = Math.cos(angle);\n            var sin = Math.sin(angle);\n\n            var x = cos * this.x - sin * this.y;\n            var y = cos * this.y + sin * this.x;\n\n            this.x = x;\n            this.y = y;\n\n            return this;\n        }\n\n        /**\r\n         * Rotate the vector around a point.\r\n         *\r\n         * @param {number} x - The x axis to rotate around.\r\n         * @param {number} y - The y axis to rotate around.\r\n         * @param {number} angle - The angle in radians to rotate the Vector2 by.\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"rotateAround\",\n        value: function rotateAround(x, y, angle) {\n            this.x -= x;\n            this.y -= y;\n\n            this.rotate(angle);\n\n            this.x += x;\n            this.y += y;\n\n            return this;\n        }\n\n        /**\r\n         * Creates a clone of the vector.\r\n         *\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"clone\",\n        value: function clone() {\n            return new Vector2(this.x, this.y);\n        }\n\n        /**\r\n         * Copies x and y from the given vector.\r\n         *\r\n         * @param {Vector2} v - The vector to copy.\r\n         */\n\n    }, {\n        key: \"copy\",\n        value: function copy(v) {\n            this.set(v.x, v.y);\n        }\n\n        /**\r\n         * Returns true if the given vector is equal to the given vector.\r\n         *\r\n         * @param {Vector2} v - The vector to compare with.\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"equals\",\n        value: function equals(v) {\n            return v.x === this.x && v.x === this.y;\n        }\n\n        /**\r\n         * Sets the vector to a new x and y axis.\r\n         * If the y is omitted, both x and y will be set to x.\r\n         *\r\n         * @param {number} [x=0]\r\n         * @param {number} [y=0]\r\n         */\n\n    }, {\n        key: \"set\",\n        value: function set(x, y) {\n            this.x = x || 0;\n            this.y = y || (y !== 0 ? this.x : 0);\n        }\n\n        /**\r\n         * Returns a unit vector.\r\n         *\r\n         * @returns {Vector2}\r\n         */\n\n    }, {\n        key: \"unit\",\n        value: function unit() {\n            var v = this.clone();\n            v.normalize();\n            return v;\n        }\n\n        /**\r\n         * Return the angle (in radians) of the vector.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"angle\",\n        get: function get() {\n            return Math.atan2(this.y, this.x);\n        }\n\n        /**\r\n         * Returns the magnitude of the vector.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"length\",\n        get: function get() {\n            return Math.sqrt(this.lengthSq);\n        }\n\n        /**\r\n         * Returns the magnitude squared of the vector.\r\n         * This is significantly faster than getting the length.\r\n         *\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"lengthSq\",\n        get: function get() {\n            return this.x * this.x + this.y * this.y;\n        }\n    }]);\n\n    return Vector2;\n}();\n\nexports.default = Vector2;\n\n},{}],24:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Color = require(\"./Color\");\n\nObject.defineProperty(exports, \"Color\", {\n    enumerable: true,\n    get: function get() {\n        return _interopRequireDefault(_Color).default;\n    }\n});\n\nvar _Vector = require(\"./Vector2\");\n\nObject.defineProperty(exports, \"Vector2\", {\n    enumerable: true,\n    get: function get() {\n        return _interopRequireDefault(_Vector).default;\n    }\n});\nexports.random = random;\nexports.randomInt = randomInt;\nexports.randomBool = randomBool;\nexports.randomSign = randomSign;\nexports.roundNum = roundNum;\nexports.sign = sign;\nexports.clamp = clamp;\nexports.lerp = lerp;\nexports.fmod = fmod;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Returns a random number within a range.\r\n *\r\n * @param {number} min - The minimum value (inclusive).\r\n * @param {number} max - The maximum value (exclusive).\r\n * @returns {number}\r\n */\nfunction random(min, max) {\n    return Math.random() * (max - min) + min;\n}\n\n/**\r\n * Returns a random integer within a range.\r\n *\r\n * @param {number} min - The minimum value (inclusive).\r\n * @param {number} max - The minimum value (inclusive).\r\n * @returns {number}\r\n */\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\r\n * Returns a random boolean.\r\n *\r\n * @returns {boolean}\r\n */\nfunction randomBool() {\n    return Math.random() < 0.5;\n}\n\n/**\r\n * Return -1 or 1.\r\n *\r\n * @returns {number}\r\n */\nfunction randomSign() {\n    return randomInt(0, 1) * 2 - 1;\n}\n\n/**\r\n * Rounds a value to a number of decimal places.\r\n *\r\n * @param {number} n - The value to round.\r\n * @param {number} [decimalPlaces=0] - The number of decimal places to round this number to.\r\n * @returns {number}\r\n */\nfunction roundNum(n) {\n    var decimalPlaces = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var decimals = Math.pow(10, decimalPlaces);\n    return Math.round(Math.floor(n * decimals) / decimals);\n}\n\n/**\r\n * Return the sign of the given number.\r\n *\r\n * @param {number} n\r\n */\nfunction sign(n) {\n    if (Math.abs(n) > 0) {\n        return n / Math.abs(n);\n    }\n    return 0;\n}\n\n/**\r\n * Clamps a value to a range.\r\n *\r\n * @param {number} n\r\n * @param {number} min\r\n * @param {number} max\r\n * @returns {number}\r\n */\nfunction clamp(n, min, max) {\n    if (n < min) {\n        n = min;\n    } else if (n > max) {\n        n = max;\n    }\n    return n;\n}\n\n/**\r\n * Linearly interpolate between two values.\r\n *\r\n * @param {number} a\r\n * @param {number} b\r\n * @param {number} t\r\n */\nfunction lerp(a, b, t) {\n    return a + (b - a) * t;\n}\n\n/**\r\n * https://gist.github.com/wteuber/6241786\r\n *\r\n * @param {number} a\r\n * @param {number} b\r\n * @returns {number}\r\n */\nfunction fmod(a, b) {\n    return Number((a - Math.floor(a / b) * b).toPrecision(8));\n}\n\n},{\"./Color\":22,\"./Vector2\":23}],25:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Transition2 = require(\"./Transition\");\n\nvar _Transition3 = _interopRequireDefault(_Transition2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3.transition\r\n */\nvar FadeTransition = function (_Transition) {\n    _inherits(FadeTransition, _Transition);\n\n    /**\r\n     * @param {number} [color]\r\n     * @param {number} [duration]\r\n     */\n    function FadeTransition(color, duration) {\n        _classCallCheck(this, FadeTransition);\n\n        /**\r\n         * @member {number}\r\n         * @private\r\n         */\n        var _this = _possibleConstructorReturn(this, (FadeTransition.__proto__ || Object.getPrototypeOf(FadeTransition)).call(this));\n\n        _this._color = color || 0x0;\n\n        /**\r\n         * @member {number}\r\n         * @private\r\n         */\n        _this._duration = duration || 0.8;\n\n        /**\r\n         * @member {PIXI.Graphics}\r\n         * @private\r\n         */\n        _this._quad = null;\n        return _this;\n    }\n\n    _createClass(FadeTransition, [{\n        key: \"init\",\n        value: function init() {\n            _get(FadeTransition.prototype.__proto__ || Object.getPrototypeOf(FadeTransition.prototype), \"init\", this).call(this);\n\n            this._quad = new PIXI.Graphics();\n            this._quad.visible = false;\n            this.addChild(this._quad);\n\n            this.resize();\n        }\n\n        /**\r\n         * @param {number} [delay=0]\r\n         */\n\n    }, {\n        key: \"in\",\n        value: function _in() {\n            var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            this._quad.alpha = 0;\n            this._quad.visible = true;\n            TweenMax.to(this._quad, this._duration * 0.5, {\n                delay: delay,\n                alpha: 1,\n                ease: Power2.easeInOut,\n                onComplete: function onComplete() {\n                    this.signals.in.dispatch(this);\n                },\n                onCompleteScope: this\n            });\n        }\n\n        /**\r\n         * @param {number} [delay=0.5]\r\n         */\n\n    }, {\n        key: \"out\",\n        value: function out() {\n            var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.5;\n\n            TweenMax.to(this._quad, this._duration * 0.5, {\n                delay: delay,\n                alpha: 0,\n                ease: Power2.easeInOut,\n                onComplete: function onComplete() {\n                    this._quad.visible = false;\n                    this.signals.out.dispatch(this);\n                },\n                onCompleteScope: this\n            });\n        }\n    }, {\n        key: \"resize\",\n        value: function resize() {\n            this._quad.clear();\n            this._quad.beginFill(this._color);\n            this._quad.drawRect(0, 0, P3.View.width, P3.View.height);\n            this._quad.endFill();\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"color\",\n        get: function get() {\n            return this._color;\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"duration\",\n        get: function get() {\n            return this._duration;\n        }\n    }]);\n\n    return FadeTransition;\n}(_Transition3.default);\n\nexports.default = FadeTransition;\n\n},{\"./Transition\":26}],26:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3.transition\r\n */\nvar Transition = function (_PIXI$Container) {\n    _inherits(Transition, _PIXI$Container);\n\n    function Transition() {\n        _classCallCheck(this, Transition);\n\n        /**\r\n         * @member {Object}\r\n         */\n        var _this = _possibleConstructorReturn(this, (Transition.__proto__ || Object.getPrototypeOf(Transition)).call(this));\n\n        _this.signals = {};\n\n        /**\r\n         * @member {signals.Signal}\r\n         */\n        _this.signals.in = new signals.Signal();\n\n        /**\r\n         * @member {signals.Signal}\r\n         */\n        _this.signals.out = new signals.Signal();\n\n        _this.on(\"added\", _this.init, _this);\n        return _this;\n    }\n\n    _createClass(Transition, [{\n        key: \"init\",\n        value: function init() {\n            this.off(\"added\", this.init);\n\n            this.interactive = true;\n        }\n\n        /**\r\n         * @param options\r\n         * @param [options.children=false]\r\n         * @param [options.texture=false]\r\n         * @param [options.baseTexture=false]\r\n         */\n\n    }, {\n        key: \"destroy\",\n        value: function destroy(options) {\n            this.signals.in.dispose();\n            this.signals.out.dispose();\n\n            _get(Transition.prototype.__proto__ || Object.getPrototypeOf(Transition.prototype), \"destroy\", this).call(this, options);\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"in\",\n        value: function _in() {\n            this.signals.in.dispatch(this);\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"out\",\n        value: function out() {\n            this.signals.out.dispatch(this);\n        }\n\n        /**\r\n         */\n\n    }, {\n        key: \"resize\",\n        value: function resize() {\n            // override\n        }\n    }]);\n\n    return Transition;\n}(PIXI.Container);\n\nexports.default = Transition;\n\n},{}],27:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FadeTransition = require(\"./FadeTransition\");\n\nObject.defineProperty(exports, \"FadeTransition\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_FadeTransition).default;\n  }\n});\n\nvar _Transition = require(\"./Transition\");\n\nObject.defineProperty(exports, \"Transition\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Transition).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n},{\"./FadeTransition\":25,\"./Transition\":26}],28:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @class\r\n * @memberOf P3.utils\r\n */\nvar ObjectPool = function () {\n    /**\r\n     * @param {*} t\r\n     * @param {number} size\r\n     * @param {Array} args\r\n     */\n    function ObjectPool(t, size, args) {\n        _classCallCheck(this, ObjectPool);\n\n        /**\r\n         * @member {*}\r\n         * @protected\r\n         */\n        this._t = t;\n\n        /**\r\n         * @type {Array}\r\n         * @private\r\n         */\n        this._args = args || [];\n\n        /**\r\n         * @member {Array.<*>}\r\n         * @protected\r\n         */\n        this._free = [];\n\n        /**\r\n         * @member {Array.<*>}\r\n         * @protected\r\n         */\n        this._used = [];\n\n        this.expand(Math.max(1, size));\n    }\n\n    /**\r\n     */\n\n\n    _createClass(ObjectPool, [{\n        key: \"destroy\",\n        value: function destroy() {\n            for (var i = 0; i < this._free.length; ++i) {\n                var object = this._free[i];\n                object && object.destroy && object.destroy();\n            }\n            this._free.length = 0;\n\n            for (var _i = 0; _i < this._used.length; ++_i) {\n                var _object = this._used[_i];\n                _object && _object.destroy && _object.destroy();\n            }\n            this._used.length = 0;\n        }\n\n        /**\r\n         * @param {number} size\r\n         */\n\n    }, {\n        key: \"expand\",\n        value: function expand(size) {\n            for (var i = 0; i < size; ++i) {\n                var object = Object.create(this._t.prototype);\n                object.constructor = this._t;\n                this._t.apply(object, this._args);\n                this._free.push(object);\n            }\n        }\n\n        /**\r\n         * @returns {*}\r\n         */\n\n    }, {\n        key: \"create\",\n        value: function create() {\n            var object = this._free.shift();\n            if (!object) return null;\n\n            object.init && object.init();\n            this._used.push(object);\n            return object;\n        }\n\n        /**\r\n         * @param {*} obj\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: \"free\",\n        value: function free(obj) {\n            var index = this._used.indexOf(obj);\n            if (index !== -1) {\n                obj.reset && obj.reset();\n                this._free.push(obj);\n                this._used.splice(index, 1);\n            }\n            return index !== -1;\n        }\n\n        /**\r\n         * @returns {*}\r\n         */\n\n    }, {\n        key: \"baseClass\",\n        get: function get() {\n            return this._t;\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this._free.length + this._used.length;\n        }\n\n        /**\r\n         * @returns {number}\r\n         */\n\n    }, {\n        key: \"available\",\n        get: function get() {\n            return this._free.length;\n        }\n    }]);\n\n    return ObjectPool;\n}();\n\nexports.default = ObjectPool;\n\n},{}],29:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _ObjectPool = require(\"./ObjectPool\");\n\nObject.defineProperty(exports, \"ObjectPool\", {\n    enumerable: true,\n    get: function get() {\n        return _interopRequireDefault(_ObjectPool).default;\n    }\n});\nexports.copyObject = copyObject;\nexports.copyOwnPropertiesFrom = copyOwnPropertiesFrom;\nexports.padNum = padNum;\nexports.selectRandom = selectRandom;\nexports.isCocoonJS = isCocoonJS;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Creates an identical copy of an object.\r\n * http://speakingjs.com/es5/ch17.html#code_copyOwnPropertiesFrom\r\n *\r\n * @param {Object} original\r\n * @param {boolean} [deep=true]\r\n * @returns {Object}\r\n */\nfunction copyObject(original) {\n    var deep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var copy = Object.create(Object.getPrototypeOf(original));\n    copyOwnPropertiesFrom(copy, original, deep);\n    return copy;\n}\n\n/**\r\n * Copies all of an object's properties to the target object.\r\n * http://speakingjs.com/es5/ch17.html#code_copyOwnPropertiesFrom\r\n *\r\n * @param {Object} target\r\n * @param {Object} source\r\n * @param {boolean} [deep=true]\r\n * @returns {Object}\r\n */\nfunction copyOwnPropertiesFrom(target, source) {\n    var deep = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    Object.getOwnPropertyNames(source).forEach(function (key) {\n        var descriptor = Object.getOwnPropertyDescriptor(source, key);\n        Object.defineProperty(target, key, descriptor);\n        if (deep && _typeof(descriptor.value) === \"object\" && descriptor.value !== null) {\n            target[key] = P3.utils.copyObject(source[key], deep);\n        }\n    });\n    return target;\n}\n\n/**\r\n * Returns a value converted to a zero padded string.\r\n *\r\n * @param {number} n - The value to pad.\r\n * @param {number} [width=0] - The number of zeros to pad the string with.\r\n * @returns {string}\r\n */\nfunction padNum(n) {\n    var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var num = Math.abs(n);\n    var zeros = Math.max(0, width - Math.floor(num).toString().length);\n    var zeroStr = Math.pow(10, zeros).toString().substr(1);\n    if (num < 0) {\n        zeroStr = \"-\" + zeroStr;\n    }\n    return zeroStr + num;\n}\n\n/**\r\n * @param {Array} arr\r\n * @returns {*}\r\n */\nfunction selectRandom(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\n\n/**\r\n * @returns {boolean}\r\n */\nfunction isCocoonJS() {\n    return typeof navigator[\"isCocoonJS\"] !== \"undefined\";\n}\n\n},{\"./ObjectPool\":28}]},{},[21])\n\n","/**\r\n * @class\r\n * @memberOf P3.audio\r\n */\r\nexport default class Audio {\r\n    /**\r\n     * @param {number} id\r\n     * @param {Howl} howl\r\n     */\r\n    constructor(id, howl) {\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._id = id;\r\n\r\n        /**\r\n         * @member {Howl}\r\n         */\r\n        this._howl = howl;\r\n    }\r\n\r\n    destroy() {\r\n        this._onend && this.howl.off(\"end\", this._onend);\r\n        this.stop();\r\n    }\r\n\r\n    play() {\r\n        this.howl.play(this.id);\r\n    }\r\n\r\n    stop() {\r\n        this.howl.stop(this.id);\r\n    }\r\n\r\n    pause() {\r\n        this.howl.pause(this.id);\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get id() {\r\n        return this._id;\r\n    }\r\n\r\n    /**\r\n     * @returns {Howl}\r\n     */\r\n    get howl() {\r\n        return this._howl;\r\n    }\r\n}","import Audio from \"./Audio\";\r\n\r\n/**\r\n * @class\r\n * @memberOf P3.audio\r\n */\r\nexport default class AudioManager {\r\n    constructor() {\r\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\r\n        this._cache = {};\r\n\r\n        /**\r\n         * @member {Audio}\r\n         * @private\r\n         */\r\n        this._music = null;\r\n\r\n        /**\r\n         * @member {boolean}\r\n         * @private\r\n         */\r\n        this._isMute = false;\r\n\r\n        let hidden;\r\n        \"undefined\" !== typeof document.hidden ? (hidden = \"hidden\",\r\n            this.visibilityChange = \"visibilitychange\") : \"undefined\" !== typeof document.mozHidden ? (hidden = \"mozHidden\",\r\n            this.visibilityChange = \"mozvisibilitychange\") : \"undefined\" !== typeof document.msHidden ? (hidden = \"msHidden\",\r\n            this.visibilityChange = \"msvisibilitychange\") : \"undefined\" !== typeof document.webkitHidden && (hidden = \"webkitHidden\",\r\n            this.visibilityChange = \"webkitvisibilitychange\");\r\n\r\n        document.addEventListener(this.visibilityChange, function(){\r\n            document[hidden] ? Howler.volume(0) : Howler.volume(1);\r\n        }, false);\r\n    }\r\n\r\n    /**\r\n     * @param {Array.<string>} sounds\r\n     * @param {Array.<string>} extensions\r\n     * @param {string} [basePath]\r\n     */\r\n    addSounds(sounds, extensions, basePath) {\r\n        basePath = basePath || \"\";\r\n\r\n        for (let i = 0; i < sounds.length; ++ i) {\r\n            let url = basePath + sounds[i];\r\n            url = url.split(\"/\");\r\n            const name = url[url.length - 1];\r\n\r\n            const urls = [];\r\n            for (let j = 0; j < extensions.length; ++ j) {\r\n                const extension = extensions[j];\r\n                urls.push(url.join(\"/\") + extension);\r\n            }\r\n            const howl = new Howl({\r\n                src: urls,\r\n                volume: 1.0,\r\n                loop: false,\r\n                autoplay: false\r\n            });\r\n            howl.name = name;\r\n            this._cache[name] = howl;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {string} sprite\r\n     * @param {Array.<string>} extensions\r\n     * @param {string} [basePath]\r\n     */\r\n    addSoundSprite(name, sprite, extensions, basePath) {\r\n        basePath = basePath || \"\";\r\n\r\n        let url = basePath + name;\r\n        url = url.split(\"/\");\r\n\r\n        const urls = [];\r\n        for (let i = 0; i < extensions.length; ++ i) {\r\n            const extension = extensions[i];\r\n            urls.push(url.join(\"/\") + extension);\r\n        }\r\n\r\n        const howl = new Howl({\r\n            src: urls,\r\n            sprite: sprite,\r\n            volume: 1,\r\n            loop: false,\r\n            autoplay: false\r\n        });\r\n        howl.isSoundSprite = true;\r\n        for (let i in sprite) {\r\n            if (sprite.hasOwnProperty(i)) {\r\n                this._cache[i] = howl;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param name\r\n     * @param {object} params\r\n     * @param {number} [params.volume=1]\r\n     * @param {boolean} [params.loop=false]\r\n     * @param {function} [params.callback]\r\n     * @param {*} [params.scope]\r\n     * @param {boolean} [params.destroyOnComplete=false] Destroys the audio once the callback has fired.\r\n     */\r\n    playSound(name, params) {\r\n        params = Object.assign({}, {volume: 1, loop: false, destroyOnComplete: false}, params);\r\n        if (typeof name !== \"string\") {\r\n            name = P3.utils.selectRandom(name);\r\n        }\r\n\r\n        let id = -1;\r\n        const howl = this._cache[name];\r\n        if (!howl) {\r\n            console.warn(\"Could not find sound - \" + name);\r\n            return id;\r\n        }\r\n\r\n        id = howl.isSoundSprite ? howl.play(name) : howl.play();\r\n        howl.volume(params.volume || 1, id);\r\n        howl.loop(params.loop || false, id);\r\n\r\n        const audio = new Audio(id, howl);\r\n        if (params.callback) {\r\n            audio._onend = function() {\r\n                params.callback.call(params.scope || window);\r\n                if (params.destroyOnComplete) {\r\n                    audio.destroy();\r\n                }\r\n            };\r\n            howl.on(\"end\", audio._onend);\r\n        }\r\n        return audio;\r\n    }\r\n\r\n    /**\r\n     * @param name\r\n     * @param {object} params\r\n     * @param {number} [params.volume=1]\r\n     * @param {number} [params.delay=0]\r\n     * @param {number} [params.fadeIn=0]\r\n     * @param {function} [params.callback]\r\n     * @param {*} [params.scope]\r\n     */\r\n    playMusic(name, params) {\r\n        params = Object.assign({}, {volume: 1, delay: 0, fadeIn: 0}, params);\r\n        if (typeof name !== \"string\") {\r\n            name = P3.utils.selectRandom(name);\r\n        }\r\n\r\n        let id = -1;\r\n\r\n        // skip if no change\r\n        if (this._music && this._music.howl.name === name) {\r\n            return this._music;\r\n        }\r\n\r\n        const howl = this._cache[name];\r\n        if (!howl) {\r\n            console.warn(\"Could not find music - \" + name);\r\n            return null;\r\n        }\r\n\r\n        id = howl.play();\r\n        howl.volume(params.volume || 1, id);\r\n        howl.loop(true, id);\r\n\r\n        const audio = new Audio(id, howl);\r\n        if (params.callback) {\r\n            audio._onend = function() {\r\n                params.callback.call(params.scope);\r\n            };\r\n            howl.on(\"end\", audio._onend);\r\n        }\r\n\r\n        if ((params.fadeIn || 0) > 0) {\r\n            if (this._music) {\r\n                this.fadeOut(this._music, params.fadeIn, function(audio) {\r\n                    audio.destroy();\r\n                }, this);\r\n            }\r\n            this.fadeIn(audio, params.fadeIn);\r\n        } else if (this._music) {\r\n            this._music.destroy();\r\n        }\r\n\r\n        this._music = audio;\r\n        return audio;\r\n    }\r\n\r\n    stopMusic() {\r\n        if (!this._music) return;\r\n        this._music.destroy();\r\n        this._music = null;\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} value\r\n     */\r\n    mute(value) {\r\n        this._isMute = value;\r\n        if (this._isMute) {\r\n            Howler.mute(true);\r\n        } else {\r\n            Howler.mute(false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Audio} audio\r\n     * @param {number} [duration=1]\r\n     * @param {function} [callback]\r\n     * @param {*} [scope]\r\n     */\r\n    fadeIn(audio, duration = 1, callback, scope) {\r\n        const volume = audio.howl.volume(audio.id);\r\n        audio.howl.volume(0, audio.id);\r\n        audio.__volume = 0;\r\n\r\n        TweenMax.killTweensOf(audio);\r\n        TweenMax.to(audio, duration, {\r\n            __volume: volume,\r\n            ease: Power1.easeInOut,\r\n            onUpdate: function() {\r\n                audio.howl.volume(audio.__volume, audio.id);\r\n            },\r\n            onUpdateScope: this,\r\n            onComplete: callback,\r\n            onCompleteParams: [audio],\r\n            onCompleteScope: scope\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param {Audio} audio\r\n     * @param {number} [duration=1]\r\n     * @param {function} [callback]\r\n     * @param {*} [scope]\r\n     */\r\n    fadeOut(audio, duration = 1, callback, scope) {\r\n        audio.__volume = audio.howl.volume(audio.id);\r\n\r\n        TweenMax.killTweensOf(audio);\r\n        TweenMax.to(audio, duration, {\r\n            __volume: 0,\r\n            ease: Power1.easeInOut,\r\n            onUpdate: function() {\r\n                audio.howl.volume(audio.__volume, audio.id);\r\n            },\r\n            onUpdateScope: this,\r\n            onComplete: callback,\r\n            onCompleteParams: [audio],\r\n            onCompleteScope: scope\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @returns {Audio}\r\n     */\r\n    get music() {\r\n        return this._music;\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    get isMute() {\r\n        return this._isMute;\r\n    }\r\n}","/**\r\n * @class\r\n * @memberOf p3.camera\r\n */\r\nexport default\r\nclass Camera {\r\n    /**\r\n     * @param {PIXI.Point} [view]\r\n     * @param {boolean} [snapToPixel]\r\n     */\r\n    constructor(view, snapToPixel = false) {\r\n        /**\r\n         * @member {Object}\r\n         * @member {signals.Signal} signals.trackStart\r\n         * @member {signals.Signal} signals.trackStop\r\n         */\r\n        this.signals = {\r\n            trackStart: new signals.Signal(),\r\n            trackStop: new signals.Signal()\r\n        };\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         */\r\n        this.view = view || new PIXI.Point();\r\n\r\n        /**\r\n         * @member {PIXI.Rectangle}\r\n         */\r\n        this.bounds = new PIXI.Rectangle(-(Number.MAX_SAFE_INTEGER * 0.5), -(Number.MAX_SAFE_INTEGER * 0.5),\r\n            Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         */\r\n        this.offset = new PIXI.Point();\r\n\r\n        /**\r\n         * @member {boolean}\r\n         */\r\n        this.snapToPixel = snapToPixel;\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\r\n        this._position = new PIXI.Point();\r\n\r\n        /**\r\n         * @member {*}\r\n         * @private\r\n         */\r\n        this._target = null;\r\n\r\n        /**\r\n         * @member {Array.<CameraLayer>}\r\n         * @private\r\n         */\r\n        this._layers = [];\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\r\n        this._ease = new PIXI.Point(0.2, 0.2);\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\r\n        this._parallax = new PIXI.Point(1, 1);\r\n\r\n        /**\r\n         * @member {boolean}\r\n         * @private\r\n         */\r\n        this._tracking = false;\r\n    }\r\n\r\n    /**\r\n     */\r\n    destroy() {\r\n        this.signals.trackStart.dispose();\r\n        this.signals.trackStop.dispose();\r\n\r\n        this.removeAllLayers();\r\n    }\r\n\r\n    /**\r\n     * @param {number} dt\r\n     */\r\n    update(dt) {\r\n        const pos = this._target ?\r\n            new PIXI.Point(this._target.x + this.offset.x, this._target.y + this.offset.y) : new PIXI.Point();\r\n\r\n        this._clampToBounds(pos);\r\n\r\n        if (this._shakeTime > 0) {\r\n            pos.x += this._shakeStrength * P3.math.randomInt(-1, 1) * (this._shakeTime / this._shakeDuration);\r\n            pos.y += this._shakeStrength * P3.math.randomInt(-1, 1) * (this._shakeTime / this._shakeDuration);\r\n            this._shakeTime = Math.max(0, this._shakeTime - dt);\r\n        }\r\n\r\n        const dx = pos.x - (this._position.x * this._parallax.x);\r\n        const dy = pos.y - (this._position.y * this._parallax.y);\r\n\r\n        this._position.x += dx * (this._ease.x * (1 / this._parallax.x));\r\n        this._position.y += dy * (this._ease.y * (1 / this._parallax.y));\r\n\r\n        if (Math.abs(dx) < 0.01) this._position.x = pos.x;\r\n        if (Math.abs(dy) < 0.01) this._position.y = pos.y;\r\n\r\n        if (this.snapToPixel) {\r\n            this._position.x = Math.round(this._position.x);\r\n            this._position.y = Math.round(this._position.y);\r\n        }\r\n\r\n        const d = (dx * dx + dy * dy);\r\n        if (d < 0.1 && !this._tracking) {\r\n            this._tracking = true;\r\n            this.signals.trackStop.dispatch(this);\r\n        } else if (d > 0.1 && this._tracking) {\r\n            this._tracking = false;\r\n            this.signals.trackStart.dispatch(this);\r\n        }\r\n        this.updateLayers();\r\n    }\r\n\r\n    /**\r\n     */\r\n    updateLayers() {\r\n        for (let i = 0; i < this._layers.length; ++i) {\r\n            const layer = this._layers[i];\r\n            layer.view.x = (this._position.x * -layer.parallax.x) + this.view.x - this.view.x * (1 - layer.parallax.x);\r\n            layer.view.y = (this._position.y * -layer.parallax.y) + this.view.y - this.view.y * (1 - layer.parallax.y);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {...CameraLayer} layer - The layer(s) to add to the camera.\r\n     * @returns {CameraLayer} The first layer that was added.\r\n     */\r\n    addLayer(layer) {\r\n        const len = arguments.length;\r\n        if (len > 1) {\r\n            for (let i = 0; i < len; ++i) {\r\n                this._layers.push(arguments[i]);\r\n            }\r\n        } else {\r\n            this._layers.push(layer);\r\n        }\r\n\r\n        this.updateLayers();\r\n        return layer;\r\n    }\r\n\r\n    /**\r\n     * @param {...CameraLayer} layer - The layer(s) to remove from the camera.\r\n     * @returns {CameraLayer} The first layer that was added.\r\n     */\r\n    removeLayer(layer) {\r\n        const len = arguments.length;\r\n        if (len > 1) {\r\n            for (let i = len - 1; i >= 0; --i) {\r\n                this.removeLayer(arguments[i]);\r\n            }\r\n        } else {\r\n            const i = this._layers.indexOf(layer);\r\n            if (i !== -1) {\r\n                this._layers.splice(i, 1);\r\n            } else {\r\n                throw new Error(\"Layer does not exit!\");\r\n            }\r\n        }\r\n        return layer;\r\n    }\r\n\r\n    /**\r\n     */\r\n    removeAllLayers() {\r\n        this._layers = [];\r\n    }\r\n\r\n    /**\r\n     * @param {*} target\r\n     * @param {boolean} [reset=false]\r\n     */\r\n    setTarget(target, reset = false) {\r\n        this._target = target;\r\n\r\n        const layer = this.findLayer(this._target, true);\r\n        this._parallax.x = layer ? layer.parallax.x : 1;\r\n        this._parallax.y = layer ? layer.parallax.y : 1;\r\n\r\n        if (reset) {\r\n            const pos = this._target ?\r\n                new PIXI.Point(\r\n                    this._target.x + this.offset.x,\r\n                    this._target.y + this.offset.y\r\n                ) : this._position.clone();\r\n\r\n            this._clampToBounds(pos);\r\n            this._position.x = pos.x;\r\n            this._position.y = pos.y;\r\n            this.updateLayers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {number} duration\r\n     * @param {number} strength\r\n     */\r\n    shake(duration, strength) {\r\n        this._shakeTime = this._shakeDuration = duration;\r\n        this._shakeStrength = strength;\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.DisplayObject} displayObject\r\n     * @param {boolean} [recursive=false]\r\n     */\r\n    findLayer(displayObject, recursive = false) {\r\n        let result = null;\r\n        for (let i = 0; i < this._layers.length; ++i) {\r\n            const layer = this._layers[i];\r\n            if (layer.view === displayObject || searchChildren.call(this, layer.view, recursive)) {\r\n                result = layer;\r\n            }\r\n        }\r\n        function searchChildren(displayObject, recursive) {\r\n            for (let i = 0; i < displayObject.children.length; ++i) {\r\n                const child = displayObject.children[i];\r\n                if (child === displayObject) {\r\n                    return true;\r\n                } else if (recursive) {\r\n                    searchChildren.call(this, child, recursive);\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * @param position\r\n     * @returns {PIXI.Point}\r\n     * @private\r\n     */\r\n    _clampToBounds(position) {\r\n        if (position.x < this.bounds.x) {\r\n            position.x = this.bounds.x;\r\n        } else if (position.x > this.bounds.width) {\r\n            position.x = this.bounds.width;\r\n        }\r\n        if (position.y < this.bounds.y) {\r\n            position.y = this.bounds.y;\r\n        } else if (position.y > this.bounds.height) {\r\n            position.y = this.bounds.height;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Point}\r\n     */\r\n    get position() {\r\n        return this._position;\r\n    }\r\n\r\n    /**\r\n     * @returns {*}\r\n     */\r\n    get target() {\r\n        return this._target;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Point}\r\n     */\r\n    get ease() {\r\n        return this._ease;\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.Point} value\r\n     */\r\n    set ease(value) {\r\n        this._ease = value;\r\n    }\r\n\r\n    /**\r\n     * @returns {Array.<CameraLayer>}\r\n     */\r\n    get layers() {\r\n        return this._layers.slice(0);\r\n    }\r\n}","/**\r\n * @class\r\n * @memberOf p3.camera\r\n */\r\nexport default class CameraLayer {\r\n    /**\r\n     * @param {PIXI.Container} view\r\n     * @param {PIXI.Point} [parallax]\r\n     */\r\n    constructor(view, parallax) {\r\n        /**\r\n         * @type {PIXI.Container}\r\n         * @private\r\n         */\r\n        this._view = view;\r\n\r\n        /**\r\n         * @type {PIXI.Point}\r\n         * @private\r\n         */\r\n        this._parallax = parallax || new PIXI.Point();\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Container}\r\n     */\r\n    get view() {\r\n        return this._view;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Point}\r\n     */\r\n    get parallax() {\r\n        return this._parallax;\r\n    }\r\n}","/**\r\n * @class\r\n * @memberOf P3\r\n */\r\nexport default class AssetManager {\r\n    constructor() {\r\n        /**\r\n         * @type {Object}\r\n         */\r\n        this.signals = {};\r\n\r\n        /**\r\n         * @type {signals.Signal}\r\n         */\r\n        this.signals.progress = new signals.Signal();\r\n\r\n        /**\r\n         * @type {signals.Signal}\r\n         */\r\n        this.signals.complete = new signals.Signal();\r\n\r\n        /**\r\n         * @type {signals.Signal}\r\n         */\r\n        this.signals.error = new signals.Signal();\r\n\r\n        /**\r\n         * @type {PIXI.loaders.Loader}\r\n         * @private\r\n         */\r\n        this._loader = new PIXI.loaders.Loader();\r\n        this._loader.on(\"progress\", this._onLoaderProgress, this);\r\n        this._loader.on(\"complete\", this._onLoaderComplete, this);\r\n        this._loader.on(\"error\", this._onLoaderError, this);\r\n\r\n        /**\r\n         * @type {Array}\r\n         * @private\r\n         */\r\n        this._manifest = [];\r\n\r\n        /**\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        this._resources = {};\r\n\r\n        const graphics = new PIXI.Graphics();\r\n        graphics.beginFill(0x0, 0.5);\r\n        graphics.drawRect(0, 0, 100, 100);\r\n        graphics.endFill();\r\n        graphics.lineStyle(2, 0xFF0000, 1);\r\n        graphics.moveTo(0, 0);\r\n        graphics.lineTo(100, 100);\r\n        graphics.moveTo(100, 0);\r\n        graphics.lineTo(0, 100);\r\n\r\n        try {\r\n            this._fallbackTexture = graphics.generateTexture();\r\n        } catch(e) {\r\n            this._fallbackTexture = PIXI.Texture.EMPTY;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Array} files\r\n     * @param {string} [path]\r\n     * @returns {Array}\r\n     */\r\n    addFiles(files, path = \"\") {\r\n        if (path && path.length > 0) {\r\n            for (let i = 0; i < files.length; ++ i) {\r\n                const url = files[i].url;\r\n                files[i].url = path + url;\r\n            }\r\n        }\r\n        this._manifest = this._manifest.concat(files);\r\n        return this._manifest;\r\n    }\r\n\r\n    /**\r\n     */\r\n    load() {\r\n        if (!this._manifest.length) return;\r\n\r\n        this._loader.add(this._manifest);\r\n        this._loader.load();\r\n        return this._manifest;\r\n    }\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {string} [extension]\r\n     */\r\n    unloadTexture(name, extension) {\r\n        extension = \".\" + (extension || \"png\");\r\n\r\n        const resource = this._resources[name];\r\n        const split = resource.url.split(\".\");\r\n        const texture = PIXI.utils.TextureCache[split[0] + extension];\r\n        texture.destroy(true);\r\n    }\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {string} [extension]\r\n     */\r\n    texture(name, extension) {\r\n        extension = \".\" + (extension || \"png\");\r\n\r\n        let texture;\r\n        try {\r\n            texture = PIXI.Texture.fromFrame(name + extension);\r\n        } catch (error) {\r\n            if (this._resources[name]) {\r\n                texture = this._resources[name].texture;\r\n            } else {\r\n                console.warn(\"texture not found : \" + name);\r\n                texture = this._fallbackTexture;\r\n            }\r\n        }\r\n        return texture;\r\n    }\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @returns {Object}\r\n     */\r\n    json(name) {\r\n        const data = P3.utils.copyObject(this._resources[name].data);\r\n        if (!data) {\r\n            throw new Error(\"json not found: \" + name);\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @returns {Object}\r\n     */\r\n    spineData(name) {\r\n        const resource = this._resources[name];\r\n        if (!resource || (resource && !resource.spineData)) {\r\n            throw new Error(\"spine data not found: \" + name);\r\n        }\r\n        return resource.spineData;\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.loaders.Loader} loader\r\n     * @param {*} resource\r\n     * @private\r\n     */\r\n    _onLoaderProgress(loader, resource) {\r\n        this.signals.progress.dispatch(loader, resource, loader.progress);\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.loaders.Loader} loader\r\n     * @param {Array.<*>} resources\r\n     * @private\r\n     */\r\n    _onLoaderComplete(loader, resources) {\r\n        for (let i in resources) {\r\n            if (resources.hasOwnProperty(i)) {\r\n                this._resources[i] = resources[i];\r\n            }\r\n        }\r\n        this._manifest.length = 0;\r\n        this._loader.reset();\r\n\r\n        this.signals.complete.dispatch(loader, resources);\r\n    }\r\n\r\n    /**\r\n     * @param {string} error\r\n     * @param {PIXI.loaders.Loader} loader\r\n     * @param {Array<*>} resource\r\n     * @private\r\n     */\r\n    _onLoaderError(error, loader, resource) {\r\n        this.signals.error.dispatch(error, loader, resource);\r\n    }\r\n\r\n    /**\r\n     * @returns {Object}\r\n     */\r\n    get manifest() {\r\n        return this._manifest.slice();\r\n    }\r\n}\r\n","import ButtonStates from \"./ButtonStates\";\r\nimport isMobile from \"ismobilejs\";\r\n\r\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\r\nexport default class Button extends PIXI.Container {\r\n    /**\r\n     * @param {ButtonStates} states\r\n     */\r\n    constructor(states) {\r\n        super();\r\n\r\n        /**\r\n         * @member {Object}\r\n         * @member {signals.Signal} down\r\n         * @member {signals.Signal} up\r\n         * @member {signals.Signal} over\r\n         * @member {signals.Signal} out\r\n         * @member {signals.Signal} click\r\n         * @member {signals.Signal} animate\r\n         */\r\n        this.signals = {\r\n            down: new signals.Signal(),\r\n            up: new signals.Signal(),\r\n            over: new signals.Signal(),\r\n            out: new signals.Signal(),\r\n            click: new signals.Signal(),\r\n            animate: new signals.Signal(),\r\n            focus: new signals.Signal(),\r\n            unfocus: new signals.Signal()\r\n        };\r\n\r\n        /**\r\n         * @member {boolean}\r\n         */\r\n        this.animate = true;\r\n\r\n        /**\r\n         * @member {boolean}\r\n         */\r\n        this.animateIcon = true;\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         */\r\n        this.defaultScale = new PIXI.Point(1, 1);\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         */\r\n        this.animateOverScale = new PIXI.Point(1.1, 1.1);\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         */\r\n        this.animateDownScale = new PIXI.Point(0.9, 0.9);\r\n\r\n        /**\r\n         * @member {string}\r\n         */\r\n        this.upSoundName = null;\r\n\r\n        /**\r\n         * @member {string}\r\n         */\r\n        this.overSoundName = null;\r\n\r\n        /**\r\n         * @member {string}\r\n         */\r\n        this.downSoundName = null;\r\n\r\n        /**\r\n         * @member {string}\r\n         */\r\n        this.clickSoundName = null;\r\n\r\n        /**\r\n         * @member {ButtonStates}\r\n         * @protected\r\n         */\r\n        this._states = states;\r\n\r\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\r\n        this._background = new PIXI.Sprite(this._states.normal);\r\n        this._background.anchor = new PIXI.Point(0.5, 0.5);\r\n        this.addChild(this._background);\r\n\r\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\r\n        this._icon = new PIXI.Sprite(this._states.icon || PIXI.Texture.EMPTY);\r\n        this._icon.anchor = new PIXI.Point(0.5, 0.5);\r\n        this.addChild(this._icon);\r\n\r\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\r\n        this._focus = new PIXI.Sprite(this._states.focus || PIXI.Texture.EMPTY);\r\n        this._focus.anchor = new PIXI.Point(0.5, 0.5);\r\n        this._focus.visible = false;\r\n        this.addChild(this._focus);\r\n\r\n        /**\r\n         * @member {PIXI.Sprite}\r\n         * @protected\r\n         */\r\n        this._shortcutIcon = new PIXI.Sprite(PIXI.Texture.EMPTY);\r\n        this._shortcutIcon.anchor = new PIXI.Point(0.5, 0.5);\r\n        this._shortcutIcon.visible = !isMobile.any;\r\n        this._background.addChild(this._shortcutIcon);\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\r\n        this._currentNormalTexture = this._states.normal;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\r\n        this._currentOverTexture = this._states.over;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\r\n        this._currentDownTexture = this._states.down;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\r\n        this._currentIconTexture = this._states.icon;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\r\n        this._currentIconOverTexture = this._states.iconOver;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         * @protected\r\n         */\r\n        this._currentIconDownTexture = this._states.iconDown;\r\n\r\n        /**\r\n         * @member {TweenMax}\r\n         * @protected\r\n         */\r\n        this._tweenOver = null;\r\n\r\n        /**\r\n         * @member {TweenMax}\r\n         * @protected\r\n         */\r\n        this._tweenOut = null;\r\n\r\n        /**\r\n         * @member {TweenMax}\r\n         * @protected\r\n         */\r\n        this._tweenDown = null;\r\n\r\n        /**\r\n         * @member {boolean}\r\n         * @protected\r\n         */\r\n        this._enabled = true;\r\n\r\n        /**\r\n         * @member {boolean}\r\n         * @private\r\n         */\r\n        this._focused = false;\r\n\r\n        this.interactive = true;\r\n        this.buttonMode = true;\r\n        this.mousedown = this.touchstart = this._onMouseDown.bind(this);\r\n        this.mouseup = this.touchend = this._onMouseUp.bind(this);\r\n        this.mouseupoutside = this.touchendoutside = this._onMouseOut.bind(this);\r\n        this.click = this.tap = this._onMouseClick.bind(this);\r\n        this.mouseover = this._onMouseOver.bind(this);\r\n        this.mouseout = this._onMouseOut.bind(this);\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.Texture} normal\r\n     * @param {PIXI.Texture} [over]\r\n     * @param {PIXI.Texture} [down]\r\n     * @param {PIXI.Texture} [icon]\r\n     */\r\n    static create(normal, over, down, icon) {\r\n        const states = new ButtonStates(normal, over, down, icon);\r\n        return new Button(states);\r\n    }\r\n\r\n    /**\r\n     */\r\n    destroy() {\r\n        TweenMax.killTweensOf(this);\r\n        TweenMax.killTweensOf(this.scale);\r\n\r\n        this.signals.up.dispose();\r\n        this.signals.down.dispose();\r\n        this.signals.over.dispose();\r\n        this.signals.out.dispose();\r\n        this.signals.click.dispose();\r\n        this.signals.animate.dispose();\r\n        this.signals.focus.dispose();\r\n        this.signals.unfocus.dispose();\r\n\r\n        super.destroy({children: true});\r\n    }\r\n\r\n    focus() {\r\n        this._focused = true;\r\n        this._focus.visible = true;\r\n        this.signals.focus.dispatch(this);\r\n    }\r\n\r\n    unfocus() {\r\n        this._focused = false;\r\n        this._focus.visible = false;\r\n        this.signals.unfocus.dispatch(this);\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.Texture} texture\r\n     * @param {PIXI.Point} offset\r\n     */\r\n    setShortcutIcon(texture, offset) {\r\n        this._shortcutIcon.texture = texture;\r\n        this._shortcutIcon.position.set(offset.x, offset.y);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @protected\r\n     */\r\n    _onMouseDown(event) {\r\n        this._states.down && (this._background.texture = this._currentDownTexture);\r\n        this._states.iconDown && (this._icon.texture = this._currentIconDownTexture);\r\n\r\n        if (this.animate) {\r\n            const tweens = TweenMax.getTweensOf(this, true);\r\n            const a = tweens.indexOf(this._tweenOver) > -1 ? tweens.length - 1 : tweens.length;\r\n            if (!a) {\r\n                if (this._tweenOver) {\r\n                    this._tweenOver.kill();\r\n                    this._tweenOver = null;\r\n                }\r\n                this._tweenDown = this.animateDown();\r\n            }\r\n        }\r\n        (Button.audio && this.downSoundName) && Button.audio.playSound(this.downSoundName);\r\n        this._enabled && this.signals.down.dispatch(this, event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @protected\r\n     */\r\n    _onMouseUp(event) {\r\n        this._background.texture = (this._states.over && !isMobile.any) ? this._currentOverTexture : this._currentNormalTexture;\r\n        if (this._states.iconOver && !isMobile.any) {\r\n            this._icon.texture = this._currentIconOverTexture;\r\n        } else if (this._states.icon) {\r\n            this._icon.texture = this._currentIconTexture;\r\n        }\r\n        if (this.animate && this._tweenDown) {\r\n            if (this._tweenDown) {\r\n                this._tweenDown.kill();\r\n                this._tweenDown = null;\r\n            }\r\n            this._tweenOver = !isMobile.any ? this.animateOver() : this.animateOut();\r\n        }\r\n        (Button.audio && this.upSoundName) && Button.audio.playSound(this.upSoundName);\r\n        this._enabled && this.signals.up.dispatch(this, event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @protected\r\n     */\r\n    _onMouseOver(event) {\r\n        this._states.over && (this._background.texture = this._currentOverTexture);\r\n        this._states.iconOver && (this._icon.texture = this._currentIconOverTexture);\r\n\r\n        if (this.animate && !isMobile.any) {\r\n            const tweens = TweenMax.getTweensOf(this, true);\r\n            if (tweens.indexOf(this._tweenOver) === -1) {\r\n                if (this._tweenOut) {\r\n                    this._tweenOut.kill();\r\n                    this._tweenOut = null;\r\n                }\r\n                this._tweenOver = this.animateOver();\r\n            }\r\n        }\r\n        if (this.animateIcon && !isMobile.any) {\r\n            TweenMax.killTweensOf(this._icon.scale);\r\n            TweenMax.to(this._icon.scale, 0.8, {\r\n                x: 1.2,\r\n                y: 1.2,\r\n                ease: Elastic.easeOut,\r\n                easeParams: [1.6]\r\n            });\r\n        }\r\n        (Button.audio && this.overSoundName) && Button.audio.playSound(this.overSoundName);\r\n        this._enabled && this.signals.over.dispatch(this, event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @protected\r\n     */\r\n    _onMouseOut(event) {\r\n        this._background.texture = this._currentNormalTexture;\r\n        this._states.icon && (this._icon.texture = this._currentIconTexture);\r\n\r\n        if (this._tweenOver || this._tweenDown) {\r\n            const tweens = TweenMax.getTweensOf(this, true);\r\n            if (tweens.indexOf(this._tweenOut) === -1) {\r\n                if (this._tweenOver) {\r\n                    this._tweenOver.kill();\r\n                    this._tweenOver = null;\r\n                }\r\n                this._tweenOut = this.animateOut();\r\n            }\r\n            if (tweens.indexOf(this._tweenDown) === -1) {\r\n                if (this._tweenDown) {\r\n                    this._tweenDown.kill();\r\n                    this._tweenDown = null;\r\n                }\r\n                this._tweenOut = this.animateOut();\r\n            }\r\n        }\r\n        TweenMax.killTweensOf(this._icon.scale);\r\n        TweenMax.to(this._icon.scale, 0.34, {\r\n            x: 1,\r\n            y: 1,\r\n            ease: Power1.easeInOut\r\n        });\r\n        (Button.audio && this.upSoundName) && Button.audio.playSound(this.upSoundName);\r\n        this._enabled && this.signals.out.dispatch(this, event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @protected\r\n     */\r\n    _onMouseClick(event) {\r\n        (Button.audio && this.clickSoundName) && Button.audio.playSound(this.clickSoundName);\r\n        this._enabled && this.signals.click.dispatch(this, event);\r\n    }\r\n\r\n    /**\r\n     * @returns {TweenMax}\r\n     */\r\n    animateOver() {\r\n        return TweenMax.to(this.scale, 0.6, {\r\n            x: this.defaultScale.x * this.animateOverScale.x,\r\n            y: this.defaultScale.y * this.animateOverScale.y,\r\n            ease: Elastic.easeOut,\r\n            easeParams: [1],\r\n            onComplete: function() {\r\n                this.signals.animate.dispatch(this, \"over\");\r\n            },\r\n            onCompleteScope: this\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @returns {TweenMax}\r\n     */\r\n    animateOut() {\r\n        return TweenMax.to(this.scale, 0.3, {\r\n            x: this.defaultScale.x,\r\n            y: this.defaultScale.y,\r\n            ease: Back.easeInOut,\r\n            easeParams: [2],\r\n            onComplete: function() {\r\n                this.signals.animate.dispatch(this, \"out\");\r\n            },\r\n            onCompleteScope: this\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @returns {TweenMax}\r\n     */\r\n    animateDown() {\r\n        return TweenMax.to(this.scale, 0.14, {\r\n            x: this.defaultScale.x * this.animateDownScale.x,\r\n            y: this.defaultScale.y * this.animateDownScale.y,\r\n            ease: Back.easeOut,\r\n            easeParams: [1],\r\n            onComplete: function() {\r\n                this.signals.animate.dispatch(this, \"down\");\r\n            },\r\n            onCompleteScope: this\r\n        });\r\n    };\r\n\r\n    /**\r\n     */\r\n    stopAnimations() {\r\n        const tweens = TweenMax.getTweensOf(this, true);\r\n        if (tweens.indexOf(this._tweenOver) === -1) {\r\n            if (this._tweenOut) {\r\n                this._tweenOut.kill();\r\n                this._tweenOut = null;\r\n            }\r\n            this._tweenOver = this.animateOver();\r\n        }\r\n        if (tweens.indexOf(this._tweenOut) === -1) {\r\n            if (this._tweenOver) {\r\n                this._tweenOver.kill();\r\n                this._tweenOver = null;\r\n            }\r\n        }\r\n        if (tweens.indexOf(this._tweenDown) === -1) {\r\n            if (this._tweenDown) {\r\n                this._tweenDown.kill();\r\n                this._tweenDown = null;\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {P3.ButtonStates} states\r\n     */\r\n    setStates(states) {\r\n        this._states = states;\r\n        this._background.texture = this._states.normal;\r\n        this._icon.texture = this._states.icon;\r\n\r\n        this._currentNormalTexture = this._states.normal;\r\n        this._currentOverTexture = this._states.over;\r\n        this._currentDownTexture = this._states.down;\r\n        this._currentIconTexture = this._states.icon;\r\n        this._currentIconOverTexture = this._states.iconOver;\r\n        this._currentIconDownTexture = this._states.iconDown;\r\n    }\r\n\r\n    /**\r\n     * @returns {ButtonStates}\r\n     */\r\n    get states() {\r\n        return this._states;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Texture}\r\n     */\r\n    get currentNormalTexture() {\r\n        return this._currentNormalTexture;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Texture}\r\n     */\r\n    get currentOverTexture() {\r\n        return this._currentOverTexture;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Texture}\r\n     */\r\n    get currentDownTexture() {\r\n        return this._currentDownTexture;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Texture}\r\n     */\r\n    get currentIconTexture() {\r\n        return this._currentIconTexture;\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} value\r\n     */\r\n    set enabled(value) {\r\n        this._enabled = value;\r\n        this._currentNormalTexture = (value || !this._states.normalInactive) ? this._states.normal : this._states.normalInactive;\r\n        this._currentOverTexture = (value || !this._states.overInactive) ? this._states.over : this._states.overInactive;\r\n        this._currentDownTexture = (value || !this._states.downInactive) ? this._states.down : this._states.downInactive;\r\n        this._currentIconTexture = (value || !this._states.iconInactive) ? this._states.icon : this._states.iconInactive;\r\n        this._currentIconOverTexture = (value || !this._states.iconOverInactive) ? this._states.iconOver : this._states.iconOverInactive;\r\n        this._currentIconDownTexture = (value || !this._states.iconDownInactive) ? this._states.iconDown : this._states.iconDownInactive;\r\n\r\n        this._currentNormalTexture && (this._background.texture = this._currentNormalTexture);\r\n        this._currentIconTexture && (this._icon.texture = this._currentIconTexture);\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    get focused() {\r\n        return this._focused;\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get tint() {\r\n        return this._background.tint;\r\n    }\r\n\r\n    /**\r\n     * @param {number} value\r\n     */\r\n    set tint(value) {\r\n        this._background.tint = value;\r\n        this._icon.tint = value;\r\n    }\r\n}","/**\r\n *  ButtonManager\r\n *\r\n *  Created by legman on 15/08/2017.\r\n *\r\n */\r\n\r\n/**\r\n * @class\r\n * @namespace P3\r\n */\r\nexport default class ButtonManager {\r\n    /**\r\n     * @param {P3.Input} input\r\n     */\r\n    constructor(input) {\r\n        /**\r\n         * @member {P3.Input}\r\n         * @private\r\n         */\r\n        this._input = input;\r\n\r\n        /**\r\n         * @member {Array.<P3.Button>}\r\n         * @private\r\n         */\r\n        this._buttons = [];\r\n\r\n        /**\r\n         * @member {P3.Button}\r\n         * @private\r\n         */\r\n        this._currentFocus = null;\r\n\r\n        // todo finish this class at some point\r\n    }\r\n\r\n    /**\r\n     * @param {P3.Button} button\r\n     */\r\n    add(button) {\r\n        if (this._buttons.indexOf(button) !== -1) return;\r\n        this._buttons.push(button);\r\n    }\r\n\r\n    /**\r\n     * @param button\r\n     */\r\n    remove(button) {\r\n        const i = this._buttons.indexOf(button);\r\n        this._buttons.splice(i, 1);\r\n    }\r\n\r\n    update() {\r\n        if (this._input.isKeyPressed(37)) {\r\n            this._selectLeft();\r\n        }\r\n        if (this._input.isKeyPressed(39)) {\r\n            this._selectRight();\r\n        }\r\n        if (this._input.isKeyPressed(38)) {\r\n            this._selectUp();\r\n        }\r\n        if (this._input.isKeyPressed(40)) {\r\n            this._selectDown();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {P3.Button} button\r\n     */\r\n    focus(button) {\r\n        for (let i = 0; i < this._buttons.length; ++ i) {\r\n            const button = this._buttons[i];\r\n            button.tint = 0xFFFFFF;\r\n        }\r\n        button.tint = 0xFF0000;\r\n        this._currentFocus = button;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _selectLeft() {\r\n        console.log(\"left\");\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _selectRight() {\r\n        console.log(\"right\");\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _selectUp() {\r\n        console.log(\"up\");\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _selectDown() {\r\n        console.log(\"down\");\r\n    }\r\n}","/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\r\nexport default class ButtonStates {\r\n    /**\r\n     * @param {PIXI.Texture} normal\r\n     * @param {PIXI.Texture} [over]\r\n     * @param {PIXI.Texture} [down]\r\n     * @param {PIXI.Texture} [icon]\r\n     */\r\n    constructor(normal, over, down, icon) {\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.normal = normal;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.over = over || null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.down = down || null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.focus = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.icon = icon || null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconOver = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconDown = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.normalAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.overAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.downAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconOverAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconDownAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.normalInactive = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.overInactive = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.downInactive = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconInactive = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconOverInactive = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconDownInactive = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.normalInactiveAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.overInactiveAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.downInactiveAlt = null;\r\n\r\n        /**\r\n         * @member {PIXI.Texture}\r\n         */\r\n        this.iconInactiveAlt = null;\r\n    }\r\n\r\n    /**\r\n     * @returns {ButtonStates}\r\n     */\r\n    clone() {\r\n        const states = new ButtonStates(this.normal);\r\n        states.over = this.over;\r\n        states.down = this.down;\r\n        states.over = this.over;\r\n        states.focus = this.focus;\r\n        states.icon = this.icon;\r\n        states.iconOver = this.iconOver;\r\n        states.iconDown = this.iconDown;\r\n        states.normalAlt = this.normalAlt;\r\n        states.downAlt = this.downAlt;\r\n        states.overAlt = this.overAlt;\r\n        states.iconAlt = this.iconAlt;\r\n        states.iconOverAlt = this.iconOverAlt;\r\n        states.iconDownAlt = this.iconDownAlt;\r\n        states.normalInactive = this.normalInactive;\r\n        states.downInactive = this.downInactive;\r\n        states.overInactive = this.overInactive;\r\n        states.iconInactive = this.iconInactive;\r\n        states.iconDownInactive = this.iconDownInactive;\r\n        states.iconOverInactive = this.iconOverInactive;\r\n        states.normalInactiveAlt = this.normalInactiveAlt;\r\n        states.downInactiveAlt = this.downInactiveAlt;\r\n        states.overInactiveAlt = this.overInactiveAlt;\r\n        states.iconInactiveAlt = this.iconInactiveAlt;\r\n        return states;\r\n    }\r\n}","import Vector2 from \"../math/Vector2\";\r\nimport isMobile from \"ismobilejs\";\r\n\r\n/**\r\n * @class\r\n * @memberOf P3\r\n */\r\nexport default class Input {\r\n    constructor() {\r\n        /**\r\n         * @member {Object} signals\r\n         * @member {signals.Signal} signals.mouseMove\r\n         * @member {signals.Signal} signals.mouseDown\r\n         * @member {signals.Signal} signals.mouseUp\r\n         * @member {signals.Signal} signals.mouseClick\r\n         * @member {signals.Signal} signals.keyDown\r\n         * @member {signals.Signal} signals.keyUp\r\n         * @member {signals.Signal} signals.swipeLeft\r\n         * @member {signals.Signal} signals.swipeRight\r\n         * @member {signals.Signal} signals.swipeUp\r\n         * @member {signals.Signal} signals.swipeDown\r\n         * @member {signals.Signal} signals.orientation\r\n         */\r\n        this.signals = {\r\n            mouseMove: new signals.Signal(),\r\n            mouseDown: new signals.Signal(),\r\n            mouseUp: new signals.Signal(),\r\n            mouseClick: new signals.Signal(),\r\n            keyDown: new signals.Signal(),\r\n            keyUp: new signals.Signal(),\r\n            swipeLeft: new signals.Signal(),\r\n            swipeRight: new signals.Signal(),\r\n            swipeUp: new signals.Signal(),\r\n            swipeDown: new signals.Signal(),\r\n            orientation: new signals.Signal()\r\n        };\r\n\r\n        /**\r\n         * @member {PIXI.DisplayObject}\r\n         * @private\r\n         */\r\n        this._stage = null;\r\n\r\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\r\n        this._keyMap = {};\r\n\r\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\r\n        this._keyBuffer = {};\r\n\r\n        /**\r\n         * @member {PIXI.Point}\r\n         * @private\r\n         */\r\n        this._touch = null;\r\n\r\n        /**\r\n         * @type {null}\r\n         * @private\r\n         */\r\n        this._swipeStart = null;\r\n\r\n        /**\r\n         * @type {number}\r\n         * @private\r\n         */\r\n        this._swipeTime = 0;\r\n\r\n        /**\r\n         * @member {Object} orientation\r\n         * @member {number} orientation.gamma\r\n         * @member {number} orientation.beta\r\n         * @member {number} orientation.alpha\r\n         * @private\r\n         */\r\n        this._orientation = {\r\n            gamma: 0,\r\n            beta: 0,\r\n            alpha: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @param {PIXI.DisplayObject} stage\r\n     * @param {*} keyListener\r\n     */\r\n    init(stage, keyListener) {\r\n        this._stage = stage;\r\n        this._stage.interactive = true;\r\n        this._stage.mousemove = this._stage.touchmove = this._onMouseMove.bind(this);\r\n        this._stage.mousedown = this._stage.touchstart = this._onMouseDown.bind(this);\r\n        this._stage.mouseup = this._stage.touchend = this._onMouseUp.bind(this);\r\n        this._stage.click = this._stage.tap = this._onMouseClick.bind(this);\r\n\r\n        keyListener.onkeydown = this._onKeyDown.bind(this);\r\n        keyListener.onkeyup = this._onKeyUp.bind(this);\r\n        keyListener.focus();\r\n\r\n        document.onclick = function() {\r\n            keyListener.focus();\r\n        };\r\n\r\n        isMobile.any && window.addEventListener(\"deviceorientation\", this._onDeviceOrientation.bind(this));\r\n    }\r\n\r\n    /**\r\n     */\r\n    destroy() {\r\n        this._stage.mousemove = this._stage.touchmove = null;\r\n        this._stage.mousedown = this._stage.touchstart = null;\r\n        this._stage.mouseup = this._stage.touchend = null;\r\n        this._stage.click = this._stage.tap = null;\r\n\r\n        isMobile.any && window.removeEventListener(\"deviceorientation\", this._onDeviceOrientation);\r\n\r\n        this.signals.mouseMove.dispose();\r\n        this.signals.mouseDown.dispose();\r\n        this.signals.mouseUp.dispose();\r\n        this.signals.mouseClick.dispose();\r\n\r\n        this.signals.keyDown.dispose();\r\n        this.signals.keyUp.dispose();\r\n\r\n        this.signals.swipeLeft.dispose();\r\n        this.signals.swipeRight.dispose();\r\n        this.signals.swipeUp.dispose();\r\n        this.signals.swipeDown.dispose();\r\n\r\n        this.signals.orientation.dispose();\r\n    }\r\n\r\n    /**\r\n     */\r\n    update() {\r\n        for (let i in this._keyBuffer) {\r\n            if (this._keyBuffer.hasOwnProperty(i)) {\r\n                this._keyBuffer[i] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {number} keyCode\r\n     * @returns {boolean}\r\n     */\r\n    isKeyDown(keyCode) {\r\n        return this._keyMap[keyCode] === true;\r\n    }\r\n\r\n    /**\r\n     * @param {number} keyCode\r\n     * @returns {boolean}\r\n     */\r\n    isKeyPressed(keyCode) {\r\n        return this._keyBuffer[keyCode] === true;\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onMouseMove(event) {\r\n        this._touch && (this._touch = event.data.getLocalPosition(this._stage));\r\n\r\n        this.signals.mouseMove.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onMouseDown(event) {\r\n        this._touch = event.data.getLocalPosition(this._stage);\r\n\r\n        if (isMobile.any) {\r\n            this._swipeStart = this._touch.clone();\r\n            this._swipeTime = window.performance.now();\r\n        }\r\n        this.signals.mouseDown.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onMouseUp(event) {\r\n        if (isMobile.any) {\r\n            const swipe = new Vector2(this._touch.x - this._swipeStart.x, this._touch.y - this._swipeStart.y);\r\n            const distance = swipe.lengthSq;\r\n            const minimum = 4 * 4;\r\n            swipe.normalize();\r\n\r\n            if (window.performance.now() - this._swipeTime < 800 && distance > minimum) {\r\n                const left = swipe.dot(new Vector2(-1, 0));\r\n                (left > 0.9) && this.signals.swipeLeft.dispatch();\r\n\r\n                const right = swipe.dot(new Vector2(1, 0));\r\n                (right > 0.9) && this.signals.swipeRight.dispatch();\r\n\r\n                const up = swipe.dot(new Vector2(0, -1));\r\n                (up > 0.9) && this.signals.swipeUp.dispatch();\r\n\r\n                const down = swipe.dot(new Vector2(0, 1));\r\n                (down > 0.9) && this.signals.swipeDown.dispatch();\r\n            }\r\n        }\r\n\r\n        this._touch = null;\r\n        this.signals.mouseUp.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onMouseClick(event) {\r\n        this.signals.mouseClick.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onKeyDown(event) {\r\n        if (event.keyCode === Input.keys.LEFT || event.keyCode === Input.keys.RIGHT ||\r\n            event.keyCode === Input.keys.UP || event.keyCode === Input.keys.DOWN ||\r\n            event.keyCode === Input.keys.SPACE) event.preventDefault();\r\n\r\n        !this.isKeyDown(event.keyCode) && (this._keyBuffer[event.keyCode] = true);\r\n        this._keyMap[event.keyCode] = true;\r\n        this.signals.keyDown.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onKeyUp(event) {\r\n        if (event.keyCode === Input.keys.LEFT || event.keyCode === Input.keys.RIGHT ||\r\n            event.keyCode === Input.keys.UP || event.keyCode === Input.keys.DOWN ||\r\n            event.keyCode === Input.keys.SPACE) event.preventDefault();\r\n\r\n        this._keyMap[event.keyCode] = false;\r\n        this.signals.keyUp.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onDeviceOrientation(event) {\r\n        this.signals.orientation.dispatch(event);\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Point}\r\n     */\r\n    get touch() {\r\n        return this._touch;\r\n    }\r\n\r\n    /**\r\n     * @returns {Object} orientation\r\n     * @returns {number} orientation.gamma\r\n     * @returns {number} orientation.beta\r\n     * @returns {number} orientation.alpha\r\n     */\r\n    get orientation() {\r\n        return this._orientation;\r\n    }\r\n}\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {Object}\r\n */\r\nInput.keys = {};\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.W = 87;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.A = 65;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.S = 83;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.D = 68;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.Z = 90;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.X = 88;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.C = 67;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.LEFT = 37;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.RIGHT = 39;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.UP = 38;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.DOWN = 40;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.SPACE = 32;\r\n\r\n/**\r\n * @static\r\n * @constant\r\n * @type {number}\r\n */\r\nInput.keys.ENTER = 13;\r\n","import MovieClipSequence from \"./MovieClipSequence\";\r\n\r\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\r\nexport default class MovieClip extends PIXI.Sprite {\r\n    /**\r\n     * @param {MovieClipSequence} sequence\r\n     * @param {string} [defaultAnimation=default]\r\n     * @param {boolean} [autoUpdate=true]\r\n     */\r\n    constructor(sequence, defaultAnimation = \"default\", autoUpdate = true) {\r\n        const texture = sequence.textures[defaultAnimation] ? sequence.textures[defaultAnimation][0] : PIXI.Texture.EMPTY;\r\n        if (!texture) {\r\n            throw new Error(\"No default texture found!\");\r\n        }\r\n        super(texture);\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this.animationSpeed = 24;\r\n\r\n        /**\r\n         * @member {boolean}\r\n         */\r\n        this.looping = false;\r\n\r\n        /**\r\n         * @member {object} signals\r\n         * @member {signals.Signal} signals.animation\r\n         * @member {signals.Signal} signals.animationComplete\r\n         */\r\n        this.signals = {\r\n            animation: new signals.Signal(),\r\n            animationComplete: new signals.Signal()\r\n        };\r\n\r\n        /**\r\n         * @member {*}\r\n         * @protected\r\n         */\r\n        this._frames = {};\r\n\r\n        /**\r\n         * @member {boolean}\r\n         * @protected\r\n         */\r\n        this._playing = false;\r\n\r\n        /**\r\n         * @member {string}\r\n         * @protected\r\n         */\r\n        this._defaultAnimation = defaultAnimation;\r\n\r\n        /**\r\n         * @member {number}\r\n         * @protected\r\n         */\r\n        this._currentFrame = 0;\r\n\r\n        /**\r\n         * @member {number}\r\n         * @protected\r\n         */\r\n        this._lastFrame = 0;\r\n\r\n        /**\r\n         * @member {string}\r\n         * @protected\r\n         */\r\n        this._currentAnimationName = this._defaultAnimation;\r\n\r\n        /**\r\n         * @type {boolean}\r\n         * @protected\r\n         */\r\n        this._autoUpdate = false;\r\n\r\n        for (let i in sequence.textures) {\r\n            if (sequence.textures.hasOwnProperty(i)) {\r\n                this._frames[i] = [];\r\n                for (let j = 0; j < sequence.textures[i].length; ++ j) {\r\n                    this._frames[i].push({\r\n                        texture: sequence.textures[i][j],\r\n                        callback: null,\r\n                        scope: null\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        this.autoUpdate = autoUpdate;\r\n    }\r\n\r\n    /**\r\n     * @param {object} options\r\n     * @param {boolean} [options.children=false]\r\n     * @param {boolean} [options.texture=false]\r\n     * @param {boolean} [options.baseTexture=false]\r\n     */\r\n    destroy(options) {\r\n        this.signals.animation.dispose();\r\n        this.signals.animationComplete.dispose();\r\n\r\n        this.autoUpdate = false;\r\n\r\n        super.destroy(options);\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} [looping]\r\n     */\r\n    play(looping) {\r\n        if (typeof looping === \"boolean\") {\r\n            this.looping = looping;\r\n        }\r\n        this._playing = true;\r\n    }\r\n\r\n    stop() {\r\n        this._playing = false;\r\n    }\r\n\r\n    /**\r\n     * @param {number|string} frame\r\n     * @param {boolean} looping\r\n     */\r\n    gotoAndPlay(frame, looping) {\r\n        if (typeof frame !== \"string\") {\r\n            this._currentFrame = this._lastFrame = frame;\r\n        } else if (this._frames[frame]) {\r\n            this._currentFrame = this._lastFrame = 0;\r\n            this._currentAnimationName = frame;\r\n        }\r\n        if (typeof looping === \"boolean\") {\r\n            this.looping = looping;\r\n        }\r\n        this._playing = true;\r\n    }\r\n\r\n    /**\r\n     * @param {number|string} frame\r\n     */\r\n    gotoAndStop(frame) {\r\n        if (typeof frame !== \"string\") {\r\n            this._currentFrame = frame;\r\n        } else if (this._frames[frame]) {\r\n            this._currentFrame = 0;\r\n            this._currentAnimationName = frame;\r\n        }\r\n        this._playing = false;\r\n\r\n        const frames = this._frames[this._currentAnimationName];\r\n        const round = (this._currentFrame + 0.5) | 0;\r\n        this.texture = frames[round % frames.length].texture;\r\n    }\r\n\r\n    /**\r\n     * @param {number} frame\r\n     * @param {function} callback\r\n     * @param {*} [scope]\r\n     * @param {string} [name=default]\r\n     */\r\n    addFrameScript(frame, callback, scope, name = \"default\") {\r\n        scope = scope || window;\r\n        if (this._frames[name]) {\r\n            this._frames[name][frame].callback = callback;\r\n            this._frames[name][frame].scope = callback ? (scope | window) : null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {number} dt\r\n     */\r\n    update(dt) {\r\n        if (!this._playing || !this.getTotalFrames()) return;\r\n\r\n        this._autoUpdate && (dt = dt / PIXI.settings.TARGET_FPMS / 1000);\r\n        this._currentFrame += this.animationSpeed * dt;\r\n\r\n        const frames = this._frames[this._currentAnimationName];\r\n        const round = (this._currentFrame + 0.5) | 0;\r\n        const index = round % (frames.length + 1);\r\n\r\n        this._currentFrame = this._currentFrame % frames.length;\r\n        if (index > 0 && index !== this._lastFrame) {\r\n            this._lastFrame = index;\r\n            (frames[index - 1].callback) && frames[index - 1].callback.call(frames[index - 1].scope);\r\n        }\r\n\r\n        if (this.looping || round < frames.length) {\r\n            this.texture = frames[round % frames.length].texture;\r\n            if (round >= frames.length - 1) {\r\n                this.signals.animation.dispatch(this, this._currentAnimationName);\r\n            }\r\n        } else if (round >= frames.length - 1) {\r\n            this.gotoAndStop(frames.length - 1);\r\n            this.signals.animationComplete.dispatch(this, this._currentAnimationName);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {string} [name]\r\n     * @returns {number}\r\n     */\r\n    getTotalFrames(name) {\r\n        name = name || this._defaultAnimation;\r\n        const frames = this._frames[name];\r\n        return frames ? frames.length : 0;\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    get playing() {\r\n        return this._playing;\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get currentFrame() {\r\n        return this._currentFrame;\r\n    }\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    get currentAnimationFrame() {\r\n        return this._currentAnimationName;\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get totalFrames() {\r\n        return this.getTotalFrames();\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    get autoUpdate() {\r\n        return this._autoUpdate;\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} value\r\n     */\r\n    set autoUpdate(value) {\r\n        const ticker = PIXI.ticker.shared;\r\n        if (this._autoUpdate && !value) {\r\n            ticker.remove(this.update, this);\r\n        } else if (!this._autoUpdate && value) {\r\n            ticker.add(this.update, this);\r\n        }\r\n        this._autoUpdate = value;\r\n    }\r\n}","/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\r\nexport default class MovieClipSequence extends PIXI.Container {\r\n    constructor(textures, name) {\r\n        super();\r\n\r\n        /**\r\n         * @type {object} textures\r\n         */\r\n        this.textures = {};\r\n\r\n        textures && this.addTextures(textures, name);\r\n    }\r\n\r\n    /**\r\n     * @param {Array.<PIXI.Texture>} textures\r\n     * @param {string} [name]\r\n     */\r\n    addTextures(textures, name) {\r\n        name = name || \"default\";\r\n        this.textures[name] = textures;\r\n    }\r\n\r\n    /**\r\n     * @param {string} [name]\r\n     */\r\n    removeTextures(name) {\r\n        name = name || \"default\";\r\n        this.textures[name] = null;\r\n    }\r\n\r\n    /**\r\n     */\r\n    removeAllTextures() {\r\n        this.textures = {};\r\n    }\r\n}","import Button from \"./Button\";\r\nimport isMobile from \"ismobilejs\";\r\n\r\n/**\r\n * @class\r\n * @extends P3.Button\r\n */\r\nexport default class MuteButton extends Button {\r\n    /**\r\n     * @param {ButtonStates} states\r\n     */\r\n    constructor(states) {\r\n        super(states);\r\n\r\n        this._currentIconTexture = this.isEnabled() ? this._states.icon : this._states.iconAlt;\r\n        this._currentIconOverTexture = this.isEnabled() ? this._states.iconOver : this._states.iconOverAlt;\r\n        this._currentIconDownTexture = this.isEnabled() ? this._states.iconDown : this._states.iconDownAlt;\r\n\r\n        this._icon.texture = (this._states.iconOver && !isMobile.any) ? this._currentIconOverTexture : this._currentIconTexture;\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onMouseClick(event) {\r\n        this._currentIconTexture = !this.isEnabled() ? this._states.icon : this._states.iconAlt;\r\n        this._currentIconOverTexture = !this.isEnabled() ? this._states.iconOver : this._states.iconOverAlt;\r\n        this._currentIconDownTexture = !this.isEnabled() ? this._states.iconDown : this._states.iconDownAlt;\r\n\r\n        this._icon.texture = (this._states.iconOver && !isMobile.any) ? this._currentIconOverTexture : this._currentIconTexture;\r\n\r\n        if(!!Button.audio){\r\n            Button.audio.mute(!Button.audio.isMute);\r\n        }\r\n        super._onMouseClick(event);\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    isEnabled() {\r\n        return !!Button.audio && !Button.audio.isMute;\r\n    }\r\n}","/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3\r\n */\r\nexport default class Scene extends PIXI.Container {\r\n    constructor() {\r\n        super();\r\n\r\n        /**\r\n         * @member {object} signals\r\n         * @member {signals.Signal} signals.next\r\n         * @member {signals.Signal} signals.previous\r\n         * @member {signals.Signal} signals.home\r\n         * @member {signals.Signal} signals.pause\r\n         */\r\n        this.signals = {\r\n            next: new signals.Signal(),\r\n            previous: new signals.Signal(),\r\n            home: new signals.Signal(),\r\n            pause: new signals.Signal()\r\n        };\r\n\r\n        /**\r\n         * @member {boolean} - The scene has finished loading its required manifest.\r\n         */\r\n        this.loaded = false;\r\n\r\n        /**\r\n         * @member {boolean} - The scene is always updated regardless of its place in the stack.\r\n         */\r\n        this.alwaysUpdate = false;\r\n\r\n        /**\r\n         * @member {boolean} - The scene will call appear automatically.\r\n         */\r\n        this.autoAppear = true;\r\n\r\n        /**\r\n         * @member {Array.<TweenMax|TweenLite|TimelineMax|TimelineLite>}\r\n         * @private\r\n         */\r\n        this._tweens = [];\r\n    }\r\n\r\n    /**\r\n     * @returns {Scene}\r\n     */\r\n    preloader() {\r\n        return new Scene();\r\n    }\r\n\r\n    /**\r\n     * @returns {Array}\r\n     */\r\n    load() {\r\n        return [];\r\n    }\r\n\r\n    unload() {\r\n        // override\r\n    }\r\n\r\n    /**\r\n     * This method is called when a scene is initialized.\r\n     */\r\n    init() {\r\n        // override\r\n    }\r\n\r\n    /**\r\n     * This method is called when a scene is destroyed.\r\n     *\r\n     * @param options\r\n     * @param [options.children=false]\r\n     * @param [options.texture=false]\r\n     * @param [options.baseTexture=false]\r\n     */\r\n    destroy(options) {\r\n        this.signals.next.dispose();\r\n        this.signals.previous.dispose();\r\n        this.signals.home.dispose();\r\n        this.signals.pause.dispose();\r\n\r\n        this.killAllTweens();\r\n\r\n        super.destroy(options);\r\n    }\r\n\r\n    /**\r\n     * This method is called when the device dimensions are changed.\r\n     */\r\n    resize() {\r\n        // override\r\n    }\r\n\r\n    /**\r\n     * This method is called when the scene is 'top' of the stack.\r\n     */\r\n    update() {\r\n        // override\r\n    }\r\n\r\n    /**\r\n     * This method is called when the scene is shown for the first time.\r\n     */\r\n    appear() {\r\n        this.animateIn();\r\n    }\r\n\r\n    /**\r\n     * This method is called when the scene is shown - regardless of actual visibility.\r\n     */\r\n    show() {\r\n    }\r\n\r\n    /**\r\n     * This method is called when the scene is hidden - regardless of actual visibility.\r\n     */\r\n    hide() {\r\n    }\r\n\r\n    /**\r\n     * @param {function} [callback]\r\n     * @param {*} [scope]\r\n     */\r\n    animateIn(callback, scope) {\r\n    }\r\n\r\n    /**\r\n     * @param {function} [callback]\r\n     * @param {*} [scope]\r\n     */\r\n    animateOut(callback, scope) {\r\n    }\r\n\r\n    /**\r\n     * @param {...TweenMax|TweenLite|TimelineMax|TimelineLite} tween - The tween(s) to add to the scene.\r\n     * @returns {TweenMax|TweenLite|TimelineMax|TimelineLite} The first tween that was added.\r\n     */\r\n    addTween(tween) {\r\n        const len = arguments.length;\r\n        if (len > 1) {\r\n            for (let i = 0; i < len; ++i) {\r\n                this.addTween(arguments[tween]);\r\n            }\r\n        } else {\r\n            if (this._tweens.indexOf(tween) === -1) {\r\n                this._tweens.push(tween);\r\n            } else {\r\n                console.warn(\"Tween already added to scene!\", tween);\r\n            }\r\n        }\r\n        return tween;\r\n    }\r\n\r\n    /**\r\n     * @param {...TweenMax|TweenLite|TimelineMax|TimelineLite} tween - The tween(s) to remove from the scene.\r\n     * @returns {TweenMax|TweenLite|TimelineMax|TimelineLite} The first tween that was removed.\r\n     */\r\n    removeTween(tween) {\r\n        const len = arguments.length;\r\n        if (len > 1) {\r\n            for (let i = 0; i < len; ++i) {\r\n                this.removeTween(arguments[tween]);\r\n            }\r\n        } else {\r\n            const i = this._tweens.indexOf(tween);\r\n            if (i !== -1) {\r\n                this._tweens[i].kill();\r\n                this._tweens.splice(i, 1);\r\n            }\r\n        }\r\n        return tween;\r\n    }\r\n\r\n    pauseAllTweens() {\r\n        for (let i = 0; i < this._tweens.length; ++ i) {\r\n            this._tweens[i].pause();\r\n        }\r\n    }\r\n\r\n    resumeAllTweens() {\r\n        for (let i = 0; i < this._tweens.length; ++ i) {\r\n            this._tweens[i].resume();\r\n        }\r\n    }\r\n\r\n    killAllTweens() {\r\n        for (let i = 0; i < this._tweens.length; ++ i) {\r\n            this._tweens[i].kill();\r\n        }\r\n    }\r\n}","import Scene from \"./Scene\";\r\n\r\n/**\r\n * @class\r\n * @memberOf P3\r\n */\r\nexport default class SceneManager {\r\n    /**\r\n     * @param {PIXI.CanvasRenderer|PIXI.WebGLRenderer} renderer\r\n     */\r\n    constructor(renderer) {\r\n        /**\r\n         * @member {Object}\r\n         * @member {signals.Signal} signals.next\r\n         */\r\n        this.signals = {\r\n            next: new signals.Signal()\r\n        };\r\n\r\n        /**\r\n         * @member {PIXI.Container}\r\n         * @private\r\n         */\r\n        this._view = new PIXI.Container();\r\n\r\n        /**\r\n         * @member {PIXI.CanvasRenderer|PIXI.WebGLRenderer}\r\n         * @private\r\n         */\r\n        this._renderer = renderer;\r\n\r\n        /**\r\n         * @member {Object}\r\n         * @private\r\n         */\r\n        this._next = null;\r\n\r\n        /**\r\n         * @type {Array.<Scene>}\r\n         * @private\r\n         */\r\n        this._stack = [];\r\n    }\r\n\r\n    /**\r\n     * Shows the next Scene. This will destroy all current scenes and remove them from the stack.\r\n     * @param {Scene} scene - The scene to show.\r\n     */\r\n    show(scene) {\r\n        this._next = {};\r\n        this._next.type = 0;\r\n        this._next.scene = scene;\r\n    }\r\n\r\n    /**\r\n     * @param {Scene} scene - The scene to add.\r\n     * @param {boolean} [replace] - All other scenes are removed from the display list but will remain in the stack.\r\n     */\r\n    add(scene, replace) {\r\n        this._next = {};\r\n        this._next.type = 1;\r\n        this._next.scene = scene;\r\n        this._next.replace = replace;\r\n    }\r\n\r\n    /**\r\n     * @param {Scene} scene - The scene to add.\r\n     * @param {number} [count=1] - The number of scenes to swap with the new scene.\r\n     */\r\n    swap(scene, count) {\r\n        this._next = {};\r\n        this._next.type = 2;\r\n        this._next.scene = scene;\r\n        this._next.removeCount = Math.max(1, count) || 1;\r\n    }\r\n\r\n    /**\r\n     * Remove a Scene from the top of the stack.\r\n     * @param {number} [count=1] - The number of scenes to remove from the stack.\r\n     */\r\n    remove(count) {\r\n        this._next = {};\r\n        this._next.type = 2;\r\n        this._next.removeCount = Math.max(1, count) || 1;\r\n    }\r\n\r\n    /**\r\n     * Remove all Scenes from the stack.\r\n     */\r\n    removeAll() {\r\n        this._next = {};\r\n        this._next.type = 3;\r\n        this._next.removeCount = Number.MAX_SAFE_INTEGER;\r\n    }\r\n\r\n    /**\r\n     * Destroys all Scenes in the stack.\r\n     */\r\n    clear() {\r\n        if (this._transitionInProgress) return;\r\n\r\n        for (let i = 0; i < this._stack.length; ++ i) {\r\n            const scene = this._stack[i];\r\n            if (scene.parent) {\r\n                scene.hide();\r\n                scene.parent.removeChild(scene);\r\n            }\r\n            scene.destroy({children: true});\r\n        }\r\n        this._stack.length = 0;\r\n    }\r\n\r\n    /**\r\n     * Updates the Scene at the top of the stack.\r\n     */\r\n    update() {\r\n        this._next && this._nextScene();\r\n\r\n        if (this._stack.length) {\r\n            this.top.update();\r\n            for (let i = 0; i < this._stack.length - 1; ++ i) {\r\n                const scene = this._stack[i];\r\n                scene.alwaysUpdate && scene.update();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Attempts to resize any children added to the SceneManagers view.\r\n     */\r\n    resize() {\r\n        for (let i = 0; i < this._view.children.length; ++ i) {\r\n            const child = this._view.children[i];\r\n            child.resize && child.resize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _nextScene() {\r\n        const next = this._next;\r\n        this._next = null;\r\n\r\n        let scene = next.scene;\r\n\r\n        if (this.top) {\r\n            this.top.hide();\r\n\r\n            switch (next.type) {\r\n                // show\r\n                case 0 : {\r\n                    while (this.top) this._removeTop();\r\n                    break;\r\n                }\r\n                // add\r\n                case 1 : {\r\n                    if (next.replace) {\r\n                        for (let i = this._stack.length - 1; i >= 0; -- i) {\r\n                            const other = this._stack[i];\r\n                            other.parent && other.parent.removeChild(other);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                // remove\r\n                case 2 : {\r\n                    const count = Math.min(this._stack.length, next.removeCount);\r\n                    for (let i = 0; i < count; ++ i) {\r\n                        this._removeTop();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (scene) {\r\n            scene.init();\r\n            this._stack.push(scene);\r\n        } else {\r\n            scene = this.top;\r\n        }\r\n\r\n        if (scene) {\r\n            scene.resize();\r\n            !scene.parent && this._view.addChild(scene);\r\n\r\n            scene.show();\r\n            if (next.type !== 3 && scene.autoAppear) {\r\n                scene.appear();\r\n            }\r\n        }\r\n\r\n        console.log(\"stack:\", this._stack);\r\n        this.signals.next.dispatch(this, scene);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _removeTop() {\r\n        this.top.parent && this.top.parent.removeChild(this.top);\r\n        this.top.destroy({children: true});\r\n        this.top.unload();\r\n        this._stack.pop();\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.Container}\r\n     */\r\n    get view() {\r\n        return this._view;\r\n    }\r\n\r\n    /**\r\n     * @returns {PIXI.CanvasRenderer|PIXI.WebGLRenderer}\r\n     */\r\n    get renderer() {\r\n        return this._renderer;\r\n    }\r\n\r\n    /**\r\n     * The top most Scene in the stack.\r\n     * @returns {Scene}\r\n     */\r\n    get top() {\r\n        return this._stack.length ? this._stack[this._stack.length - 1] : null;\r\n    }\r\n}","import isMobile from \"ismobilejs\";\r\n\r\n/**\r\n * @class\r\n * @memberOf P3\r\n */\r\nexport default class View {\r\n    /**\r\n     * @param {Object} [options]\r\n     * @param {boolean} [options.width=0]\r\n     * @param {number} [options.height=0]\r\n     * @param {string} [options.holderId]\r\n     * @param {boolean} [options.portrait=false]\r\n     * @param {string} [options.rotateImageUrl]\r\n     * @param {number} [options.rotateImageColor=0xFFFFFF]\r\n     * @param {boolean} [options.aspectRatioFillHeight=true]\r\n     */\r\n    constructor(options) {\r\n        /**\r\n         * @member {Object}\r\n         */\r\n        this.signals = {};\r\n\r\n        /**\r\n         * @member {signals.Signal}\r\n         */\r\n        this.signals.ready = new signals.Signal();\r\n\r\n        /**\r\n         * @member {signals.Signal}\r\n         */\r\n        this.signals.resize = new signals.Signal();\r\n\r\n        /**\r\n         * @type {Object}\r\n         * @private\r\n         */\r\n        this._options = Object.assign({}, {\r\n            width: 0,\r\n            height: 0,\r\n            holderId: \"game\",\r\n            portrait: false,\r\n            rotateImageColor: 0xFFFFFF,\r\n            aspectRatioFillHeight: true\r\n        }, options);\r\n\r\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\r\n        this._holder = null;\r\n\r\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\r\n        this._canvas = null;\r\n\r\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\r\n        this._iosfix = null;\r\n\r\n        /**\r\n         * @member {Element}\r\n         * @private\r\n         */\r\n        this._rotateImage = null;\r\n\r\n        /**\r\n         * @type {string}\r\n         * @private\r\n         */\r\n        this._targetOrientation = this._options.portrait ? \"portrait\" : \"landscape\";\r\n\r\n        if (document.readyState !== \"complete\") {\r\n            window.self.onload = this._onLoad.bind(this);\r\n        } else {\r\n            this._onLoad();\r\n        }\r\n    }\r\n\r\n    /**\r\n     */\r\n    resize() {\r\n        const width = isMobile.any ? document.documentElement.clientWidth : window.innerWidth;\r\n        const height = isMobile.any ? document.documentElement.clientHeight : window.innerHeight;\r\n\r\n        if (window.self === window.top) {\r\n            this._holder.style.width = width + \"px\";\r\n            this._holder.style.height = height + \"px\";\r\n        } else {\r\n            this._holder.style.width = \"100%\";\r\n            this._holder.style.height = \"100%\";\r\n        }\r\n\r\n        if (isMobile.apple.device) {\r\n            this._iosfix.style.height = parseInt(this._holder.style.height) + 1 + \"px\";\r\n        }\r\n\r\n        // this scroll is used in IOS 8.0+ to move the game down when the user clicks to show the scrollbar.\r\n        window.scrollTo(0, 0);\r\n\r\n        if (this._options.aspectRatioFillHeight) {\r\n            let ratioW = width / this._options.width;\r\n            let ratioH = this._options.height / height;\r\n\r\n            this._updateDimensions(\r\n                Math.floor((this._options.width * ratioW) * ratioH),\r\n                this._options.height\r\n            );\r\n        } else {\r\n            let ratioW = this._options.width / width;\r\n            let ratioH = height / this._options.height;\r\n\r\n            this._updateDimensions(\r\n                this._options.width,\r\n                Math.floor((this._options.height * ratioH) * ratioW)\r\n            );\r\n        }\r\n\r\n        this.toggleRotate(!this.isCorrectOrientation);\r\n        this.signals.resize.dispatch(this.isCorrectOrientation);\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} value\r\n     */\r\n    toggleRotate(value) {\r\n        this._canvas.style.display = value ? \"none\" : \"block\";\r\n        this._rotateImage.style.display = value ? \"block\" : \"none\";\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createHolder() {\r\n        if (navigator[\"isCocoonJS\"]) return;\r\n\r\n        this._holder = document.getElementById(this._options.holderId);\r\n        if (!this._holder) {\r\n            this._holder = document.createElement(\"div\");\r\n            this._holder.id = this._options.holderId;\r\n            document.body.appendChild(this._holder);\r\n        }\r\n\r\n        this._holder.style.position = \"absolute\";\r\n        this._holder.style.left = 0;\r\n        this._holder.style.top = 0;\r\n        this._holder.style.width = window.self.innerWidth + \"px\";\r\n        this._holder.style.height = window.self.innerHeight + \"px\";\r\n        View.holder = this._holder;\r\n\r\n        // forces the browser bars to be hidden in iOS9\r\n        if (isMobile.apple.device) {\r\n            this._iosfix = document.createElement(\"div\");\r\n            this._iosfix.id = \"iosfix\";\r\n            this._iosfix.style.position = \"absolute\";\r\n            this._iosfix.style.left = 0;\r\n            this._iosfix.style.right = 0;\r\n            this._iosfix.style.top = 0;\r\n            this._iosfix.style.bottom = 0;\r\n            this._iosfix.style.width = \"100%\";\r\n            this._iosfix.style.height = this._holder.height + 1;\r\n            this._iosfix.style.visibility = \"hidden\";\r\n            document.body.appendChild(this._iosfix);\r\n            View.iosfix = this._iosfix;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createCanvas() {\r\n        if (navigator[\"isCocoonJS\"]) {\r\n            this._canvas = document.createElement(\"screencanvas\");\r\n            this._canvas.id = \"canvas\";\r\n            this._canvas.width = this._options.width;\r\n            this._canvas.height = this._options.height;\r\n            this._canvas.style.cssText = \"idtkscale:ScaleAspectFill;\";\r\n            document.body.appendChild(this._canvas);\r\n        } else {\r\n            this._canvas = document.createElement(\"canvas\");\r\n            this._canvas.id = \"canvas\";\r\n            this._canvas.tabIndex = 1;\r\n            this._canvas.style.position = \"absolute\";\r\n            this._canvas.style.left = 0;\r\n            this._canvas.style.right = 0;\r\n            this._canvas.style.top = 0;\r\n            this._canvas.style.bottom = 0;\r\n            this._canvas.style.width = \"100%\";\r\n            this._canvas.style.height = \"100%\";\r\n            this._canvas.style.overflow = \"visible\";\r\n            this._canvas.style.display = \"block\";\r\n            this._holder.appendChild(this._canvas);\r\n        }\r\n        View.canvas = this._canvas;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _createRotateImage() {\r\n        if (navigator[\"isCocoonJS\"]) return;\r\n\r\n        this._rotateImage = document.createElement(\"div\");\r\n        this._rotateImage.id = \"rotateImage\";\r\n        this._rotateImage.style.position = \"absolute\";\r\n        this._rotateImage.style.left = 0;\r\n        this._rotateImage.style.top = 0;\r\n\r\n        this._rotateImage.style.width = \"100%\";\r\n        this._rotateImage.style.height = \"100%\";\r\n        this._rotateImage.style.marginLeft = \"auto\";\r\n        this._rotateImage.style.marginRight = 0 + \"auto\";\r\n        this._rotateImage.style.overflow = \"visible\";\r\n        this._rotateImage.style.display = \"none\";\r\n        this._rotateImage.style.zIndex = 1000;\r\n\r\n        this._rotateImage.style.backgroundImage = this._options.rotateImageUrl ? \"url(\" + this._options.rotateImageUrl + \")\" : \"\";\r\n        this._rotateImage.style.backgroundColor = this._options.rotateImageColor || 0xFFFFFF;\r\n        this._rotateImage.style.backgroundPosition = \"50% 50%\";\r\n        this._rotateImage.style.backgroundRepeat = \"no-repeat\";\r\n        this._rotateImage.style.backgroundSize = \"100% auto\";\r\n\r\n        this._holder.appendChild(this._rotateImage);\r\n\r\n        // prevent dragging the ui\r\n        this._rotateImage.addEventListener(\"touchmove\", function(event) {\r\n            event.preventDefault();\r\n            return false;\r\n        });\r\n\r\n        // prevent dragging the ui\r\n        this._rotateImage.addEventListener(\"touchstart\", function(event) {\r\n            event.preventDefault();\r\n            return false;\r\n        });\r\n\r\n        // prevent dragging the ui\r\n        this._rotateImage.addEventListener(\"touchend\", function(event) {\r\n            event.preventDefault();\r\n            return false;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param {number} width\r\n     * @param {number} height\r\n     * @private\r\n     */\r\n    _updateDimensions(width, height) {\r\n        View.width = this._width = Math.round(width);\r\n        View.height = this._height = Math.round(height);\r\n        View.center.x = Math.round(width * 0.5);\r\n        View.center.y = Math.round(height * 0.5);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _disableInteractions() {\r\n        // prevent dragging the ui\r\n        View.canvas.addEventListener(\"touchmove\", function(event) {\r\n            event.preventDefault();\r\n            return false;\r\n        });\r\n\r\n        // prevent dragging the ui\r\n        View.canvas.addEventListener(\"touchstart\", function(event) {\r\n            event.preventDefault();\r\n            return false;\r\n        });\r\n\r\n        // prevent dragging the ui\r\n        View.canvas.addEventListener(\"touchend\", function(event) {\r\n            event.preventDefault();\r\n            return false;\r\n        });\r\n\r\n        if (isMobile.android.device) {\r\n            View.canvas.addEventListener(\"mousedown\", function(event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                event.stopImmediatePropagation();\r\n            }, false);\r\n\r\n            View.canvas.addEventListener(\"mouseup\", function(event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                event.stopImmediatePropagation();\r\n            }, false);\r\n\r\n            View.canvas.addEventListener(\"click\", function(event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                event.stopImmediatePropagation();\r\n            }, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onLoad() {\r\n        const that = this;\r\n        setTimeout(function() {\r\n            init.call(that);\r\n        }, 0);\r\n\r\n        function init() {\r\n            this._createHolder();\r\n            this._createCanvas();\r\n            this._createRotateImage();\r\n            this._disableInteractions();\r\n\r\n            if (navigator[\"isCocoonJS\"]) {\r\n                this.updateDimensions(\r\n                    this._options.width * (window.innerWidth / this._options.width) / (window.innerHeight / this._options.height),\r\n                    this._options.height\r\n                );\r\n                this.signals.ready.dispatch(this._canvas);\r\n            } else {\r\n                if (isMobile.android.device) {\r\n                    window.self.addEventListener(\"orientationchange\", this._onOrientationChange.bind(this), false);\r\n                } else {\r\n                    window.self.addEventListener(\"resize\", this._onResize.bind(this), false);\r\n                }\r\n                this.signals.ready.dispatch(this._canvas);\r\n\r\n                this.resize();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onResize(event) {\r\n        this.resize();\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onOrientationChange(event) {\r\n        window.self.addEventListener(\"resize\", listener, false);\r\n\r\n        const that = this;\r\n        function listener() {\r\n            window.self.removeEventListener(\"resize\", listener, false);\r\n            that.resize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns {Element}\r\n     */\r\n    get holder() {\r\n        return this._holder;\r\n    }\r\n\r\n    /**\r\n     * @returns {Object}\r\n     */\r\n    get options() {\r\n        return this._options;\r\n    }\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    get orientation() {\r\n        return this._width >= this._height ? \"landscape\" : \"portrait\";\r\n    }\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    get isCorrectOrientation() {\r\n        return isMobile.any ? this.orientation === this._targetOrientation : true;\r\n    }\r\n}\r\n\r\n/**\r\n * @type {Element}\r\n */\r\nView.holder = null;\r\n\r\n/**\r\n * @type {Element}\r\n */\r\nView.canvas = null;\r\n\r\n/**\r\n * @type {number}\r\n */\r\nView.width = 0;\r\n\r\n/**\r\n * @type {number}\r\n */\r\nView.height = 0;\r\n\r\n/**\r\n * @type {PIXI.Point}\r\n */\r\nView.center = new PIXI.Point();\r\n","/**\r\n * Two Pi.\r\n *\r\n * @static\r\n * @constant\r\n * @memberOf P3\r\n * @type {number}\r\n */\r\nexport const PI_2 = Math.PI * 2;\r\n\r\n/**\r\n * Conversion factor for converting radians to degrees.\r\n *\r\n * @static\r\n * @constant\r\n * @memberOf P3\r\n * @type {number}\r\n */\r\nexport const RAD_TO_DEG = 180 / Math.PI;\r\n\r\n/**\r\n * Conversion factor for converting degrees to radians.\r\n *\r\n * @static\r\n * @constant\r\n * @memberOf P3\r\n * @type {number}\r\n */\r\nexport const DEG_TO_RAD = Math.PI / 180;","/**\r\n * @namespace P3\r\n */\r\nexport * from \"./const\";\r\n\r\nexport {default as AssetManager} from \"./AssetManager\";\r\nexport {default as Button} from \"./Button\";\r\nexport {default as ButtonManager} from \"./ButtonManager\";\r\nexport {default as ButtonStates} from \"./ButtonStates\";\r\nexport {default as Input} from \"./Input\";\r\nexport {default as MovieClip} from \"./MovieClip\";\r\nexport {default as MovieClipSequence} from \"./MovieClipSequence\";\r\nexport {default as MuteButton} from \"./MuteButton\";\r\nexport {default as Scene} from \"./Scene\";\r\nexport {default as SceneManager} from \"./SceneManager\";\r\nexport {default as View} from \"./View\";","export * from \"./audio\";\r\nexport * from \"./camera\";\r\nexport * from \"./core\";\r\nexport * from \"./math\";\r\nexport * from \"./transition\";\r\n\r\nimport * as math from \"./math\";\r\nimport * as utils from \"./utils\";\r\n\r\nexport {\r\n    math,\r\n    utils\r\n}\r\n\r\nglobal.P3 = exports;","/**\r\n * @class\r\n * @memberOf P3.math\r\n */\r\nexport default class Color {\r\n    /**\r\n     * @param {number|string} [hex=0x0]\r\n     * @param {number} [alpha=0]\r\n     */\r\n    constructor(hex = 0x0, alpha = 1) {\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._r = 0;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._g = 0;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._b = 0;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._a = alpha;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._h = 0;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._s = 0;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this._v = 0;\r\n\r\n        this.setHex(hex);\r\n    }\r\n\r\n    /**\r\n     * @param {number} value\r\n     * @returns {string}\r\n     */\r\n    static hexNumberToString(value) {\r\n        const pad = \"#000000\";\r\n        const hex = parseInt(value).toString(16);\r\n        return pad.substring(0, pad.length - hex.length) + hex;\r\n    }\r\n\r\n    /**\r\n     * Set the color from a hex formatted string.\r\n     * http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\n     *\r\n     * @param {number|string} value\r\n     * @returns {Color}\r\n     */\r\n    setHex(value) {\r\n        if (typeof value === \"number\") {\r\n            value = Color.hexNumberToString(value);\r\n        }\r\n\r\n        const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n        const hex = value.replace(shorthandRegex, function(m, r, g, b) {\r\n            return r + r + g + g + b + b;\r\n        });\r\n\r\n        const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n        if (result) {\r\n            this._r = parseInt(result[1], 16) / 255;\r\n            this._g = parseInt(result[2], 16) / 255;\r\n            this._b = parseInt(result[3], 16) / 255;\r\n\r\n            this._updateHSV();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the color from another color.\r\n     *\r\n     * @param {Color} color\r\n     * @returns {Color}\r\n     */\r\n    setColor(color) {\r\n        this._r = color.r;\r\n        this._g = color.g;\r\n        this._b = color.b;\r\n        this._a = color.a;\r\n        this._h = color.h;\r\n        this._s = color.s;\r\n        this._v = color.v;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the color from RGB values.\r\n     *\r\n     * @param {number} r - The red value to set.\r\n     * @param {number} g - The green value to set.\r\n     * @param {number} b - The blue value to set.\r\n     * @returns {Color}\r\n     */\r\n    setRGB(r, g, b) {\r\n        this._r = r;\r\n        this._g = g;\r\n        this._b = b;\r\n\r\n        this._updateHSV();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the color from the RGBA values.\r\n     *\r\n     * @param {number} r - The red value to set.\r\n     * @param {number} g - The green value to set.\r\n     * @param {number} b - The blue value to set.\r\n     * @param {number} a - The alpha value to set.\r\n     * @returns {Color}\r\n     */\r\n    setRGBA(r, g, b, a) {\r\n        this._a = a;\r\n\r\n        this.setRGB(r, g, b);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the color from the HSV values.\r\n     *\r\n     * @param {number} h - The hue value to set.\r\n     * @param {number} s - The saturation value to set.\r\n     * @param {number} v - The brightness value to set.\r\n     * @returns {Color}\r\n     */\r\n    setHSV(h, s, v) {\r\n        this._h = h;\r\n        this._s = s;\r\n        this._v = v;\r\n\r\n        this._updateRGB();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Desaturate the color.\r\n     *\r\n     * @param {number} [r] - Desaturation r ratio.\r\n     * @param {number} [g] - Desaturation g ratio.\r\n     * @param {number} [b] - Desaturation b ratio.\r\n     * @returns {Color}\r\n     */\r\n    desaturate(r = 0.59, g = 0.30, b = 0.11) {\r\n        this._r = this._g * r + this._r * g + this._b * b;\r\n        this._g = this._r;\r\n        this._b = this._r;\r\n\r\n        this._updateHSV();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Invert the color.\r\n     *\r\n     * @returns {Color}\r\n     */\r\n    invert() {\r\n        this._r = 1 - this._r;\r\n        this._g = 1 - this._g;\r\n        this._b = 1 - this._b;\r\n\r\n        this._updateHSV();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Blend the current color with the given one.\r\n     *\r\n     * @param {Color} to\r\n     * @param {number} [t=0.5] A number between 0 and 1.\r\n     */\r\n    lerp(to, t = 0.5) {\r\n        t = Math.min(1, Math.max(0, t));\r\n\r\n        this._r = this._r * (1 - t) + to.r * t;\r\n        this._g = this._g * (1 - t) + to.g * t;\r\n        this._b = this._b * (1 - t) + to.b * t;\r\n\r\n        this._updateHSV();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Randomize the color's values\r\n     *\r\n     * @returns {Color}\r\n     */\r\n    random() {\r\n        this._r = Math.random();\r\n        this._g = Math.random();\r\n        this._b = Math.random();\r\n\r\n        this._updateHSV();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Normalize the color's values.\r\n     *\r\n     * @private\r\n     */\r\n    _normalize() {\r\n        this._r = this._r < 0 ? 0 : (this._r > 1 ? 1 : this._r);\r\n        this._g = this._g < 0 ? 0 : (this._g > 1 ? 1 : this._g);\r\n        this._b = this._b < 0 ? 0 : (this._b > 1 ? 1 : this._b);\r\n        this._a = this._a < 0 ? 0 : (this._a > 1 ? 1 : this._a);\r\n        this._h = Number((this._h - Math.floor(this._h)).toPrecision(8));\r\n        this._s = this._s < 0 ? 0 : (this._s > 1 ? 1 : this._s);\r\n        this._v = this._v < 0 ? 0 : (this._v > 1 ? 1 : this._v);\r\n    }\r\n\r\n    /**\r\n     * Update the color's RGB values from the HSV ones.\r\n     * http://stackoverflow.com/questions/17242144/javascript-convert-hsb-hsv-color-to-rgb-accurately\r\n     *\r\n     * @private\r\n     */\r\n    _updateRGB() {\r\n        this._normalize();\r\n\r\n        const i = Math.floor(this._h * 6);\r\n        const f = this._h * 6 - i;\r\n        const p = this._v * (1 - this._s);\r\n        const q = this._v * (1 - f * this._s);\r\n        const t = this._v * (1 - (1 - f) * this._s);\r\n\r\n        switch (i % 6) {\r\n            case 0:\r\n                this._r = this._v;\r\n                this._g = t;\r\n                this._b = p;\r\n                break;\r\n\r\n            case 1:\r\n                this._r = q;\r\n                this._g = this._v;\r\n                this._b = p;\r\n                break;\r\n\r\n            case 2:\r\n                this._r = p;\r\n                this._g = this._v;\r\n                this._b = t;\r\n                break;\r\n\r\n            case 3:\r\n                this._r = p;\r\n                this._g = q;\r\n                this._b = this._v;\r\n                break;\r\n\r\n            case 4:\r\n                this._r = t;\r\n                this._g = p;\r\n                this._b = this._v;\r\n                break;\r\n\r\n            case 5:\r\n                this._r = this._v;\r\n                this._g = p;\r\n                this._b = q;\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update the color's HSV values from the RGB ones.\r\n     * http://www.deadbeef.com/converting_rgb_to_hsv_in_c/\r\n     *\r\n     * @private\r\n     */\r\n    _updateHSV() {\r\n        this._normalize();\r\n\r\n        const maxC = Math.max(this._r, this._g, this._b);\r\n        const minC = Math.min(this._r, this._g, this._b);\r\n        const delta = maxC - minC;\r\n\r\n        let h = 0;\r\n        let s = 0;\r\n        const v = maxC;\r\n\r\n        if (delta == 0) {\r\n            h = 0;\r\n            s = 0;\r\n        } else {\r\n            s = delta / maxC;\r\n            const dR = 60 * (maxC - this._r) / delta + 180;\r\n            const dG = 60 * (maxC - this._g) / delta + 180;\r\n            const dB = 60 * (maxC - this._b) / delta + 180;\r\n            if (this._r == maxC)\r\n                h = dB - dG;\r\n            else if (this._g == maxC)\r\n                h = 120 + dR - dB;\r\n            else\r\n                h = 240 + dG - dR;\r\n        }\r\n\r\n        if (h < 0) h += 360;\r\n        if (h >= 360) h -= 360;\r\n\r\n        this._h = h / 360;\r\n        this._s = s;\r\n        this._v = v;\r\n    }\r\n\r\n    /**\r\n     * Return the hex value of the color.\r\n     * http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\n     *\r\n     * @returns {string}\r\n     */\r\n    toHex() {\r\n        return \"#\" + ((1 << 24) + (Math.round(this._r * 255) << 16) + (Math.round(this._g * 255) << 8) + Math.round(this._b * 255)).toString(16).slice(1);\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    toNumber() {\r\n        return (Math.round(this._r * 255) << 16) + (Math.round(this._g * 255) << 8) + Math.round(this._b * 255);\r\n    }\r\n\r\n    /**\r\n     * Return the CSS RGBA value.\r\n     *\r\n     * @returns {string}\r\n     */\r\n    toCSS() {\r\n        return \"rgba(\" + Math.round(this._r * 255) + \",\" + Math.round(this._g * 255) + \",\" + Math.round(this._b * 255) + \",\" + this._a + \")\";\r\n    }\r\n\r\n    /**\r\n     * Get the color's red value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get r() {\r\n        return this._r;\r\n    }\r\n\r\n    /**\r\n     * Set the color's red value.\r\n     *\r\n     * @param {number} value - The red value to set.\r\n     */\r\n    set r(value) {\r\n        this._r = value;\r\n        this._updateHSV();\r\n    }\r\n\r\n    /**\r\n     * Get the color's green value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get g() {\r\n        return this._g;\r\n    }\r\n\r\n    /**\r\n     * Set the color's green value.\r\n     *\r\n     * @param {number} value - The green value to set.\r\n     */\r\n    set g(value) {\r\n        this._g = value;\r\n        this._updateHSV();\r\n    }\r\n\r\n    /**\r\n     * Get the color's blue value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get b() {\r\n        return this._b;\r\n    }\r\n\r\n    /**\r\n     * Set the color's blue value.\r\n     *\r\n     * @param {number} value - The blue value to set.\r\n     */\r\n    set b(value) {\r\n        this._b = value;\r\n        this._updateHSV();\r\n    }\r\n\r\n    /**\r\n     * Get the color's alpha value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get a() {\r\n        return this._a;\r\n    }\r\n\r\n    /**\r\n     * Set the color's alpha value.\r\n     *\r\n     * @param {number} value - The alpha value to set.\r\n     */\r\n    set a(value) {\r\n        this._a = value;\r\n    }\r\n\r\n    /**\r\n     * Get the color's hue value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get h() {\r\n        return this._h;\r\n    }\r\n\r\n    /**\r\n     * Set the color's hue value.\r\n     *\r\n     * @param {number} value - The hue value to set.\r\n     */\r\n    set h(value) {\r\n        this._h = value;\r\n        this._updateRGB();\r\n    }\r\n\r\n    /**\r\n     * Get the color's saturation value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get s() {\r\n        return this._s;\r\n    }\r\n\r\n    /**\r\n     * Set the color's saturation value.\r\n     *\r\n     * @param {number} value - The saturation to set.\r\n     */\r\n    set s(value) {\r\n        this._s = value;\r\n        this._updateRGB();\r\n    }\r\n\r\n    /**\r\n     * Get the color's brightness value.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get v() {\r\n        return this._v;\r\n    }\r\n\r\n    /**\r\n     * Set the color's brightness value.\r\n     *\r\n     * @param {number} value - The brightness to set.\r\n     */\r\n    set v(value) {\r\n        this._v = value;\r\n        this._updateRGB();\r\n    }\r\n\r\n    /**\r\n     * The luminosity of the color.\r\n     * http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get luminosity() {\r\n        return (0.299 * this._r + 0.587 * this._g + 0.114 * this._b)\r\n    }\r\n}\r\n","/**\r\n * @class\r\n * @memberOf P3.math\r\n */\r\nexport default class Vector2 {\r\n    /**\r\n     * @param {number} [x=0] - The x axis of the vector.\r\n     * @param {number} [y=0] - The y axis of the vector.\r\n     */\r\n    constructor(x = 0, y = 0) {\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this.x = x;\r\n\r\n        /**\r\n         * @member {number}\r\n         */\r\n        this.y = y;\r\n    }\r\n\r\n    /**\r\n     * Returns a new vector equal to the sum of the vector plus the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to add.\r\n     * @returns {Vector2}\r\n     */\r\n    add(v) {\r\n        return new Vector2(this.x + v.x, this.y + v.y);\r\n    }\r\n\r\n    /**\r\n     * Returns a new vector equal to the sum of the vector minus the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to subtract.\r\n     * @returns {Vector2}\r\n     */\r\n    subtract(v) {\r\n        return new Vector2(this.x - v.x, this.y - v.y);\r\n    }\r\n\r\n    /**\r\n     * Returns a new vector equal to the sum of the vector scaled by the given value.\r\n     *\r\n     * @param {number} s - The amount to scale the vector by.\r\n     * @returns {Vector2}\r\n     */\r\n    scale(s) {\r\n        return new Vector2(this.x * s, this.y * s);\r\n    }\r\n\r\n    /**\r\n     * Increments this vector by the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to add.\r\n     * @returns {Vector2}\r\n     */\r\n    incrementBy(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Decrements this vector by the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to subtract.\r\n     * @returns {Vector2}\r\n     */\r\n    decrementBy(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Scale this vector by the given value.\r\n     * @param {number} s - The amount to scale the vector by.\r\n     * @returns {Vector2}\r\n     */\r\n    scaleBy(s) {\r\n        this.x *= s;\r\n        this.y *= s;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Normalize the vector to a length of 1.\r\n     * @returns {Vector2}\r\n     */\r\n    normalize() {\r\n        const l = this.length;\r\n        if (l > 0) {\r\n            this.x /= l;\r\n            this.y /= l;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Crop the vector to the given length.\r\n     *\r\n     * @param {number} length - The length the vector must exceed.\r\n     * @returns {Vector2}\r\n     */\r\n    truncate(length) {\r\n        const l = this.length;\r\n        if (l > length) {\r\n            this.x /= l * length;\r\n            this.y /= l * length;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns the left hand normal of this vector.\r\n     *\r\n     * @returns {Vector2}\r\n     */\r\n    normal() {\r\n        return new Vector2(this.y, -this.x);\r\n    }\r\n\r\n    /**\r\n     * Returns the dot product for this and the given vector.\r\n     *\r\n     * @param {Vector2} v - The other vector in the equation.\r\n     * @returns {number}\r\n     */\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n\r\n    /**\r\n     * Returns the dot product for the left hand normal of this vector and the given vector.\r\n     *\r\n     * @param {Vector2} v - The other vector in the equation.\r\n     * @returns {number}\r\n     */\r\n    perp(v) {\r\n        return -this.y * v.x + this.x * v.y;\r\n    }\r\n\r\n    /**\r\n     * Returns a new vector equal to the projection of this vector along the given axis.\r\n     *\r\n     * @param {Vector2} v - The axis we project this vector along.\r\n     * @returns {Vector2}\r\n     */\r\n    project(v) {\r\n        v = v.clone().normalize();\r\n        return v.scale(this.dot(v));\r\n    }\r\n\r\n    /**\r\n     * Returns the angle between this vector and the given vector.\r\n     *\r\n     * @param {Vector2} v - The other vector in the equation.\r\n     * @returns {number}\r\n     */\r\n    angleBetween(v) {\r\n        return Math.atan2(v.y - this.y, v.x - this.x);\r\n    }\r\n\r\n    /**\r\n     * Rotate the vector.\r\n     *\r\n     * @param {number} angle - The angle in radians to rotate the vector by.\r\n     * @returns {Vector2}\r\n     */\r\n    rotate(angle) {\r\n        const cos = Math.cos(angle);\r\n        const sin = Math.sin(angle);\r\n\r\n        const x = cos * this.x - sin * this.y;\r\n        const y = cos * this.y + sin * this.x;\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Rotate the vector around a point.\r\n     *\r\n     * @param {number} x - The x axis to rotate around.\r\n     * @param {number} y - The y axis to rotate around.\r\n     * @param {number} angle - The angle in radians to rotate the Vector2 by.\r\n     * @returns {Vector2}\r\n     */\r\n    rotateAround(x, y, angle) {\r\n        this.x -= x;\r\n        this.y -= y;\r\n\r\n        this.rotate(angle);\r\n\r\n        this.x += x;\r\n        this.y += y;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Creates a clone of the vector.\r\n     *\r\n     * @returns {Vector2}\r\n     */\r\n    clone() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n\r\n    /**\r\n     * Copies x and y from the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to copy.\r\n     */\r\n    copy(v) {\r\n        this.set(v.x, v.y);\r\n    }\r\n\r\n    /**\r\n     * Returns true if the given vector is equal to the given vector.\r\n     *\r\n     * @param {Vector2} v - The vector to compare with.\r\n     * @returns {boolean}\r\n     */\r\n    equals(v) {\r\n        return (v.x === this.x) && (v.x === this.y);\r\n    }\r\n\r\n    /**\r\n     * Sets the vector to a new x and y axis.\r\n     * If the y is omitted, both x and y will be set to x.\r\n     *\r\n     * @param {number} [x=0]\r\n     * @param {number} [y=0]\r\n     */\r\n    set(x, y) {\r\n        this.x = x || 0;\r\n        this.y = y || ((y !== 0) ? this.x : 0);\r\n    }\r\n\r\n    /**\r\n     * Returns a unit vector.\r\n     *\r\n     * @returns {Vector2}\r\n     */\r\n    unit() {\r\n        const v = this.clone();\r\n        v.normalize();\r\n        return v;\r\n    }\r\n\r\n    /**\r\n     * Return the angle (in radians) of the vector.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get angle() {\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n\r\n    /**\r\n     * Returns the magnitude of the vector.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get length() {\r\n        return Math.sqrt(this.lengthSq);\r\n    }\r\n\r\n    /**\r\n     * Returns the magnitude squared of the vector.\r\n     * This is significantly faster than getting the length.\r\n     *\r\n     * @returns {number}\r\n     */\r\n    get lengthSq() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n}\r\n","/**\r\n * @namespace P3.math\r\n */\r\nexport {default as Color} from \"./Color\";\r\nexport {default as Vector2} from \"./Vector2\";\r\n\r\n/**\r\n * Returns a random number within a range.\r\n *\r\n * @param {number} min - The minimum value (inclusive).\r\n * @param {number} max - The maximum value (exclusive).\r\n * @returns {number}\r\n */\r\nexport function random(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\n/**\r\n * Returns a random integer within a range.\r\n *\r\n * @param {number} min - The minimum value (inclusive).\r\n * @param {number} max - The minimum value (inclusive).\r\n * @returns {number}\r\n */\r\nexport function randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n/**\r\n * Returns a random boolean.\r\n *\r\n * @returns {boolean}\r\n */\r\nexport function randomBool() {\r\n    return Math.random() < 0.5;\r\n}\r\n\r\n/**\r\n * Return -1 or 1.\r\n *\r\n * @returns {number}\r\n */\r\nexport function randomSign() {\r\n    return randomInt(0, 1) * 2 - 1;\r\n}\r\n\r\n/**\r\n * Rounds a value to a number of decimal places.\r\n *\r\n * @param {number} n - The value to round.\r\n * @param {number} [decimalPlaces=0] - The number of decimal places to round this number to.\r\n * @returns {number}\r\n */\r\nexport function roundNum(n, decimalPlaces = 0) {\r\n    const decimals = Math.pow(10, decimalPlaces);\r\n    return Math.round(Math.floor(n * decimals) / decimals);\r\n}\r\n\r\n/**\r\n * Return the sign of the given number.\r\n *\r\n * @param {number} n\r\n */\r\nexport function sign(n) {\r\n    if (Math.abs(n) > 0) {\r\n        return n / Math.abs(n);\r\n    }\r\n    return 0;\r\n}\r\n\r\n/**\r\n * Clamps a value to a range.\r\n *\r\n * @param {number} n\r\n * @param {number} min\r\n * @param {number} max\r\n * @returns {number}\r\n */\r\nexport function clamp(n, min, max) {\r\n    if (n < min) {\r\n        n = min;\r\n    } else if (n > max) {\r\n        n = max;\r\n    }\r\n    return n;\r\n}\r\n\r\n/**\r\n * Linearly interpolate between two values.\r\n *\r\n * @param {number} a\r\n * @param {number} b\r\n * @param {number} t\r\n */\r\nexport function lerp(a, b, t) {\r\n    return a + (b - a) * t;\r\n}\r\n\r\n/**\r\n * https://gist.github.com/wteuber/6241786\r\n *\r\n * @param {number} a\r\n * @param {number} b\r\n * @returns {number}\r\n */\r\nexport function fmod(a, b) {\r\n    return Number((a - (Math.floor(a / b) * b)).toPrecision(8));\r\n}","import Transition from \"./Transition\";\r\n\r\n/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3.transition\r\n */\r\nexport default class FadeTransition extends Transition {\r\n    /**\r\n     * @param {number} [color]\r\n     * @param {number} [duration]\r\n     */\r\n    constructor(color, duration) {\r\n        super();\r\n\r\n        /**\r\n         * @member {number}\r\n         * @private\r\n         */\r\n        this._color = color || 0x0;\r\n\r\n        /**\r\n         * @member {number}\r\n         * @private\r\n         */\r\n        this._duration = duration || 0.8;\r\n\r\n        /**\r\n         * @member {PIXI.Graphics}\r\n         * @private\r\n         */\r\n        this._quad = null;\r\n    }\r\n\r\n    init() {\r\n        super.init();\r\n\r\n        this._quad = new PIXI.Graphics();\r\n        this._quad.visible = false;\r\n        this.addChild(this._quad);\r\n\r\n        this.resize();\r\n    }\r\n\r\n    /**\r\n     * @param {number} [delay=0]\r\n     */\r\n    in(delay = 0) {\r\n        this._quad.alpha = 0;\r\n        this._quad.visible = true;\r\n        TweenMax.to(this._quad, this._duration * 0.5, {\r\n            delay: delay,\r\n            alpha: 1,\r\n            ease: Power2.easeInOut,\r\n            onComplete: function() {\r\n                this.signals.in.dispatch(this);\r\n            },\r\n            onCompleteScope: this\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param {number} [delay=0.5]\r\n     */\r\n    out(delay = 0.5) {\r\n        TweenMax.to(this._quad, this._duration * 0.5, {\r\n            delay: delay,\r\n            alpha: 0,\r\n            ease: Power2.easeInOut,\r\n            onComplete: function() {\r\n                this._quad.visible = false;\r\n                this.signals.out.dispatch(this);\r\n            },\r\n            onCompleteScope: this\r\n        });\r\n    }\r\n\r\n    resize() {\r\n        this._quad.clear();\r\n        this._quad.beginFill(this._color);\r\n        this._quad.drawRect(0, 0, P3.View.width, P3.View.height);\r\n        this._quad.endFill();\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get color() {\r\n        return this._color;\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get duration() {\r\n        return this._duration;\r\n    }\r\n}\r\n","/**\r\n * @class\r\n * @extends PIXI.Container\r\n * @memberOf P3.transition\r\n */\r\nexport default class Transition extends PIXI.Container {\r\n    constructor() {\r\n        super();\r\n\r\n        /**\r\n         * @member {Object}\r\n         */\r\n        this.signals = {};\r\n\r\n        /**\r\n         * @member {signals.Signal}\r\n         */\r\n        this.signals.in = new signals.Signal();\r\n\r\n        /**\r\n         * @member {signals.Signal}\r\n         */\r\n        this.signals.out = new signals.Signal();\r\n\r\n        this.on(\"added\", this.init, this);\r\n    }\r\n\r\n    init() {\r\n        this.off(\"added\", this.init);\r\n\r\n        this.interactive = true;\r\n    }\r\n\r\n    /**\r\n     * @param options\r\n     * @param [options.children=false]\r\n     * @param [options.texture=false]\r\n     * @param [options.baseTexture=false]\r\n     */\r\n    destroy(options) {\r\n        this.signals.in.dispose();\r\n        this.signals.out.dispose();\r\n\r\n        super.destroy(options);\r\n    }\r\n\r\n    /**\r\n     */\r\n    in() {\r\n        this.signals.in.dispatch(this);\r\n    }\r\n\r\n    /**\r\n     */\r\n    out() {\r\n        this.signals.out.dispatch(this);\r\n    }\r\n\r\n    /**\r\n     */\r\n    resize() {\r\n        // override\r\n    }\r\n}\r\n","/**\r\n * @class\r\n * @memberOf P3.utils\r\n */\r\nexport default class ObjectPool {\r\n    /**\r\n     * @param {*} t\r\n     * @param {number} size\r\n     * @param {Array} args\r\n     */\r\n    constructor(t, size, args) {\r\n        /**\r\n         * @member {*}\r\n         * @protected\r\n         */\r\n        this._t = t;\r\n\r\n        /**\r\n         * @type {Array}\r\n         * @private\r\n         */\r\n        this._args = args || [];\r\n\r\n        /**\r\n         * @member {Array.<*>}\r\n         * @protected\r\n         */\r\n        this._free = [];\r\n\r\n        /**\r\n         * @member {Array.<*>}\r\n         * @protected\r\n         */\r\n        this._used = [];\r\n\r\n        this.expand(Math.max(1, size));\r\n    }\r\n\r\n    /**\r\n     */\r\n    destroy() {\r\n        for (let i = 0; i < this._free.length; ++ i) {\r\n            const object = this._free[i];\r\n            (object && object.destroy) && object.destroy();\r\n        }\r\n        this._free.length = 0;\r\n\r\n        for (let i = 0; i < this._used.length; ++ i) {\r\n            const object = this._used[i];\r\n            (object && object.destroy) && object.destroy();\r\n        }\r\n        this._used.length = 0;\r\n    }\r\n\r\n    /**\r\n     * @param {number} size\r\n     */\r\n    expand(size) {\r\n        for (let i = 0; i < size; ++ i) {\r\n            const object = Object.create(this._t.prototype);\r\n            object.constructor = this._t;\r\n            this._t.apply(object, this._args);\r\n            this._free.push(object);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns {*}\r\n     */\r\n    create() {\r\n        const object = this._free.shift();\r\n        if (!object) return null;\r\n\r\n        object.init && object.init();\r\n        this._used.push(object);\r\n        return object;\r\n    }\r\n\r\n    /**\r\n     * @param {*} obj\r\n     * @returns {boolean}\r\n     */\r\n    free(obj) {\r\n        const index = this._used.indexOf(obj);\r\n        if (index !== -1) {\r\n            obj.reset && obj.reset();\r\n            this._free.push(obj);\r\n            this._used.splice(index, 1);\r\n        }\r\n        return index !== -1;\r\n    }\r\n\r\n    /**\r\n     * @returns {*}\r\n     */\r\n    get baseClass() {\r\n        return this._t;\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get size() {\r\n        return this._free.length + this._used.length;\r\n    }\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    get available() {\r\n        return this._free.length;\r\n    }\r\n}","/**\r\n * @namespace P3.utils\r\n */\r\nexport {default as ObjectPool} from \"./ObjectPool\";\r\n\r\n/**\r\n * Creates an identical copy of an object.\r\n * http://speakingjs.com/es5/ch17.html#code_copyOwnPropertiesFrom\r\n *\r\n * @param {Object} original\r\n * @param {boolean} [deep=true]\r\n * @returns {Object}\r\n */\r\nexport function copyObject(original, deep = true) {\r\n    const copy = Object.create(Object.getPrototypeOf(original));\r\n    copyOwnPropertiesFrom(copy, original, deep);\r\n    return copy;\r\n}\r\n\r\n/**\r\n * Copies all of an object's properties to the target object.\r\n * http://speakingjs.com/es5/ch17.html#code_copyOwnPropertiesFrom\r\n *\r\n * @param {Object} target\r\n * @param {Object} source\r\n * @param {boolean} [deep=true]\r\n * @returns {Object}\r\n */\r\nexport function copyOwnPropertiesFrom(target, source, deep = true) {\r\n    Object.getOwnPropertyNames(source)\r\n        .forEach(function(key) {\r\n            const descriptor = Object.getOwnPropertyDescriptor(source, key);\r\n            Object.defineProperty(target, key, descriptor);\r\n            if (deep && typeof descriptor.value === \"object\" && descriptor.value !== null) {\r\n                target[key] = P3.utils.copyObject(source[key], deep);\r\n            }\r\n        });\r\n    return target;\r\n}\r\n\r\n/**\r\n * Returns a value converted to a zero padded string.\r\n *\r\n * @param {number} n - The value to pad.\r\n * @param {number} [width=0] - The number of zeros to pad the string with.\r\n * @returns {string}\r\n */\r\nexport function padNum(n, width=0) {\r\n    const num = Math.abs(n);\r\n    const zeros = Math.max(0, width - Math.floor(num).toString().length);\r\n    let zeroStr = Math.pow(10, zeros).toString().substr(1);\r\n    if (num < 0) {\r\n        zeroStr = \"-\" + zeroStr;\r\n    }\r\n    return zeroStr + num;\r\n}\r\n\r\n/**\r\n * @param {Array} arr\r\n * @returns {*}\r\n */\r\nexport function selectRandom(arr) {\r\n    return arr[Math.floor(Math.random() * arr.length)];\r\n}\r\n\r\n/**\r\n * @returns {boolean}\r\n */\r\nexport function isCocoonJS() {\r\n    return (typeof navigator[\"isCocoonJS\"] !== \"undefined\");\r\n}"],"sourceRoot":"./"}