!function t(e,n,i){function s(r,a){if(!n[r]){if(!e[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[r]={exports:{}};e[r][0].call(h.exports,function(t){var n=e[r][1][t];return s(n?n:t)},h,h.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(t,e,n){!function(t){var n=/iPhone/i,i=/iPod/i,s=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,r=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,u=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,c=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),y=function(t,e){return t.test(e)},g=function(t){var e=t||navigator.userAgent,g=e.split("[FBAN");if("undefined"!=typeof g[1]&&(e=g[0]),g=e.split("Twitter"),"undefined"!=typeof g[1]&&(e=g[0]),this.apple={phone:y(n,e),ipod:y(i,e),tablet:!y(n,e)&&y(s,e),device:y(n,e)||y(i,e)||y(s,e)},this.amazon={phone:y(a,e),tablet:!y(a,e)&&y(u,e),device:y(a,e)||y(u,e)},this.android={phone:y(a,e)||y(o,e),tablet:!y(a,e)&&!y(o,e)&&(y(u,e)||y(r,e)),device:y(a,e)||y(u,e)||y(o,e)||y(r,e)},this.windows={phone:y(l,e),tablet:y(h,e),device:y(l,e)||y(h,e)},this.other={blackberry:y(c,e),blackberry10:y(f,e),opera:y(d,e),firefox:y(p,e),chrome:y(_,e),device:y(c,e)||y(f,e)||y(d,e)||y(p,e)||y(_,e)},this.seven_inch=y(v,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},w=function(){var t=new g;return t.Class=g,t};"undefined"!=typeof e&&e.exports&&"undefined"==typeof window?e.exports=g:"undefined"!=typeof e&&e.exports&&"undefined"!=typeof window?e.exports=w():"function"==typeof define&&define.amd?define("isMobile",[],t.isMobile=w()):t.isMobile=w()}(this)},{}],2:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){i(this,t),this._id=e,this._howl=n}return s(t,[{key:"destroy",value:function(){this._onend&&this.howl.off("end",this._onend),this.stop()}},{key:"play",value:function(){this.howl.play(this.id)}},{key:"stop",value:function(){this.howl.stop(this.id)}},{key:"pause",value:function(){this.howl.pause(this.id)}},{key:"id",get:function(){return this._id}},{key:"howl",get:function(){return this._howl}}]),t}();n["default"]=o},{}],3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=t("./Audio"),a=i(r),u=function(){function t(){s(this,t),this._cache={},this._music=null,this._isMute=!1;var e=void 0;"undefined"!=typeof document.hidden?(e="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",this.visibilityChange="webkitvisibilitychange"),document.addEventListener(this.visibilityChange,function(){document[e]?Howler.volume(0):Howler.volume(1)},!1)}return o(t,[{key:"addSounds",value:function(t,e,n){n=n||"";for(var i=0;i<t.length;++i){var s=n+t[i];s=s.split("/");for(var o=s[s.length-1],r=[],a=0;a<e.length;++a){var u=e[a];r.push(s.join("/")+u)}var l=new Howl({src:r,volume:1,loop:!1,autoplay:!1});l.name=o,this._cache[o]=l}}},{key:"addSoundSprite",value:function(t,e,n,i){i=i||"";var s=i+t;s=s.split("/");for(var o=[],r=0;r<n.length;++r){var a=n[r];o.push(s.join("/")+a)}var u=new Howl({src:o,sprite:e,volume:1,loop:!1,autoplay:!1});u.isSoundSprite=!0;for(var l in e)e.hasOwnProperty(l)&&(this._cache[l]=u)}},{key:"playSound",value:function(t,e){e=Object.assign({},{volume:1,loop:!1,destroyOnComplete:!1},e),"string"!=typeof t&&(t=P3.utils.selectRandom(t));var n=-1,i=this._cache[t];if(!i)return console.warn("Could not find sound - "+t),n;n=i.isSoundSprite?i.play(t):i.play(),i.volume(e.volume||1,n),i.loop(e.loop||!1,n);var s=new a["default"](n,i);return e.callback&&(s._onend=function(){e.callback.call(e.scope||window),e.destroyOnComplete&&s.destroy()},i.on("end",s._onend)),s}},{key:"playMusic",value:function(t,e){e=Object.assign({},{volume:1,delay:0,fadeIn:0},e),"string"!=typeof t&&(t=P3.utils.selectRandom(t));var n=-1;if(this._music&&this._music.howl.name===t)return this._music;var i=this._cache[t];if(!i)return console.warn("Could not find music - "+t),null;n=i.play(),i.volume(e.volume||1,n),i.loop(!0,n);var s=new a["default"](n,i);return e.callback&&(s._onend=function(){e.callback.call(e.scope)},i.on("end",s._onend)),(e.fadeIn||0)>0?(this._music&&this.fadeOut(this._music,e.fadeIn,function(t){t.destroy()},this),this.fadeIn(s,e.fadeIn)):this._music&&this._music.destroy(),this._music=s,s}},{key:"stopMusic",value:function(){this._music&&(this._music.destroy(),this._music=null)}},{key:"mute",value:function(t){this._isMute=t,this._isMute?Howler.mute(!0):Howler.mute(!1)}},{key:"fadeIn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],i=arguments[3],s=t.howl.volume(t.id);t.howl.volume(0,t.id),t.__volume=0,TweenMax.killTweensOf(t),TweenMax.to(t,e,{__volume:s,ease:Power1.easeInOut,onUpdate:function(){t.howl.volume(t.__volume,t.id)},onUpdateScope:this,onComplete:n,onCompleteParams:[t],onCompleteScope:i})}},{key:"fadeOut",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],i=arguments[3];t.__volume=t.howl.volume(t.id),TweenMax.killTweensOf(t),TweenMax.to(t,e,{__volume:0,ease:Power1.easeInOut,onUpdate:function(){t.howl.volume(t.__volume,t.id)},onUpdateScope:this,onComplete:n,onCompleteParams:[t],onCompleteScope:i})}},{key:"music",get:function(){return this._music}},{key:"isMute",get:function(){return this._isMute}}]),t}();n["default"]=u},{"./Audio":2}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Audio");Object.defineProperty(n,"Audio",{enumerable:!0,get:function(){return i(s)["default"]}});var o=t("./AudioManager");Object.defineProperty(n,"AudioManager",{enumerable:!0,get:function(){return i(o)["default"]}})},{"./Audio":2,"./AudioManager":3}],5:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(this,t),this.signals={trackStart:new signals.Signal,trackStop:new signals.Signal},this.view=e||new PIXI.Point,this.bounds=new PIXI.Rectangle((-(.5*Number.MAX_SAFE_INTEGER)),(-(.5*Number.MAX_SAFE_INTEGER)),Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.offset=new PIXI.Point,this.snapToPixel=n,this._position=new PIXI.Point,this._target=null,this._layers=[],this._ease=new PIXI.Point(.2,.2),this._parallax=new PIXI.Point(1,1),this._tracking=!1}return s(t,[{key:"destroy",value:function(){this.signals.trackStart.dispose(),this.signals.trackStop.dispose(),this.removeAllLayers()}},{key:"update",value:function(t){var e=this._target?new PIXI.Point(this._target.x+this.offset.x,this._target.y+this.offset.y):new PIXI.Point;this._clampToBounds(e),this._shakeTime>0&&(e.x+=this._shakeStrength*P3.math.randomInt(-1,1)*(this._shakeTime/this._shakeDuration),e.y+=this._shakeStrength*P3.math.randomInt(-1,1)*(this._shakeTime/this._shakeDuration),this._shakeTime=Math.max(0,this._shakeTime-t));var n=e.x-this._position.x*this._parallax.x,i=e.y-this._position.y*this._parallax.y;this._position.x+=n*(this._ease.x*(1/this._parallax.x)),this._position.y+=i*(this._ease.y*(1/this._parallax.y)),Math.abs(n)<.01&&(this._position.x=e.x),Math.abs(i)<.01&&(this._position.y=e.y),this.snapToPixel&&(this._position.x=Math.round(this._position.x),this._position.y=Math.round(this._position.y));var s=n*n+i*i;s<.1&&!this._tracking?(this._tracking=!0,this.signals.trackStop.dispatch(this)):s>.1&&this._tracking&&(this._tracking=!1,this.signals.trackStart.dispatch(this)),this.updateLayers()}},{key:"updateLayers",value:function(){for(var t=0;t<this._layers.length;++t){var e=this._layers[t];e.view.x=this._position.x*-e.parallax.x+this.view.x-this.view.x*(1-e.parallax.x),e.view.y=this._position.y*-e.parallax.y+this.view.y-this.view.y*(1-e.parallax.y)}}},{key:"addLayer",value:function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;++n)this._layers.push(arguments[n]);else this._layers.push(t);return this.updateLayers(),t}},{key:"removeLayer",value:function(t){var e=arguments.length;if(e>1)for(var n=e-1;n>=0;--n)this.removeLayer(arguments[n]);else{var i=this._layers.indexOf(t);if(i===-1)throw new Error("Layer does not exit!");this._layers.splice(i,1)}return t}},{key:"removeAllLayers",value:function(){this._layers=[]}},{key:"setTarget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._target=t;var n=this.findLayer(this._target,!0);if(this._parallax.x=n?n.parallax.x:1,this._parallax.y=n?n.parallax.y:1,e){var i=this._target?new PIXI.Point(this._target.x+this.offset.x,this._target.y+this.offset.y):this._position.clone();this._clampToBounds(i),this._position.x=i.x,this._position.y=i.y,this.updateLayers()}}},{key:"shake",value:function(t,e){this._shakeTime=this._shakeDuration=t,this._shakeStrength=e}},{key:"findLayer",value:function(t){function e(t,n){for(var i=0;i<t.children.length;++i){var s=t.children[i];if(s===t)return!0;n&&e.call(this,s,n)}return!1}for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null,s=0;s<this._layers.length;++s){var o=this._layers[s];(o.view===t||e.call(this,o.view,n))&&(i=o)}return i}},{key:"_clampToBounds",value:function(t){t.x<this.bounds.x?t.x=this.bounds.x:t.x>this.bounds.width&&(t.x=this.bounds.width),t.y<this.bounds.y?t.y=this.bounds.y:t.y>this.bounds.height&&(t.y=this.bounds.height)}},{key:"position",get:function(){return this._position}},{key:"target",get:function(){return this._target}},{key:"ease",get:function(){return this._ease},set:function(t){this._ease=t}},{key:"layers",get:function(){return this._layers.slice(0)}}]),t}();n["default"]=o},{}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n){i(this,t),this._view=e,this._parallax=n||new PIXI.Point}return s(t,[{key:"view",get:function(){return this._view}},{key:"parallax",get:function(){return this._parallax}}]),t}();n["default"]=o},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Camera");Object.defineProperty(n,"Camera",{enumerable:!0,get:function(){return i(s)["default"]}});var o=t("./CameraLayer");Object.defineProperty(n,"CameraLayer",{enumerable:!0,get:function(){return i(o)["default"]}})},{"./Camera":5,"./CameraLayer":6}],8:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t),this.signals={},this.signals.progress=new signals.Signal,this.signals.complete=new signals.Signal,this.signals.error=new signals.Signal,this._loader=new PIXI.loaders.Loader,this._loader.on("progress",this._onLoaderProgress,this),this._loader.on("complete",this._onLoaderComplete,this),this._loader.on("error",this._onLoaderError,this),this._manifest=[],this._resources={};var e=new PIXI.Graphics;e.beginFill(0,.5),e.drawRect(0,0,100,100),e.endFill(),e.lineStyle(2,16711680,1),e.moveTo(0,0),e.lineTo(100,100),e.moveTo(100,0),e.lineTo(0,100);try{this._fallbackTexture=e.generateTexture()}catch(n){this._fallbackTexture=PIXI.Texture.EMPTY}}return s(t,[{key:"addFiles",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&e.length>0)for(var n=0;n<t.length;++n){var i=t[n].url;t[n].url=e+i}return this._manifest=this._manifest.concat(t),this._manifest}},{key:"load",value:function(){if(this._manifest.length)return this._loader.add(this._manifest),this._loader.load(),this._manifest}},{key:"unloadTexture",value:function(t,e){e="."+(e||"png");var n=this._resources[t],i=n.url.split("."),s=PIXI.utils.TextureCache[i[0]+e];s.destroy(!0)}},{key:"texture",value:function e(t,n){n="."+(n||"png");var e=void 0;try{e=PIXI.Texture.fromFrame(t+n)}catch(i){this._resources[t]?e=this._resources[t].texture:(console.warn("texture not found : "+t),e=this._fallbackTexture)}return e}},{key:"json",value:function(t){var e=P3.utils.copyObject(this._resources[t].data);if(!e)throw new Error("json not found: "+t);return e}},{key:"spineData",value:function(t){var e=this._resources[t];if(!e||e&&!e.spineData)throw new Error("spine data not found: "+t);return e.spineData}},{key:"_onLoaderProgress",value:function(t,e){this.signals.progress.dispatch(t,e,t.progress)}},{key:"_onLoaderComplete",value:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(this._resources[n]=e[n]);this._manifest.length=0,this._loader.reset(),this.signals.complete.dispatch(t,e)}},{key:"_onLoaderError",value:function(t,e,n){this.signals.error.dispatch(t,e,n)}},{key:"manifest",get:function(){return this._manifest.slice()}}]),t}();n["default"]=o},{}],9:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function _(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:_(s,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=t("./ButtonStates"),h=i(l),c=t("ismobilejs"),f=i(c),d=function(t){function e(t){s(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.signals={down:new signals.Signal,up:new signals.Signal,over:new signals.Signal,out:new signals.Signal,click:new signals.Signal,animate:new signals.Signal,focus:new signals.Signal,unfocus:new signals.Signal},n.animate=!0,n.animateIcon=!0,n.defaultScale=new PIXI.Point(1,1),n.animateOverScale=new PIXI.Point(1.1,1.1),n.animateDownScale=new PIXI.Point(.9,.9),n.upSoundName=null,n.overSoundName=null,n.downSoundName=null,n.clickSoundName=null,n._states=t,n._background=new PIXI.Sprite(n._states.normal),n._background.anchor=new PIXI.Point(.5,.5),n.addChild(n._background),n._icon=new PIXI.Sprite(n._states.icon||PIXI.Texture.EMPTY),n._icon.anchor=new PIXI.Point(.5,.5),n.addChild(n._icon),n._focus=new PIXI.Sprite(n._states.focus||PIXI.Texture.EMPTY),n._focus.anchor=new PIXI.Point(.5,.5),n._focus.visible=!1,n.addChild(n._focus),n._shortcutIcon=new PIXI.Sprite(PIXI.Texture.EMPTY),n._shortcutIcon.anchor=new PIXI.Point(.5,.5),n._shortcutIcon.visible=!f["default"].any,n._background.addChild(n._shortcutIcon),n._currentNormalTexture=n._states.normal,n._currentOverTexture=n._states.over,n._currentDownTexture=n._states.down,n._currentIconTexture=n._states.icon,n._currentIconOverTexture=n._states.iconOver,n._currentIconDownTexture=n._states.iconDown,n._tweenOver=null,n._tweenOut=null,n._tweenDown=null,n._enabled=!0,n._focused=!1,n.interactive=!0,n.buttonMode=!0,n.mousedown=n.touchstart=n._onMouseDown.bind(n),n.mouseup=n.touchend=n._onMouseUp.bind(n),n.mouseupoutside=n.touchendoutside=n._onMouseOut.bind(n),n.click=n.tap=n._onMouseClick.bind(n),n.mouseover=n._onMouseOver.bind(n),n.mouseout=n._onMouseOut.bind(n),n}return r(e,t),a(e,[{key:"destroy",value:function(){TweenMax.killTweensOf(this),TweenMax.killTweensOf(this.scale),this.signals.up.dispose(),this.signals.down.dispose(),this.signals.over.dispose(),this.signals.out.dispose(),this.signals.click.dispose(),this.signals.animate.dispose(),this.signals.focus.dispose(),this.signals.unfocus.dispose(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this,{children:!0})}},{key:"focus",value:function(){this._focused=!0,this._focus.visible=!0,this.signals.focus.dispatch(this)}},{key:"unfocus",value:function(){this._focused=!1,this._focus.visible=!1,this.signals.unfocus.dispatch(this)}},{key:"setShortcutIcon",value:function(t,e){this._shortcutIcon.texture=t,this._shortcutIcon.position.set(e.x,e.y)}},{key:"_onMouseDown",value:function(t){if(this._states.down&&(this._background.texture=this._currentDownTexture),this._states.iconDown&&(this._icon.texture=this._currentIconDownTexture),this.animate){var n=TweenMax.getTweensOf(this,!0),i=n.indexOf(this._tweenOver)>-1?n.length-1:n.length;i||(this._tweenOver&&(this._tweenOver.kill(),this._tweenOver=null),this._tweenDown=this.animateDown())}e.audio&&this.downSoundName&&e.audio.playSound(this.downSoundName),this._enabled&&this.signals.down.dispatch(this,t)}},{key:"_onMouseUp",value:function(t){this._background.texture=this._states.over&&!f["default"].any?this._currentOverTexture:this._currentNormalTexture,this._states.iconOver&&!f["default"].any?this._icon.texture=this._currentIconOverTexture:this._states.icon&&(this._icon.texture=this._currentIconTexture),this.animate&&this._tweenDown&&(this._tweenDown&&(this._tweenDown.kill(),this._tweenDown=null),this._tweenOver=f["default"].any?this.animateOut():this.animateOver()),e.audio&&this.upSoundName&&e.audio.playSound(this.upSoundName),this._enabled&&this.signals.up.dispatch(this,t)}},{key:"_onMouseOver",value:function(t){if(this._states.over&&(this._background.texture=this._currentOverTexture),this._states.iconOver&&(this._icon.texture=this._currentIconOverTexture),this.animate&&!f["default"].any){var n=TweenMax.getTweensOf(this,!0);n.indexOf(this._tweenOver)===-1&&(this._tweenOut&&(this._tweenOut.kill(),this._tweenOut=null),this._tweenOver=this.animateOver())}this.animateIcon&&!f["default"].any&&(TweenMax.killTweensOf(this._icon.scale),TweenMax.to(this._icon.scale,.8,{x:1.2,y:1.2,ease:Elastic.easeOut,easeParams:[1.6]})),e.audio&&this.overSoundName&&e.audio.playSound(this.overSoundName),this._enabled&&this.signals.over.dispatch(this,t)}},{key:"_onMouseOut",value:function(t){if(this._background.texture=this._currentNormalTexture,this._states.icon&&(this._icon.texture=this._currentIconTexture),this._tweenOver||this._tweenDown){var n=TweenMax.getTweensOf(this,!0);n.indexOf(this._tweenOut)===-1&&(this._tweenOver&&(this._tweenOver.kill(),this._tweenOver=null),this._tweenOut=this.animateOut()),n.indexOf(this._tweenDown)===-1&&(this._tweenDown&&(this._tweenDown.kill(),this._tweenDown=null),this._tweenOut=this.animateOut())}TweenMax.killTweensOf(this._icon.scale),TweenMax.to(this._icon.scale,.34,{x:1,y:1,ease:Power1.easeInOut}),e.audio&&this.upSoundName&&e.audio.playSound(this.upSoundName),this._enabled&&this.signals.out.dispatch(this,t)}},{key:"_onMouseClick",value:function(t){e.audio&&this.clickSoundName&&e.audio.playSound(this.clickSoundName),this._enabled&&this.signals.click.dispatch(this,t)}},{key:"animateOver",value:function(){return TweenMax.to(this.scale,.6,{x:this.defaultScale.x*this.animateOverScale.x,y:this.defaultScale.y*this.animateOverScale.y,ease:Elastic.easeOut,easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"over")},onCompleteScope:this})}},{key:"animateOut",value:function(){return TweenMax.to(this.scale,.3,{x:this.defaultScale.x,y:this.defaultScale.y,ease:Back.easeInOut,easeParams:[2],onComplete:function(){this.signals.animate.dispatch(this,"out")},onCompleteScope:this})}},{key:"animateDown",value:function(){return TweenMax.to(this.scale,.14,{x:this.defaultScale.x*this.animateDownScale.x,y:this.defaultScale.y*this.animateDownScale.y,ease:Back.easeOut,easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"down")},onCompleteScope:this})}},{key:"stopAnimations",value:function(){var t=TweenMax.getTweensOf(this,!0);t.indexOf(this._tweenOver)===-1&&(this._tweenOut&&(this._tweenOut.kill(),this._tweenOut=null),this._tweenOver=this.animateOver()),t.indexOf(this._tweenOut)===-1&&this._tweenOver&&(this._tweenOver.kill(),this._tweenOver=null),t.indexOf(this._tweenDown)===-1&&this._tweenDown&&(this._tweenDown.kill(),this._tweenDown=null)}},{key:"setStates",value:function(t){this._states=t,this._background.texture=this._states.normal,this._icon.texture=this._states.icon,this._currentNormalTexture=this._states.normal,this._currentOverTexture=this._states.over,this._currentDownTexture=this._states.down,this._currentIconTexture=this._states.icon,this._currentIconOverTexture=this._states.iconOver,this._currentIconDownTexture=this._states.iconDown}},{key:"states",get:function(){return this._states}},{key:"currentNormalTexture",get:function(){return this._currentNormalTexture}},{key:"currentOverTexture",get:function(){return this._currentOverTexture}},{key:"currentDownTexture",get:function(){return this._currentDownTexture}},{key:"currentIconTexture",get:function(){return this._currentIconTexture}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._currentNormalTexture=t||!this._states.normalInactive?this._states.normal:this._states.normalInactive,this._currentOverTexture=t||!this._states.overInactive?this._states.over:this._states.overInactive,this._currentDownTexture=t||!this._states.downInactive?this._states.down:this._states.downInactive,this._currentIconTexture=t||!this._states.iconInactive?this._states.icon:this._states.iconInactive,this._currentIconOverTexture=t||!this._states.iconOverInactive?this._states.iconOver:this._states.iconOverInactive,this._currentIconDownTexture=t||!this._states.iconDownInactive?this._states.iconDown:this._states.iconDownInactive,this._currentNormalTexture&&(this._background.texture=this._currentNormalTexture),this._currentIconTexture&&(this._icon.texture=this._currentIconTexture)}},{key:"focused",get:function(){return this._focused}},{key:"tint",get:function(){return this._background.tint},set:function(t){this._background.tint=t,this._icon.tint=t}}],[{key:"create",value:function(t,n,i,s){var o=new h["default"](t,n,i,s);return new e(o)}}]),e}(PIXI.Container);n["default"]=d},{"./ButtonStates":11,ismobilejs:1}],10:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){i(this,t),this._input=e,this._buttons=[],this._currentFocus=null}return s(t,[{key:"add",value:function(t){this._buttons.indexOf(t)===-1&&this._buttons.push(t)}},{key:"remove",value:function(t){var e=this._buttons.indexOf(t);this._buttons.splice(e,1)}},{key:"update",value:function(){this._input.isKeyPressed(37)&&this._selectLeft(),this._input.isKeyPressed(39)&&this._selectRight(),this._input.isKeyPressed(38)&&this._selectUp(),this._input.isKeyPressed(40)&&this._selectDown()}},{key:"focus",value:function(t){for(var e=0;e<this._buttons.length;++e){var n=this._buttons[e];n.tint=16777215}t.tint=16711680,this._currentFocus=t}},{key:"_selectLeft",value:function(){console.log("left")}},{key:"_selectRight",value:function(){console.log("right")}},{key:"_selectUp",value:function(){console.log("up")}},{key:"_selectDown",value:function(){console.log("down")}}]),t}();n["default"]=o},{}],11:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n,s,o){i(this,t),this.normal=e,this.over=n||null,this.down=s||null,this.focus=null,this.icon=o||null,this.iconOver=null,this.iconDown=null,this.normalAlt=null,this.overAlt=null,this.downAlt=null,this.iconAlt=null,this.iconOverAlt=null,this.iconDownAlt=null,this.normalInactive=null,this.overInactive=null,this.downInactive=null,this.iconInactive=null,this.iconOverInactive=null,this.iconDownInactive=null,this.normalInactiveAlt=null,this.overInactiveAlt=null,this.downInactiveAlt=null,this.iconInactiveAlt=null}return s(t,[{key:"clone",value:function(){var e=new t(this.normal);return e.over=this.over,e.down=this.down,e.over=this.over,e.focus=this.focus,e.icon=this.icon,e.iconOver=this.iconOver,e.iconDown=this.iconDown,e.normalAlt=this.normalAlt,e.downAlt=this.downAlt,e.overAlt=this.overAlt,e.iconAlt=this.iconAlt,e.iconOverAlt=this.iconOverAlt,e.iconDownAlt=this.iconDownAlt,e.normalInactive=this.normalInactive,e.downInactive=this.downInactive,e.overInactive=this.overInactive,e.iconInactive=this.iconInactive,e.iconDownInactive=this.iconDownInactive,e.iconOverInactive=this.iconOverInactive,e.normalInactiveAlt=this.normalInactiveAlt,e.downInactiveAlt=this.downInactiveAlt,e.overInactiveAlt=this.overInactiveAlt,e.iconInactiveAlt=this.iconInactiveAlt,e}}]),t}();n["default"]=o},{}],12:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=t("../math/Vector2"),a=i(r),u=t("ismobilejs"),l=i(u),h=function(){function t(){s(this,t),this.signals={mouseMove:new signals.Signal,mouseDown:new signals.Signal,mouseUp:new signals.Signal,mouseClick:new signals.Signal,keyDown:new signals.Signal,keyUp:new signals.Signal,swipeLeft:new signals.Signal,swipeRight:new signals.Signal,swipeUp:new signals.Signal,swipeDown:new signals.Signal,orientation:new signals.Signal},this._stage=null,this._keyMap={},this._keyBuffer={},this._touch=null,this._swipeStart=null,this._swipeTime=0,this._orientation={gamma:0,beta:0,alpha:0}}return o(t,[{key:"init",value:function(t,e){this._stage=t,this._stage.interactive=!0,this._stage.mousemove=this._stage.touchmove=this._onMouseMove.bind(this),this._stage.mousedown=this._stage.touchstart=this._onMouseDown.bind(this),this._stage.mouseup=this._stage.touchend=this._onMouseUp.bind(this),this._stage.click=this._stage.tap=this._onMouseClick.bind(this),e.onkeydown=this._onKeyDown.bind(this),e.onkeyup=this._onKeyUp.bind(this),e.focus(),document.onclick=function(){e.focus()},l["default"].any&&window.addEventListener("deviceorientation",this._onDeviceOrientation.bind(this))}},{key:"destroy",value:function(){this._stage.mousemove=this._stage.touchmove=null,this._stage.mousedown=this._stage.touchstart=null,this._stage.mouseup=this._stage.touchend=null,this._stage.click=this._stage.tap=null,l["default"].any&&window.removeEventListener("deviceorientation",this._onDeviceOrientation),this.signals.mouseMove.dispose(),this.signals.mouseDown.dispose(),this.signals.mouseUp.dispose(),this.signals.mouseClick.dispose(),this.signals.keyDown.dispose(),this.signals.keyUp.dispose(),this.signals.swipeLeft.dispose(),this.signals.swipeRight.dispose(),this.signals.swipeUp.dispose(),this.signals.swipeDown.dispose(),this.signals.orientation.dispose()}},{key:"update",value:function(){for(var t in this._keyBuffer)this._keyBuffer.hasOwnProperty(t)&&(this._keyBuffer[t]=!1)}},{key:"isKeyDown",value:function(t){return this._keyMap[t]===!0}},{key:"isKeyPressed",value:function(t){return this._keyBuffer[t]===!0}},{key:"_onMouseMove",value:function(t){this._touch&&(this._touch=t.data.getLocalPosition(this._stage)),this.signals.mouseMove.dispatch(t)}},{key:"_onMouseDown",value:function(t){this._touch=t.data.getLocalPosition(this._stage),l["default"].any&&(this._swipeStart=this._touch.clone(),this._swipeTime=window.performance.now()),this.signals.mouseDown.dispatch(t)}},{key:"_onMouseUp",value:function(t){if(l["default"].any){var e=new a["default"](this._touch.x-this._swipeStart.x,this._touch.y-this._swipeStart.y),n=e.lengthSq,i=16;if(e.normalize(),window.performance.now()-this._swipeTime<800&&n>i){var s=e.dot(new a["default"]((-1),0));s>.9&&this.signals.swipeLeft.dispatch();var o=e.dot(new a["default"](1,0));o>.9&&this.signals.swipeRight.dispatch();var r=e.dot(new a["default"](0,(-1)));r>.9&&this.signals.swipeUp.dispatch();var u=e.dot(new a["default"](0,1));u>.9&&this.signals.swipeDown.dispatch()}}this._touch=null,this.signals.mouseUp.dispatch(t)}},{key:"_onMouseClick",value:function(t){this.signals.mouseClick.dispatch(t)}},{key:"_onKeyDown",value:function(e){e.keyCode!==t.keys.LEFT&&e.keyCode!==t.keys.RIGHT&&e.keyCode!==t.keys.UP&&e.keyCode!==t.keys.DOWN&&e.keyCode!==t.keys.SPACE||e.preventDefault(),!this.isKeyDown(e.keyCode)&&(this._keyBuffer[e.keyCode]=!0),this._keyMap[e.keyCode]=!0,this.signals.keyDown.dispatch(e)}},{key:"_onKeyUp",value:function(e){e.keyCode!==t.keys.LEFT&&e.keyCode!==t.keys.RIGHT&&e.keyCode!==t.keys.UP&&e.keyCode!==t.keys.DOWN&&e.keyCode!==t.keys.SPACE||e.preventDefault(),this._keyMap[e.keyCode]=!1,this.signals.keyUp.dispatch(e)}},{key:"_onDeviceOrientation",value:function(t){this.signals.orientation.dispatch(t);
}},{key:"touch",get:function(){return this._touch}},{key:"orientation",get:function(){return this._orientation}}]),t}();n["default"]=h,h.keys={},h.keys.W=87,h.keys.A=65,h.keys.S=83,h.keys.D=68,h.keys.Z=90,h.keys.X=88,h.keys.C=67,h.keys.LEFT=37,h.keys.RIGHT=39,h.keys.UP=38,h.keys.DOWN=40,h.keys.SPACE=32,h.keys.ENTER=13},{"../math/Vector2":23,ismobilejs:1}],13:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:c(s,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=t("./MovieClipSequence"),h=(i(l),function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s(this,e);var r=t.textures[n]?t.textures[n][0]:PIXI.Texture.EMPTY;if(!r)throw new Error("No default texture found!");var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));a.animationSpeed=24,a.looping=!1,a.signals={animation:new signals.Signal,animationComplete:new signals.Signal},a._frames={},a._playing=!1,a._defaultAnimation=n,a._currentFrame=0,a._lastFrame=0,a._currentAnimationName=a._defaultAnimation,a._autoUpdate=!1;for(var u in t.textures)if(t.textures.hasOwnProperty(u)){a._frames[u]=[];for(var l=0;l<t.textures[u].length;++l)a._frames[u].push({texture:t.textures[u][l],callback:null,scope:null})}return a.autoUpdate=i,a}return r(e,t),a(e,[{key:"destroy",value:function(t){this.signals.animation.dispose(),this.signals.animationComplete.dispose(),this.autoUpdate=!1,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this,t)}},{key:"play",value:function(t){"boolean"==typeof t&&(this.looping=t),this._playing=!0}},{key:"stop",value:function(){this._playing=!1}},{key:"gotoAndPlay",value:function(t,e){"string"!=typeof t?this._currentFrame=this._lastFrame=t:this._frames[t]&&(this._currentFrame=this._lastFrame=0,this._currentAnimationName=t),"boolean"==typeof e&&(this.looping=e),this._playing=!0}},{key:"gotoAndStop",value:function(t){"string"!=typeof t?this._currentFrame=t:this._frames[t]&&(this._currentFrame=0,this._currentAnimationName=t),this._playing=!1;var e=this._frames[this._currentAnimationName],n=this._currentFrame+.5|0;this.texture=e[n%e.length].texture}},{key:"addFrameScript",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default";n=n||window,this._frames[i]&&(this._frames[i][t].callback=e,this._frames[i][t].scope=e?n|window:null)}},{key:"update",value:function(t){if(this._playing&&this.getTotalFrames()){this._autoUpdate&&(t=t/PIXI.settings.TARGET_FPMS/1e3),this._currentFrame+=this.animationSpeed*t;var e=this._frames[this._currentAnimationName],n=this._currentFrame+.5|0,i=n%(e.length+1);this._currentFrame=this._currentFrame%e.length,i>0&&i!==this._lastFrame&&(this._lastFrame=i,e[i-1].callback&&e[i-1].callback.call(e[i-1].scope)),this.looping||n<e.length?(this.texture=e[n%e.length].texture,n>=e.length-1&&this.signals.animation.dispatch(this,this._currentAnimationName)):n>=e.length-1&&(this.gotoAndStop(e.length-1),this.signals.animationComplete.dispatch(this,this._currentAnimationName))}}},{key:"getTotalFrames",value:function(t){t=t||this._defaultAnimation;var e=this._frames[t];return e?e.length:0}},{key:"playing",get:function(){return this._playing}},{key:"currentFrame",get:function(){return this._currentFrame}},{key:"currentAnimationFrame",get:function(){return this._currentAnimationName}},{key:"totalFrames",get:function(){return this.getTotalFrames()}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){var e=PIXI.ticker.shared;this._autoUpdate&&!t?e.remove(this.update,this):!this._autoUpdate&&t&&e.add(this.update,this),this._autoUpdate=t}}]),e}(PIXI.Sprite));n["default"]=h},{"./MovieClipSequence":14}],14:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(t){function e(t,n){i(this,e);var o=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.textures={},t&&o.addTextures(t,n),o}return o(e,t),r(e,[{key:"addTextures",value:function(t,e){e=e||"default",this.textures[e]=t}},{key:"removeTextures",value:function(t){t=t||"default",this.textures[t]=null}},{key:"removeAllTextures",value:function(){this.textures={}}}]),e}(PIXI.Container);n["default"]=a},{}],15:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function _(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:_(s,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=t("./Button"),h=i(l),c=t("ismobilejs"),f=i(c),d=function(t){function e(t){s(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._currentIconTexture=n.isEnabled()?n._states.icon:n._states.iconAlt,n._currentIconOverTexture=n.isEnabled()?n._states.iconOver:n._states.iconOverAlt,n._currentIconDownTexture=n.isEnabled()?n._states.iconDown:n._states.iconDownAlt,n._icon.texture=n._states.iconOver&&!f["default"].any?n._currentIconOverTexture:n._currentIconTexture,n}return r(e,t),a(e,[{key:"_onMouseClick",value:function(t){this._currentIconTexture=this.isEnabled()?this._states.iconAlt:this._states.icon,this._currentIconOverTexture=this.isEnabled()?this._states.iconOverAlt:this._states.iconOver,this._currentIconDownTexture=this.isEnabled()?this._states.iconDownAlt:this._states.iconDown,this._icon.texture=this._states.iconOver&&!f["default"].any?this._currentIconOverTexture:this._currentIconTexture,h["default"].audio&&h["default"].audio.mute(!h["default"].audio.isMute),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_onMouseClick",this).call(this,t)}},{key:"isEnabled",value:function(){return!!h["default"].audio&&!h["default"].audio.isMute}}]),e}(h["default"]);n["default"]=d},{"./Button":9,ismobilejs:1}],16:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function l(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:l(s,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=function(t){function e(){i(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.signals={next:new signals.Signal,previous:new signals.Signal,home:new signals.Signal,pause:new signals.Signal},t.loaded=!1,t.alwaysUpdate=!1,t.autoAppear=!0,t._tweens=[],t}return o(e,t),r(e,[{key:"preloader",value:function(){return new e}},{key:"load",value:function(){return[]}},{key:"unload",value:function(){}},{key:"init",value:function(){}},{key:"destroy",value:function(t){this.signals.next.dispose(),this.signals.previous.dispose(),this.signals.home.dispose(),this.signals.pause.dispose(),this.killAllTweens(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this,t)}},{key:"resize",value:function(){}},{key:"update",value:function(){}},{key:"appear",value:function(){this.animateIn()}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"animateIn",value:function(t,e){}},{key:"animateOut",value:function(t,e){}},{key:"addTween",value:function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;++n)this.addTween(arguments[t]);else this._tweens.indexOf(t)===-1?this._tweens.push(t):console.warn("Tween already added to scene!",t);return t}},{key:"removeTween",value:function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;++n)this.removeTween(arguments[t]);else{var i=this._tweens.indexOf(t);i!==-1&&(this._tweens[i].kill(),this._tweens.splice(i,1))}return t}},{key:"pauseAllTweens",value:function(){for(var t=0;t<this._tweens.length;++t)this._tweens[t].pause()}},{key:"resumeAllTweens",value:function(){for(var t=0;t<this._tweens.length;++t)this._tweens[t].resume()}},{key:"killAllTweens",value:function(){for(var t=0;t<this._tweens.length;++t)this._tweens[t].kill()}}]),e}(PIXI.Container);n["default"]=u},{}],17:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=t("./Scene"),a=(i(r),function(){function t(e){s(this,t),this.signals={next:new signals.Signal},this._view=new PIXI.Container,this._renderer=e,this._next=null,this._stack=[]}return o(t,[{key:"show",value:function(t){this._next={},this._next.type=0,this._next.scene=t}},{key:"add",value:function(t,e){this._next={},this._next.type=1,this._next.scene=t,this._next.replace=e}},{key:"swap",value:function(t,e){this._next={},this._next.type=2,this._next.scene=t,this._next.removeCount=Math.max(1,e)||1}},{key:"remove",value:function(t){this._next={},this._next.type=2,this._next.removeCount=Math.max(1,t)||1}},{key:"removeAll",value:function(){this._next={},this._next.type=3,this._next.removeCount=Number.MAX_SAFE_INTEGER}},{key:"clear",value:function(){if(!this._transitionInProgress){for(var t=0;t<this._stack.length;++t){var e=this._stack[t];e.parent&&(e.hide(),e.parent.removeChild(e)),e.destroy({children:!0})}this._stack.length=0}}},{key:"update",value:function(){if(this._next&&this._nextScene(),this._stack.length){this.top.update();for(var t=0;t<this._stack.length-1;++t){var e=this._stack[t];e.alwaysUpdate&&e.update()}}}},{key:"resize",value:function(){for(var t=0;t<this._view.children.length;++t){var e=this._view.children[t];e.resize&&e.resize()}}},{key:"_nextScene",value:function(){var t=this._next;this._next=null;var e=t.scene;if(this.top)switch(this.top.hide(),t.type){case 0:for(;this.top;)this._removeTop();break;case 1:if(t.replace)for(var n=this._stack.length-1;n>=0;--n){var i=this._stack[n];i.parent&&i.parent.removeChild(i)}break;case 2:for(var s=Math.min(this._stack.length,t.removeCount),o=0;o<s;++o)this._removeTop()}e?(e.init(),this._stack.push(e)):e=this.top,e&&(e.resize(),!e.parent&&this._view.addChild(e),e.show(),3!==t.type&&e.autoAppear&&e.appear()),console.log("stack:",this._stack),this.signals.next.dispatch(this,e)}},{key:"_removeTop",value:function(){this.top.parent&&this.top.parent.removeChild(this.top),this.top.destroy({children:!0}),this.top.unload(),this._stack.pop()}},{key:"view",get:function(){return this._view}},{key:"renderer",get:function(){return this._renderer}},{key:"top",get:function(){return this._stack.length?this._stack[this._stack.length-1]:null}}]),t}());n["default"]=a},{"./Scene":16}],18:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=t("ismobilejs"),a=i(r),u=function(){function t(e){s(this,t),this.signals={},this.signals.ready=new signals.Signal,this.signals.resize=new signals.Signal,this._options=Object.assign({},{width:0,height:0,holderId:"game",portrait:!1,rotateImageColor:16777215,aspectRatioFillHeight:!0},e),this._holder=null,this._canvas=null,this._iosfix=null,this._rotateImage=null,this._targetOrientation=this._options.portrait?"portrait":"landscape","complete"!==document.readyState?window.self.onload=this._onLoad.bind(this):this._onLoad()}return o(t,[{key:"resize",value:function(){var t=a["default"].any?document.documentElement.clientWidth:window.innerWidth,e=a["default"].any?document.documentElement.clientHeight:window.innerHeight;if(window.self===window.top?(this._holder.style.width=t+"px",this._holder.style.height=e+"px"):(this._holder.style.width="100%",this._holder.style.height="100%"),a["default"].apple.device&&(this._iosfix.style.height=parseInt(this._holder.style.height)+1+"px"),window.scrollTo(0,0),this._options.aspectRatioFillHeight){var n=t/this._options.width,i=this._options.height/e;this._updateDimensions(Math.floor(this._options.width*n*i),this._options.height)}else{var s=this._options.width/t,o=e/this._options.height;this._updateDimensions(this._options.width,Math.floor(this._options.height*o*s))}this.toggleRotate(!this.isCorrectOrientation),this.signals.resize.dispatch(this.isCorrectOrientation)}},{key:"toggleRotate",value:function(t){this._canvas.style.display=t?"none":"block",this._rotateImage.style.display=t?"block":"none"}},{key:"_createHolder",value:function(){navigator.isCocoonJS||(this._holder=document.getElementById(this._options.holderId),this._holder||(this._holder=document.createElement("div"),this._holder.id=this._options.holderId,document.body.appendChild(this._holder)),this._holder.style.position="absolute",this._holder.style.left=0,this._holder.style.top=0,this._holder.style.width=window.self.innerWidth+"px",this._holder.style.height=window.self.innerHeight+"px",t.holder=this._holder,a["default"].apple.device&&(this._iosfix=document.createElement("div"),this._iosfix.id="iosfix",this._iosfix.style.position="absolute",this._iosfix.style.left=0,this._iosfix.style.right=0,this._iosfix.style.top=0,this._iosfix.style.bottom=0,this._iosfix.style.width="100%",this._iosfix.style.height=this._holder.height+1,this._iosfix.style.visibility="hidden",document.body.appendChild(this._iosfix),t.iosfix=this._iosfix))}},{key:"_createCanvas",value:function(){navigator.isCocoonJS?(this._canvas=document.createElement("screencanvas"),this._canvas.id="canvas",this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._canvas.style.cssText="idtkscale:ScaleAspectFill;",document.body.appendChild(this._canvas)):(this._canvas=document.createElement("canvas"),this._canvas.id="canvas",this._canvas.tabIndex=1,this._canvas.style.position="absolute",this._canvas.style.left=0,this._canvas.style.right=0,this._canvas.style.top=0,this._canvas.style.bottom=0,this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style.overflow="visible",this._canvas.style.display="block",this._holder.appendChild(this._canvas)),t.canvas=this._canvas}},{key:"_createRotateImage",value:function(){navigator.isCocoonJS||(this._rotateImage=document.createElement("div"),this._rotateImage.id="rotateImage",this._rotateImage.style.position="absolute",this._rotateImage.style.left=0,this._rotateImage.style.top=0,this._rotateImage.style.width="100%",this._rotateImage.style.height="100%",this._rotateImage.style.marginLeft="auto",this._rotateImage.style.marginRight="0auto",this._rotateImage.style.overflow="visible",this._rotateImage.style.display="none",this._rotateImage.style.zIndex=1e3,this._rotateImage.style.backgroundImage=this._options.rotateImageUrl?"url("+this._options.rotateImageUrl+")":"",this._rotateImage.style.backgroundColor=this._options.rotateImageColor||16777215,this._rotateImage.style.backgroundPosition="50% 50%",this._rotateImage.style.backgroundRepeat="no-repeat",this._rotateImage.style.backgroundSize="100% auto",this._holder.appendChild(this._rotateImage),this._rotateImage.addEventListener("touchmove",function(t){return t.preventDefault(),!1}),this._rotateImage.addEventListener("touchstart",function(t){return t.preventDefault(),!1}),this._rotateImage.addEventListener("touchend",function(t){return t.preventDefault(),!1}))}},{key:"_updateDimensions",value:function(e,n){t.width=this._width=Math.round(e),t.height=this._height=Math.round(n),t.center.x=Math.round(.5*e),t.center.y=Math.round(.5*n)}},{key:"_disableInteractions",value:function(){t.canvas.addEventListener("touchmove",function(t){return t.preventDefault(),!1}),t.canvas.addEventListener("touchstart",function(t){return t.preventDefault(),!1}),t.canvas.addEventListener("touchend",function(t){return t.preventDefault(),!1}),a["default"].android.device&&(t.canvas.addEventListener("mousedown",function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},!1),t.canvas.addEventListener("mouseup",function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},!1),t.canvas.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},!1))}},{key:"_onLoad",value:function(){function t(){this._createHolder(),this._createCanvas(),this._createRotateImage(),this._disableInteractions(),navigator.isCocoonJS?(this.updateDimensions(this._options.width*(window.innerWidth/this._options.width)/(window.innerHeight/this._options.height),this._options.height),this.signals.ready.dispatch(this._canvas)):(a["default"].android.device?window.self.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.self.addEventListener("resize",this._onResize.bind(this),!1),this.signals.ready.dispatch(this._canvas),this.resize())}var e=this;setTimeout(function(){t.call(e)},0)}},{key:"_onResize",value:function(t){this.resize()}},{key:"_onOrientationChange",value:function(t){function e(){window.self.removeEventListener("resize",e,!1),n.resize()}window.self.addEventListener("resize",e,!1);var n=this}},{key:"holder",get:function(){return this._holder}},{key:"options",get:function(){return this._options}},{key:"orientation",get:function(){return this._width>=this._height?"landscape":"portrait"}},{key:"isCorrectOrientation",get:function(){return!a["default"].any||this.orientation===this._targetOrientation}}]),t}();n["default"]=u,u.holder=null,u.canvas=null,u.width=0,u.height=0,u.center=new PIXI.Point},{ismobilejs:1}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.PI_2=2*Math.PI,n.RAD_TO_DEG=180/Math.PI,n.DEG_TO_RAD=Math.PI/180},{}],20:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var s=t("./const");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var o=t("./AssetManager");Object.defineProperty(n,"AssetManager",{enumerable:!0,get:function(){return i(o)["default"]}});var r=t("./Button");Object.defineProperty(n,"Button",{enumerable:!0,get:function(){return i(r)["default"]}});var a=t("./ButtonManager");Object.defineProperty(n,"ButtonManager",{enumerable:!0,get:function(){return i(a)["default"]}});var u=t("./ButtonStates");Object.defineProperty(n,"ButtonStates",{enumerable:!0,get:function(){return i(u)["default"]}});var l=t("./Input");Object.defineProperty(n,"Input",{enumerable:!0,get:function(){return i(l)["default"]}});var h=t("./MovieClip");Object.defineProperty(n,"MovieClip",{enumerable:!0,get:function(){return i(h)["default"]}});var c=t("./MovieClipSequence");Object.defineProperty(n,"MovieClipSequence",{enumerable:!0,get:function(){return i(c)["default"]}});var f=t("./MuteButton");Object.defineProperty(n,"MuteButton",{enumerable:!0,get:function(){return i(f)["default"]}});var d=t("./Scene");Object.defineProperty(n,"Scene",{enumerable:!0,get:function(){return i(d)["default"]}});var _=t("./SceneManager");Object.defineProperty(n,"SceneManager",{enumerable:!0,get:function(){return i(_)["default"]}});var p=t("./View");Object.defineProperty(n,"View",{enumerable:!0,get:function(){return i(p)["default"]}})},{"./AssetManager":8,"./Button":9,"./ButtonManager":10,"./ButtonStates":11,"./Input":12,"./MovieClip":13,"./MovieClipSequence":14,"./MuteButton":15,"./Scene":16,"./SceneManager":17,"./View":18,"./const":19}],21:[function(t,e,n){(function(e){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.utils=n.math=void 0;var s=t("./audio");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var o=t("./camera");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var r=t("./core");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var a=t("./math");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./transition");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var l=i(a),h=t("./utils"),c=i(h);n.math=l,n.utils=c,e.P3=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./audio":4,"./camera":7,"./core":20,"./math":24,"./transition":27,"./utils":29}],22:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(this,t),this._r=0,this._g=0,this._b=0,this._a=n,this._h=0,this._s=0,this._v=0,this.setHex(e)}return s(t,[{key:"setHex",value:function(e){"number"==typeof e&&(e=t.hexNumberToString(e));var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(n,function(t,e,n,i){return e+e+n+n+i+i}),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return s&&(this._r=parseInt(s[1],16)/255,this._g=parseInt(s[2],16)/255,this._b=parseInt(s[3],16)/255,this._updateHSV()),this}},{key:"setColor",value:function(t){return this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._h=t.h,this._s=t.s,this._v=t.v,this}},{key:"setRGB",value:function(t,e,n){return this._r=t,this._g=e,this._b=n,this._updateHSV(),this}},{key:"setRGBA",value:function(t,e,n,i){return this._a=i,this.setRGB(t,e,n),this}},{key:"setHSV",value:function(t,e,n){return this._h=t,this._s=e,this._v=n,this._updateRGB(),this}},{key:"desaturate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.59,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.11;return this._r=this._g*t+this._r*e+this._b*n,this._g=this._r,this._b=this._r,this._updateHSV(),this}},{key:"invert",value:function(){return this._r=1-this._r,this._g=1-this._g,this._b=1-this._b,this._updateHSV(),this}},{key:"lerp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e=Math.min(1,Math.max(0,e)),this._r=this._r*(1-e)+t.r*e,this._g=this._g*(1-e)+t.g*e,this._b=this._b*(1-e)+t.b*e,this._updateHSV(),this}},{key:"random",value:function(){return this._r=Math.random(),this._g=Math.random(),this._b=Math.random(),this._updateHSV(),this}},{key:"_normalize",value:function(){this._r=this._r<0?0:this._r>1?1:this._r,this._g=this._g<0?0:this._g>1?1:this._g,this._b=this._b<0?0:this._b>1?1:this._b,this._a=this._a<0?0:this._a>1?1:this._a,this._h=Number((this._h-Math.floor(this._h)).toPrecision(8)),this._s=this._s<0?0:this._s>1?1:this._s,this._v=this._v<0?0:this._v>1?1:this._v}},{key:"_updateRGB",value:function(){this._normalize();var t=Math.floor(6*this._h),e=6*this._h-t,n=this._v*(1-this._s),i=this._v*(1-e*this._s),s=this._v*(1-(1-e)*this._s);switch(t%6){case 0:this._r=this._v,this._g=s,this._b=n;break;case 1:this._r=i,this._g=this._v,this._b=n;break;case 2:this._r=n,this._g=this._v,this._b=s;break;case 3:this._r=n,this._g=i,this._b=this._v;break;case 4:this._r=s,this._g=n,this._b=this._v;break;case 5:this._r=this._v,this._g=n,this._b=i}}},{key:"_updateHSV",value:function(){this._normalize();var t=Math.max(this._r,this._g,this._b),e=Math.min(this._r,this._g,this._b),n=t-e,i=0,s=0,o=t;if(0==n)i=0,s=0;else{s=n/t;var r=60*(t-this._r)/n+180,a=60*(t-this._g)/n+180,u=60*(t-this._b)/n+180;i=this._r==t?u-a:this._g==t?120+r-u:240+a-r}i<0&&(i+=360),i>=360&&(i-=360),this._h=i/360,this._s=s,this._v=o}},{key:"toHex",value:function(){return"#"+((1<<24)+(Math.round(255*this._r)<<16)+(Math.round(255*this._g)<<8)+Math.round(255*this._b)).toString(16).slice(1)}},{key:"toNumber",value:function(){return(Math.round(255*this._r)<<16)+(Math.round(255*this._g)<<8)+Math.round(255*this._b)}},{key:"toCSS",value:function(){return"rgba("+Math.round(255*this._r)+","+Math.round(255*this._g)+","+Math.round(255*this._b)+","+this._a+")"}},{key:"r",get:function(){return this._r},set:function(t){this._r=t,this._updateHSV()}},{key:"g",get:function(){return this._g},set:function(t){this._g=t,this._updateHSV()}},{key:"b",get:function(){return this._b},set:function(t){this._b=t,this._updateHSV()}},{key:"a",get:function(){return this._a},set:function(t){this._a=t}},{key:"h",get:function(){return this._h},set:function(t){this._h=t,this._updateRGB()}},{key:"s",get:function(){return this._s},set:function(t){this._s=t,this._updateRGB()}},{key:"v",get:function(){return this._v},set:function(t){this._v=t,this._updateRGB()}},{key:"luminosity",get:function(){return.299*this._r+.587*this._g+.114*this._b}}],[{key:"hexNumberToString",value:function(t){var e="#000000",n=parseInt(t).toString(16);return e.substring(0,e.length-n.length)+n}}]),t}();n["default"]=o},{}],23:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.x=e,this.y=n}return s(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e)}},{key:"incrementBy",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"decrementBy",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"scaleBy",value:function(t){return this.x*=t,this.y*=t,this}},{key:"normalize",value:function(){var t=this.length;return t>0&&(this.x/=t,this.y/=t),this}},{key:"truncate",value:function(t){var e=this.length;return e>t&&(this.x/=e*t,this.y/=e*t),this}},{key:"normal",value:function(){return new t(this.y,(-this.x))}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"perp",value:function(t){return-this.y*t.x+this.x*t.y}},{key:"project",value:function(t){return t=t.clone().normalize(),t.scale(this.dot(t))}},{key:"angleBetween",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,s=e*this.y+n*this.x;return this.x=i,this.y=s,this}},{key:"rotateAround",value:function(t,e,n){return this.x-=t,this.y-=e,this.rotate(n),this.x+=t,this.y+=e,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copy",value:function(t){this.set(t.x,t.y)}},{key:"equals",value:function(t){return t.x===this.x&&t.x===this.y}},{key:"set",value:function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{key:"unit",value:function(){var t=this.clone();return t.normalize(),t}},{key:"angle",get:function(){return Math.atan2(this.y,this.x)}},{key:"length",get:function(){return Math.sqrt(this.lengthSq)}},{key:"lengthSq",get:function(){return this.x*this.x+this.y*this.y}}]),t}();n["default"]=o},{}],24:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){return Math.random()*(e-t)+t}function o(t,e){return Math.floor(Math.random()*(e-t+1))+t}function r(){return Math.random()<.5}function a(){return 2*o(0,1)-1}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,e);return Math.round(Math.floor(t*n)/n)}function l(t){
return Math.abs(t)>0?t/Math.abs(t):0}function h(t,e,n){return t<e?t=e:t>n&&(t=n),t}function c(t,e,n){return t+(e-t)*n}function f(t,e){return Number((t-Math.floor(t/e)*e).toPrecision(8))}Object.defineProperty(n,"__esModule",{value:!0});var d=t("./Color");Object.defineProperty(n,"Color",{enumerable:!0,get:function(){return i(d)["default"]}});var _=t("./Vector2");Object.defineProperty(n,"Vector2",{enumerable:!0,get:function(){return i(_)["default"]}}),n.random=s,n.randomInt=o,n.randomBool=r,n.randomSign=a,n.roundNum=u,n.sign=l,n.clamp=h,n.lerp=c,n.fmod=f},{"./Color":22,"./Vector2":23}],25:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:f(s,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=t("./Transition"),h=i(l),c=function(t){function e(t,n){s(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i._color=t||0,i._duration=n||.8,i._quad=null,i}return r(e,t),a(e,[{key:"init",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this._quad=new PIXI.Graphics,this._quad.visible=!1,this.addChild(this._quad),this.resize()}},{key:"in",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._quad.alpha=0,this._quad.visible=!0,TweenMax.to(this._quad,.5*this._duration,{delay:t,alpha:1,ease:Power2.easeInOut,onComplete:function(){this.signals["in"].dispatch(this)},onCompleteScope:this})}},{key:"out",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;TweenMax.to(this._quad,.5*this._duration,{delay:t,alpha:0,ease:Power2.easeInOut,onComplete:function(){this._quad.visible=!1,this.signals.out.dispatch(this)},onCompleteScope:this})}},{key:"resize",value:function(){this._quad.clear(),this._quad.beginFill(this._color),this._quad.drawRect(0,0,P3.View.width,P3.View.height),this._quad.endFill()}},{key:"color",get:function(){return this._color}},{key:"duration",get:function(){return this._duration}}]),e}(h["default"]);n["default"]=c},{"./Transition":26}],26:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function l(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:l(s,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=function(t){function e(){i(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.signals={},t.signals["in"]=new signals.Signal,t.signals.out=new signals.Signal,t.on("added",t.init,t),t}return o(e,t),r(e,[{key:"init",value:function(){this.off("added",this.init),this.interactive=!0}},{key:"destroy",value:function(t){this.signals["in"].dispose(),this.signals.out.dispose(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this,t)}},{key:"in",value:function(){this.signals["in"].dispatch(this)}},{key:"out",value:function(){this.signals.out.dispatch(this)}},{key:"resize",value:function(){}}]),e}(PIXI.Container);n["default"]=u},{}],27:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FadeTransition");Object.defineProperty(n,"FadeTransition",{enumerable:!0,get:function(){return i(s)["default"]}});var o=t("./Transition");Object.defineProperty(n,"Transition",{enumerable:!0,get:function(){return i(o)["default"]}})},{"./FadeTransition":25,"./Transition":26}],28:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n,s){i(this,t),this._t=e,this._args=s||[],this._free=[],this._used=[],this.expand(Math.max(1,n))}return s(t,[{key:"destroy",value:function(){for(var t=0;t<this._free.length;++t){var e=this._free[t];e&&e.destroy&&e.destroy()}this._free.length=0;for(var n=0;n<this._used.length;++n){var i=this._used[n];i&&i.destroy&&i.destroy()}this._used.length=0}},{key:"expand",value:function(t){for(var e=0;e<t;++e){var n=Object.create(this._t.prototype);n.constructor=this._t,this._t.apply(n,this._args),this._free.push(n)}}},{key:"create",value:function(){var t=this._free.shift();return t?(t.init&&t.init(),this._used.push(t),t):null}},{key:"free",value:function(t){var e=this._used.indexOf(t);return e!==-1&&(t.reset&&t.reset(),this._free.push(t),this._used.splice(e,1)),e!==-1}},{key:"baseClass",get:function(){return this._t}},{key:"size",get:function(){return this._free.length+this._used.length}},{key:"available",get:function(){return this._free.length}}]),t}();n["default"]=o},{}],29:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.create(Object.getPrototypeOf(t));return o(n,t,e),n}function o(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object.getOwnPropertyNames(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s),n&&"object"===l(s.value)&&null!==s.value&&(t[i]=P3.utils.copyObject(e[i],n))}),t}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.abs(t),i=Math.max(0,e-Math.floor(n).toString().length),s=Math.pow(10,i).toString().substr(1);return n<0&&(s="-"+s),s+n}function a(t){return t[Math.floor(Math.random()*t.length)]}function u(){return"undefined"!=typeof navigator.isCocoonJS}Object.defineProperty(n,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=t("./ObjectPool");Object.defineProperty(n,"ObjectPool",{enumerable:!0,get:function(){return i(h)["default"]}}),n.copyObject=s,n.copyOwnPropertiesFrom=o,n.padNum=r,n.selectRandom=a,n.isCocoonJS=u},{"./ObjectPool":28}]},{},[21]);
//# sourceMappingURL=p3.min.js.map
